"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8944],{8944:(y,m,i)=>{i.r(m),i.d(m,{SetSupermercadosPageModule:()=>T});var u=i(9808),c=i(4182),n=i(8962),p=i(2589),l=i(655),e=i(6435),g=i(1343),S=i(3963),h=i(3602),f=i(5739);function v(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"ion-item")(2,"ion-buttons",7)(3,"ion-button",8),e.NdJ("click",function(){return e.CHM(o),e.oxw().enableNewSupermercado=!1}),e._UZ(4,"ion-icon",9),e.qZA(),e.TgZ(5,"ion-button",8),e.NdJ("click",function(){return e.CHM(o),e.oxw().guardarSupermercado()}),e._UZ(6,"ion-icon",10),e.qZA()()(),e.TgZ(7,"h3",5),e._uU(8,"Ingrese datos de la Supermercado"),e.qZA(),e.TgZ(9,"ion-item")(10,"ion-label",11),e._uU(11," Nombre: "),e.qZA(),e.TgZ(12,"ion-input",12),e.NdJ("ngModelChange",function(s){return e.CHM(o),e.oxw().newSupermercado.nombre=s}),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(12),e.Q6J("ngModel",o.newSupermercado.nombre)}}function Z(t,a){if(1&t&&(e.TgZ(0,"ion-item")(1,"ion-label",13),e._uU(2),e.qZA()()),2&t){const o=a.$implicit;e.xp6(2),e.hij(" ",o.nombre,"")}}const b=[{path:"",component:(()=>{class t{constructor(o,r,s,d,P,x,C){this.firestoreSvc=o,this.loadingController=r,this.toastController=s,this.alertController=d,this.pagesInfoSvc=P,this.interactionSvc=x,this.authSvc=C,this.supermercados=[],this.localId=null,this.infoIUser=null,this.enableNewSupermercado=!1}ngOnInit(){this.authSvc.stateUser().subscribe(o=>{this.getLocalId()}),this.getsupermercados()}getLocalId(){return(0,l.mG)(this,void 0,void 0,function*(){const o=yield this.authSvc.getLocalId();o?(this.localId=o,console.log(this.localId),this.getInfoUser()):console.log("No existe localId")})}getInfoUser(){this.firestoreSvc.getDocument("Usuarios",this.localId).subscribe(s=>{s&&(this.infoIUser=s),console.log("los datos son ->",s)})}getsupermercados(){this.firestoreSvc.getCollection("Supermercados").subscribe(r=>{this.supermercados=r})}guardarSupermercado(){return(0,l.mG)(this,void 0,void 0,function*(){this.interactionSvc.presentLoading(),this.firestoreSvc.createDocument(this.newSupermercado,"Supermercados",this.newSupermercado.id).then(r=>(0,l.mG)(this,void 0,void 0,function*(){this.interactionSvc.presentToast("guardado con exito",2e3),this.interactionSvc.loading.dismiss()})).catch(r=>{this.interactionSvc.presentToast("no se pudo guardar",2e3)})})}finishLoading(){return(0,l.mG)(this,void 0,void 0,function*(){this.loading=!1,yield this.loadingController.dismiss()})}nuevo(){this.enableNewSupermercado=!0,this.newSupermercado={id:this.firestoreSvc.createId(),nombre:"",ubicacion:""}}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.C),e.Y36(n.HT),e.Y36(n.yF),e.Y36(n.Br),e.Y36(S.A),e.Y36(h.k),e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-set-supermercados"]],decls:15,vars:2,consts:[["color","secondary"],["slot","start"],[2,"text-align","end","margin","10px"],["ngDefaultControl","","color","dark",1,"normal",3,"click"],[4,"ngIf"],[1,"subtitulo","encabezado"],[4,"ngFor","ngForOf"],["slot","end"],[3,"click"],["slot","icon-only","name","close"],["color","primary","slot","icon-only","name","save-sharp"],["position","floating",1,"normal"],["type","text","inputmode","text",1,"normal",3,"ngModel","ngModelChange"],[1,"normal"]],template:function(o,r){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button"),e._UZ(4,"ion-menu-button"),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Supermercadoes"),e.qZA()()(),e.TgZ(7,"ion-content")(8,"div",2)(9,"ion-button",3),e.NdJ("click",function(){return r.nuevo()}),e._uU(10," nuevo"),e.qZA()(),e.YNc(11,v,13,1,"div",4),e.TgZ(12,"h3",5),e._uU(13,"Lista de Supermercadoes"),e.qZA(),e.YNc(14,Z,3,1,"ion-item",6),e.qZA()),2&o&&(e.xp6(11),e.Q6J("ngIf",r.enableNewSupermercado),e.xp6(3),e.Q6J("ngForOf",r.supermercados))},directives:[n.Gu,n.sr,n.Sm,n.YG,n.fG,n.wd,n.W2,c.Fj,u.O5,n.Ie,n.gu,n.Q$,n.pK,n.j9,c.JJ,c.On,u.sg],styles:[""]}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(b)],p.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,c.u5,n.Pc,I]]}),t})()}}]);