(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(an,ct,M)=>{"use strict";M.d(ct,{nm:()=>ee});var a=M(6351);M(6435),M(5867);var ut=M(5861),ke=M(9681),at=M(4859),_t=M(2090),He=M(1877);const wt=new Map,ve={activated:!1,tokenObservers:[]},Ve={initialized:!1,enabled:!1};function me(rt){return wt.get(rt)||ve}function Te(rt,tt){wt.set(rt,tt)}function De(){return Ve}class ze{constructor(tt,mt,Bt,nn,Dn){if(this.operation=tt,this.retryPolicy=mt,this.getWaitDuration=Bt,this.lowerBound=nn,this.upperBound=Dn,this.pending=null,this.nextErrorWaitInterval=nn,nn>Dn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(tt){var mt=this;return(0,ut.Z)(function*(){mt.stop();try{mt.pending=new _t.BH,yield function lt(rt){return new Promise(tt=>{setTimeout(tt,rt)})}(mt.getNextRun(tt)),mt.pending.resolve(),yield mt.pending.promise,mt.pending=new _t.BH,yield mt.operation(),mt.pending.resolve(),yield mt.pending.promise,mt.process(!0).catch(()=>{})}catch(Bt){mt.retryPolicy(Bt)?mt.process(!1).catch(()=>{}):mt.stop()}})()}getNextRun(tt){if(tt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const mt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),mt}}}const et=new _t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Oe(rt){if(!me(rt).activated)throw et.create("use-before-activation",{appName:rt.name})}function ln(rt,tt){return pn.apply(this,arguments)}function pn(){return(pn=(0,ut.Z)(function*({url:rt,body:tt},mt){const Bt={"Content-Type":"application/json"},nn=mt.getImmediate({optional:!0});if(nn){const es=yield nn.getHeartbeatsHeader();es&&(Bt["X-Firebase-Client"]=es)}const Dn={method:"POST",body:JSON.stringify(tt),headers:Bt};let xr,$r;try{xr=yield fetch(rt,Dn)}catch(es){throw et.create("fetch-network-error",{originalErrorMessage:es.message})}if(200!==xr.status)throw et.create("fetch-status-error",{httpStatus:xr.status});try{$r=yield xr.json()}catch(es){throw et.create("fetch-parse-error",{originalErrorMessage:es.message})}const br=$r.ttl.match(/^([\d.]+)(s)$/);if(!br||!br[2]||isNaN(Number(br[1])))throw et.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$r.ttl}`});const di=1e3*Number(br[1]),Ri=Date.now();return{token:$r.attestationToken,expireTimeMillis:Ri+di,issuedAtTimeMillis:Ri}})).apply(this,arguments)}function jn(rt,tt){const{projectId:mt,appId:Bt,apiKey:nn}=rt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${mt}/apps/${Bt}:exchangeDebugToken?key=${nn}`,body:{debug_token:tt}}}const nr="firebase-app-check-store";let Gn=null;function Zn(){return Gn||(Gn=new Promise((rt,tt)=>{try{const mt=indexedDB.open("firebase-app-check-database",1);mt.onsuccess=Bt=>{rt(Bt.target.result)},mt.onerror=Bt=>{var nn;tt(et.create("storage-open",{originalErrorMessage:null===(nn=Bt.target.error)||void 0===nn?void 0:nn.message}))},mt.onupgradeneeded=Bt=>{0===Bt.oldVersion&&Bt.target.result.createObjectStore(nr,{keyPath:"compositeKey"})}}catch(mt){tt(et.create("storage-open",{originalErrorMessage:mt.message}))}}),Gn)}function xt(){return(xt=(0,ut.Z)(function*(rt,tt){const Bt=(yield Zn()).transaction(nr,"readwrite"),Dn=Bt.objectStore(nr).put({compositeKey:rt,value:tt});return new Promise((xr,$r)=>{Dn.onsuccess=br=>{xr()},Bt.onerror=br=>{var di;$r(et.create("storage-set",{originalErrorMessage:null===(di=br.target.error)||void 0===di?void 0:di.message}))}})})).apply(this,arguments)}const qn=new He.Yd("@firebase/app-check");function fr(rt,tt){return(0,_t.hl)()?function At(rt,tt){return function jt(rt,tt){return xt.apply(this,arguments)}(function ar(rt){return`${rt.options.appId}-${rt.name}`}(rt),tt)}(rt,tt).catch(mt=>{qn.warn(`Failed to write token to IndexedDB. Error: ${mt}`)}):Promise.resolve()}function Mn(){return De().enabled}function Kn(){return cn.apply(this,arguments)}function cn(){return(cn=(0,ut.Z)(function*(){const rt=De();if(rt.enabled&&rt.token)return rt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xt={error:"UNKNOWN_ERROR"};function Cn(rt){return _t.US.encodeString(JSON.stringify(rt),!1)}function _n(rt){return Un.apply(this,arguments)}function Un(){return(Un=(0,ut.Z)(function*(rt,tt=!1){const mt=rt.app;Oe(mt);const Bt=me(mt);let Dn,nn=Bt.token;if(!nn){const br=yield Bt.cachedTokenPromise;br&&Ee(br)&&(nn=br)}if(!tt&&nn&&Ee(nn))return{token:nn.token};let $r,xr=!1;if(Mn()){Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=ln(jn(mt,yield Kn()),rt.heartbeatServiceProvider).then(di=>(Bt.exchangeTokenPromise=void 0,di)),xr=!0);const br=yield Bt.exchangeTokenPromise;return yield fr(mt,br),Te(mt,Object.assign(Object.assign({},Bt),{token:br})),{token:br.token}}try{Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Bt.provider.getToken().then(br=>(Bt.exchangeTokenPromise=void 0,br)),xr=!0),nn=yield Bt.exchangeTokenPromise}catch(br){"appCheck/throttled"===br.code?qn.warn(br.message):qn.error(br),Dn=br}return nn?($r={token:nn.token},Te(mt,Object.assign(Object.assign({},Bt),{token:nn})),yield fr(mt,nn)):$r=Ae(Dn),xr&&ge(mt,$r),$r})).apply(this,arguments)}function we(rt,tt){const mt=me(rt),Bt=mt.tokenObservers.filter(nn=>nn.next!==tt);0===Bt.length&&mt.tokenRefresher&&mt.tokenRefresher.isRunning()&&mt.tokenRefresher.stop(),Te(rt,Object.assign(Object.assign({},mt),{tokenObservers:Bt}))}function Je(rt){const{app:tt}=rt,mt=me(tt);let Bt=mt.tokenRefresher;Bt||(Bt=function It(rt){const{app:tt}=rt;return new ze((0,ut.Z)(function*(){let Bt;if(Bt=me(tt).token?yield _n(rt,!0):yield _n(rt),Bt.error)throw Bt.error}),()=>!0,()=>{const mt=me(tt);if(mt.token){let Bt=mt.token.issuedAtTimeMillis+.5*(mt.token.expireTimeMillis-mt.token.issuedAtTimeMillis)+3e5;return Bt=Math.min(Bt,mt.token.expireTimeMillis-3e5),Math.max(0,Bt-Date.now())}return 0},3e4,96e4)}(rt),Te(tt,Object.assign(Object.assign({},mt),{tokenRefresher:Bt}))),!Bt.isRunning()&&mt.isTokenAutoRefreshEnabled&&Bt.start()}function ge(rt,tt){const mt=me(rt).tokenObservers;for(const Bt of mt)try{"EXTERNAL"===Bt.type&&null!=tt.error?Bt.error(tt.error):Bt.next(tt)}catch(nn){}}function Ee(rt){return rt.expireTimeMillis-Date.now()>0}function Ae(rt){return{token:Cn(Xt),error:rt}}class We{constructor(tt,mt){this.app=tt,this.heartbeatServiceProvider=mt}_delete(){const{tokenObservers:tt}=me(this.app);for(const mt of tt)we(this.app,mt.next);return Promise.resolve()}}const ni="app-check-internal";!function zn(){(0,ke._registerComponent)(new at.wA("app-check",rt=>function Zt(rt,tt){return new We(rt,tt)}(rt.getProvider("app").getImmediate(),rt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((rt,tt,mt)=>{rt.getProvider(ni).initialize()})),(0,ke._registerComponent)(new at.wA(ni,rt=>function bn(rt){return{getToken:tt=>_n(rt,tt),addTokenListener:tt=>function Le(rt,tt,mt,Bt){const{app:nn}=rt,Dn=me(nn),xr={next:mt,error:Bt,type:tt};if(Te(nn,Object.assign(Object.assign({},Dn),{tokenObservers:[...Dn.tokenObservers,xr]})),Dn.token&&Ee(Dn.token)){const $r=Dn.token;Promise.resolve().then(()=>{mt({token:$r.token}),Je(rt)}).catch(()=>{})}Dn.cachedTokenPromise.then(()=>Je(rt))}(rt,"INTERNAL",tt),removeTokenListener:tt=>we(rt.app,tt)}}(rt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)("@firebase/app-check","0.5.5")}();class ee{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},4941:(an,ct,M)=>{"use strict";M.d(ct,{zQ:()=>bt,ww:()=>pt,rT:()=>De,f7:()=>qt,L6:()=>me,_Q:()=>Te,lh:()=>qe,Qv:()=>Ve,nw:()=>tn});var a=M(6435),b=M(8929),U=M(1086),Ce=M(2916),Ie=M(5254),K=M(6787),he=M(341),_e=M(2654),pe=M(2102),X=M(5279),J=M(5283);class se extends b.xQ{constructor(ze=Number.POSITIVE_INFINITY,lt=Number.POSITIVE_INFINITY,gt){super(),this.scheduler=gt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ze<1?1:ze,this._windowTime=lt<1?1:lt,lt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ze){if(!this.isStopped){const lt=this._events;lt.push(ze),lt.length>this._bufferSize&&lt.shift()}super.next(ze)}nextTimeWindow(ze){this.isStopped||(this._events.push(new Z(this._getNow(),ze)),this._trimBufferThenGetEvents()),super.next(ze)}_subscribe(ze){const lt=this._infiniteTimeWindow,gt=lt?this._events:this._trimBufferThenGetEvents(),et=this.scheduler,je=gt.length;let Oe;if(this.closed)throw new X.N;if(this.isStopped||this.hasError?Oe=_e.w.EMPTY:(this.observers.push(ze),Oe=new J.W(this,ze)),et&&ze.add(ze=new pe.ht(ze,et)),lt)for(let Dt=0;Dt<je&&!ze.closed;Dt++)ze.next(gt[Dt]);else for(let Dt=0;Dt<je&&!ze.closed;Dt++)ze.next(gt[Dt].value);return this.hasError?ze.error(this.thrownError):this.isStopped&&ze.complete(),Oe}_getNow(){return(this.scheduler||he.c).now()}_trimBufferThenGetEvents(){const ze=this._getNow(),lt=this._bufferSize,gt=this._windowTime,et=this._events,je=et.length;let Oe=0;for(;Oe<je&&!(ze-et[Oe].time<gt);)Oe++;return je>lt&&(Oe=Math.max(Oe,je-lt)),Oe>0&&et.splice(0,Oe),et}}class Z{constructor(ze,lt){this.time=ze,this.value=lt}}function Ne(dt,ze,lt){let gt;return gt=dt&&"object"==typeof dt?dt:{bufferSize:dt,windowTime:ze,refCount:!1,scheduler:lt},et=>et.lift(function Xe({bufferSize:dt=Number.POSITIVE_INFINITY,windowTime:ze=Number.POSITIVE_INFINITY,refCount:lt,scheduler:gt}){let et,Oe,je=0,Dt=!1,Gt=!1;return function(ln){let pn;je++,!et||Dt?(Dt=!1,et=new se(dt,ze,gt),pn=et.subscribe(this),Oe=ln.subscribe({next(or){et.next(or)},error(or){Dt=!0,et.error(or)},complete(){Gt=!0,Oe=void 0,et.complete()}}),Gt&&(Oe=void 0)):pn=et.subscribe(this),this.add(()=>{je--,pn.unsubscribe(),pn=void 0,Oe&&!Gt&&lt&&0===je&&(Oe.unsubscribe(),Oe=void 0,et=void 0)})}}(gt))}var fe=M(7545);function Pe(dt,ze){return ze?(0,fe.w)(()=>dt,ze):(0,fe.w)(()=>dt)}var ye=M(4850),ot=M(7224),oe=M(8915),ut=M(2198),ke=M(6351),at=M(2011),_t=M(9808),He=M(440),wt=M(127);const Ve=new a.OlP("angularfire2.auth.use-emulator"),me=new a.OlP("angularfire2.auth.settings"),Te=new a.OlP("angularfire2.auth.tenant-id"),De=new a.OlP("angularfire2.auth.langugage-code"),qe=new a.OlP("angularfire2.auth.use-device-language"),qt=new a.OlP("angularfire.auth.persistence"),tn=(dt,ze,lt,gt,et,je,Oe,Dt)=>(0,at.cc)(`${dt.name}.auth`,"AngularFireAuth",dt.name,()=>{const Gt=ze.runOutsideAngular(()=>dt.auth());if(lt&&Gt.useEmulator(...lt),gt&&(Gt.tenantId=gt),Gt.languageCode=et,je&&Gt.useDeviceLanguage(),Oe)for(const[Yt,ln]of Object.entries(Oe))Gt.settings[Yt]=ln;return Dt&&Gt.setPersistence(Dt),Gt},[lt,gt,et,je,Oe,Dt]);let bt=(()=>{class dt{constructor(lt,gt,et,je,Oe,Dt,Gt,Yt,ln,pn,or,vn){const jn=new b.xQ,Ft=(0,U.of)(void 0).pipe((0,pe.QV)(Oe.outsideAngular),(0,fe.w)(()=>je.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,ye.U)(()=>(0,at.on)(lt,je,gt)),(0,ye.U)(Pn=>tn(Pn,je,Dt,Yt,ln,pn,Gt,or)),Ne({bufferSize:1,refCount:!1}));if((0,_t.PM)(et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,U.of)(null);else{Ft.pipe((0,ot.P)()).subscribe();const nr=Ft.pipe((0,fe.w)(Zn=>Zn.getRedirectResult().then(mn=>mn,()=>null)),ke.iC,Ne({bufferSize:1,refCount:!1})),Yn=Ft.pipe((0,fe.w)(Zn=>new Ce.y(mn=>({unsubscribe:je.runOutsideAngular(()=>Zn.onAuthStateChanged(At=>mn.next(At),At=>mn.error(At),()=>mn.complete()))})))),Gn=Ft.pipe((0,fe.w)(Zn=>new Ce.y(mn=>({unsubscribe:je.runOutsideAngular(()=>Zn.onIdTokenChanged(At=>mn.next(At),At=>mn.error(At),()=>mn.complete()))}))));this.authState=nr.pipe(Pe(Yn),(0,oe.R)(Oe.outsideAngular),(0,pe.QV)(Oe.insideAngular)),this.user=nr.pipe(Pe(Gn),(0,oe.R)(Oe.outsideAngular),(0,pe.QV)(Oe.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(Zn=>Zn?(0,Ie.D)(Zn.getIdToken()):(0,U.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(Zn=>Zn?(0,Ie.D)(Zn.getIdTokenResult()):(0,U.of)(null))),this.credential=(0,K.T)(nr,jn,this.authState.pipe((0,ut.h)(Zn=>!Zn))).pipe((0,ye.U)(Zn=>(null==Zn?void 0:Zn.user)?Zn:null),(0,oe.R)(Oe.outsideAngular),(0,pe.QV)(Oe.insideAngular))}return(0,at.pX)(this,Ft,je,{spy:{apply:(Pn,nr,Yn)=>{(Pn.startsWith("signIn")||Pn.startsWith("createUser"))&&Yn.then(Gn=>jn.next(Gn))}}})}}return dt.\u0275fac=function(lt){return new(lt||dt)(a.LFG(at.Dh),a.LFG(at.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ke.HU),a.LFG(Ve,8),a.LFG(me,8),a.LFG(Te,8),a.LFG(De,8),a.LFG(qe,8),a.LFG(qt,8),a.LFG(He.nm,8))},dt.\u0275prov=a.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"any"}),dt})(),pt=(()=>{class dt{constructor(){wt.Z.registerVersion("angularfire",ke.q4.full,"auth-compat")}}return dt.\u0275fac=function(lt){return new(lt||dt)},dt.\u0275mod=a.oAB({type:dt}),dt.\u0275inj=a.cJS({providers:[bt]}),dt})()},2796:(an,ct,M)=>{"use strict";M.d(ct,{ST:()=>wc,yb:()=>Zv});var a=M(6435),b=M(353),U=M(2916),Ce=M(5254),Ie=M(1086),K=M(6351),he=M(3489);function _e(){return i=>i.lift(new pe)}class pe{call(e,t){return t.subscribe(new X(e))}}class X extends he.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var ve,J=M(1059),se=M(4850),Z=M(2014),Ne=M(5778),Xe=M(2198),fe=M(2011),Pe=M(9808),ot=(M(5881),M(3942)),oe=M(5861),ut=M(9681),ke=M(4859),at=M(1877),_t=M(2090),He="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wt={},Ve=Ve||{},me=He||self;function Te(){}function De(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var tn="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function pt(i,e,t){return i.call.apply(i.bind,arguments)}function dt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function ze(i,e,t){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pt:dt).apply(null,arguments)}function lt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function gt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,l,h){for(var _=Array(arguments.length-2),x=2;x<arguments.length;x++)_[x-2]=arguments[x];return e.prototype[l].apply(o,_)}}function et(){this.s=this.s,this.o=this.o}var Oe={};et.prototype.s=!1,et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function qt(i){return Object.prototype.hasOwnProperty.call(i,tn)&&i[tn]||(i[tn]=++bt)}(this);delete Oe[i]}},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Gt=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in l&&e.call(t,l[h],h,i)};function ln(i){return Array.prototype.concat.apply([],arguments)}function pn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function or(i){return/^[\s\xa0]*$/.test(i)}var Pn,vn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function jn(i,e){return-1!=i.indexOf(e)}function Ft(i,e){return i<e?-1:i>e?1:0}e:{var nr=me.navigator;if(nr){var Yn=nr.userAgent;if(Yn){Pn=Yn;break e}}Pn=""}function Gn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Zn(i){const e={};for(const t in i)e[t]=i[t];return e}var mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function At(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let h=0;h<mn.length;h++)t=mn[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Ke(i){return Ke[" "](i),i}Ke[" "]=Te;var Fr,i,jt=jn(Pn,"Opera"),xt=jn(Pn,"Trident")||jn(Pn,"MSIE"),Ut=jn(Pn,"Edge"),Lt=Ut||xt,ar=jn(Pn,"Gecko")&&!(jn(Pn.toLowerCase(),"webkit")&&!jn(Pn,"Edge"))&&!(jn(Pn,"Trident")||jn(Pn,"MSIE"))&&!jn(Pn,"Edge"),qn=jn(Pn.toLowerCase(),"webkit")&&!jn(Pn,"Edge");function on(){var i=me.document;return i?i.documentMode:void 0}e:{var fr="",Vn=(i=Pn,ar?/rv:([^\);]+)(\)|;)/.exec(i):Ut?/Edge\/([\d\.]+)/.exec(i):xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):qn?/WebKit\/(\S+)/.exec(i):jt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Vn&&(fr=Vn?Vn[1]:""),xt){var In=on();if(null!=In&&In>parseFloat(fr)){Fr=String(In);break e}}Fr=fr}var Mn={};var Xt=me.document&&xt&&(on()||parseInt(Fr,10))||void 0,Cn=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{me.addEventListener("test",Te,e),me.removeEventListener("test",Te,e)}catch(t){}return i}();function _n(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Un(i,e){if(_n.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ar){e:{try{Ke(e.nodeName);var l=!0;break e}catch(h){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Le[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Un.Z.h.call(this)}}_n.prototype.h=function(){this.defaultPrevented=!0},gt(Un,_n);var Le={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Je=0;function It(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=l,this.key=++Je,this.ca=this.fa=!1}function ge(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ee(i){this.src=i,this.g={},this.h=0}function Ae(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],l=Dt(o,e);(h=0<=l)&&Array.prototype.splice.call(o,l,1),h&&(ge(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function We(i,e,t,o){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==o)return l}return-1}Ee.prototype.add=function(i,e,t,o,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var _=We(i,e,o,l);return-1<_?(e=i[_],t||(e.fa=!1)):((e=new It(e,this.src,h,!!o,l)).fa=t,i.push(e)),e};var Zt="closure_lm_"+(1e6*Math.random()|0),bn={};function Xn(i,e,t,o,l){if(o&&o.once)return Rn(i,e,t,o,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Xn(i,e[h],t,o,l);return null}return t=wr(t),i&&i[we]?i.N(e,t,qe(o)?!!o.capture:!!o,l):En(i,e,t,!1,o,l)}function En(i,e,t,o,l,h){if(!e)throw Error("Invalid event type");var _=qe(l)?!!l.capture:!!l,x=Yr(i);if(x||(i[Zt]=x=new Ee(i)),(t=x.add(e,t,o,_,h)).proxy)return t;if(o=function Jn(){var e=Or;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Cn||(l=_),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Rr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Rn(i,e,t,o,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Rn(i,e[h],t,o,l);return null}return t=wr(t),i&&i[we]?i.O(e,t,qe(o)?!!o.capture:!!o,l):En(i,e,t,!0,o,l)}function er(i,e,t,o,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)er(i,e[h],t,o,l);else o=qe(o)?!!o.capture:!!o,t=wr(t),i&&i[we]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=We(h=i.g[e],t,o,l))&&(ge(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=Yr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=We(e,t,o,l)),(t=-1<i?e[i]:null)&&tr(t))}function tr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[we])Ae(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Rr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Yr(e))?(Ae(t,i),0==t.h&&(t.src=null,e[Zt]=null)):ge(i)}}}function Rr(i){return i in bn?bn[i]:bn[i]="on"+i}function Or(i,e){if(i.ca)i=!0;else{e=new Un(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&tr(i),i=t.call(o,e)}return i}function Yr(i){return(i=i[Zt])instanceof Ee?i:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function wr(i){return"function"==typeof i?i:(i[Wr]||(i[Wr]=function(e){return i.handleEvent(e)}),i[Wr])}function rr(){et.call(this),this.i=new Ee(this),this.P=this,this.I=null}function mr(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new _n(e,i);else if(e instanceof _n)e.target=e.target||i;else{var l=e;At(e=new _n(o,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var _=e.g=t[h];l=gr(_,o,!0,e)&&l}if(l=gr(_=e.g=i,o,!0,e)&&l,l=gr(_,o,!1,e)&&l,t)for(h=0;h<t.length;h++)l=gr(_=e.g=t[h],o,!1,e)&&l}function gr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var _=e[h];if(_&&!_.ca&&_.capture==t){var x=_.listener,W=_.ia||_.src;_.fa&&Ae(i.i,_),l=!1!==x.call(W,o)&&l}}return l&&!o.defaultPrevented}gt(rr,et),rr.prototype[we]=!0,rr.prototype.removeEventListener=function(i,e,t,o){er(this,i,e,t,o)},rr.prototype.M=function(){if(rr.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)ge(t[o]);delete i.g[e],i.h--}}this.I=null},rr.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},rr.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Pr=me.JSON.stringify;function Lr(){var i=ci;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Br,kn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new _r,i=>i.reset());class _r{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dr(i){me.setTimeout(()=>{throw i},0)}function ri(i,e){Br||function si(){var i=me.Promise.resolve(void 0);Br=function(){i.then(ni)}}(),Hn||(Br(),Hn=!0),ci.add(i,e)}var Hn=!1,ci=new class en{constructor(){this.h=this.g=null}add(e,t){const o=kn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function ni(){for(var i;i=Lr();){try{i.h.call(i.g)}catch(t){dr(t)}var e=kn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Hn=!1}function zn(i,e){rr.call(this),this.h=i||1,this.g=e||me,this.j=ze(this.kb,this),this.l=Date.now()}function ui(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function ii(i,e,t){if("function"==typeof i)t&&(i=ze(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ze(i.handleEvent,i)}return 2147483647<Number(e)?-1:me.setTimeout(i,e||0)}function ee(i){i.g=ii(()=>{i.g=null,i.i&&(i.i=!1,ee(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}gt(zn,rr),(ve=zn.prototype).da=!1,ve.S=null,ve.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mr(this,"tick"),this.da&&(ui(this),this.start()))}},ve.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.M=function(){zn.Z.M.call(this),ui(this),delete this.g};class be extends et{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ee(this)}M(){super.M(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ie(i){et.call(this),this.h=i,this.g={}}gt(ie,et);var xe=[];function Qe(i,e,t,o){Array.isArray(t)||(t&&(xe[0]=t.toString()),t=xe);for(var l=0;l<t.length;l++){var h=Xn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function ht(i){Gn(i.g,function(e,t){this.g.hasOwnProperty(t)&&tr(e)},i),i.g={}}function vt(){this.g=!0}function $t(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function On(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var _=1;_<l.length;_++)l[_]=""}}}return Pr(t)}catch(x){return e}}(i,t)+(o?" "+o:"")})}ie.prototype.M=function(){ie.Z.M.call(this),ht(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vt.prototype.Aa=function(){this.g=!1},vt.prototype.info=function(){};var Bn={},cr=null;function Vr(){return cr=cr||new rr}function qr(i){_n.call(this,Bn.Ma,i)}function rt(i){const e=Vr();mr(e,new qr(e,i))}function tt(i,e){_n.call(this,Bn.STAT_EVENT,i),this.stat=e}function mt(i){const e=Vr();mr(e,new tt(e,i))}function Bt(i,e){_n.call(this,Bn.Na,i),this.size=e}function nn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){i()},e)}Bn.Ma="serverreachability",gt(qr,_n),Bn.STAT_EVENT="statevent",gt(tt,_n),Bn.Na="timingevent",gt(Bt,_n);var Dn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $r(){}function di(){}$r.prototype.h=null;var As,Ri={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function es(){_n.call(this,"d")}function Ei(){_n.call(this,"c")}function Oi(){}function hi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new ie(this),this.P=mi,this.W=new zn(i=Lt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}gt(es,_n),gt(Ei,_n),gt(Oi,$r),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},As=new Oi;var mi=45e3,Pi={},wi={};function fs(i,e,t){i.K=1,i.v=$(k(e)),i.s=t,i.U=!0,ds(i,null)}function ds(i,e){i.F=Date.now(),vi(i),i.A=k(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),T(t.h,"t",o),i.C=0,t=i.l.H,i.h=new zi,i.g=Ws(i.l,t?e:null,!i.s),0<i.O&&(i.L=new be(ze(i.Ia,i,i.g),i.O)),Qe(i.V,i.g,"readystatechange",i.gb),e=i.H?Zn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),rt(1),function Nt(i,e,t,o,l,h){i.info(function(){if(i.g)if(h)for(var _="",x=h.split("&"),W=0;W<x.length;W++){var re=x[W].split("=");if(1<re.length){var Ue=re[0];re=re[1];var it=Ue.split("_");_=2<=it.length&&"type"==it[1]?_+(Ue+"=")+re+"&":_+(Ue+"=redacted&")}}else _=null;else _=h;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(i.j,i.u,i.A,i.m,i.X,i.s)}function yi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ps(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Ii(i,t),l==wi){4==e&&(i.o=4,mt(14),o=!1),$t(i.j,i.m,null,"[Incomplete Response]");break}if(l==Pi){i.o=4,mt(15),$t(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}$t(i.j,i.m,l,null),Ze(i,l)}yi(i)&&l!=wi&&l!=Pi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,mt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Li(e),e.L=!0,mt(11))):($t(i.j,i.m,t,"[Invalid Chunked Response]"),Me(i),q(i))}function Ii(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?wi:(t=Number(e.substring(t,o)),isNaN(t)?Pi:(o+=1)+t>e.length?wi:(e=e.substr(o,t),i.C=o+t,e))}function vi(i){i.Y=Date.now()+i.P,gs(i,i.P)}function gs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=nn(ze(i.eb,i),e)}function Y(i){i.B&&(me.clearTimeout(i.B),i.B=null)}function q(i){0==i.l.G||i.I||co(i.l,i)}function Me(i){Y(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ui(i.W),ht(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ze(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||xi(t.i,i)))if(t.I=i.N,!i.J&&xi(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(re){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=nn(ze(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;io(t),aa(t)}Sa(t),mt(18)}if(1>=Ai(t.i)&&t.ka){try{t.ka()}catch(re){}t.ka=void 0}}else ms(t,11)}else if((i.J||t.g==i)&&io(t),!or(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let re=l[e];if(t.U=re[0],re=re[1],2==t.G)if("c"==re[0]){t.J=re[1],t.la=re[2];const Ue=re[3];null!=Ue&&(t.ma=Ue,t.h.info("VER="+t.ma));const it=re[4];null!=it&&(t.za=it,t.h.info("SVER="+t.za));const Rt=re[5];null!=Rt&&"number"==typeof Rt&&0<Rt&&(t.K=o=1.5*Rt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Qt=i.g;if(Qt){const dn=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dn){var h=o.i;!h.g&&(jn(dn,"spdy")||jn(dn,"quic")||jn(dn,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Kt(h,h.h),h.h=null))}if(o.D){const Qn=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Qn&&(o.sa=Qn,P(o.F,o.D,Qn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var _=i;if((o=t).oa=Aa(o,o.H?o.la:null,o.W),_.J){jr(o.i,_);var x=_,W=o.K;W&&x.setTimeout(W),x.B&&(Y(x),vi(x)),o.g=_}else Xa(o);0<t.l.length&&Wi(t)}else"stop"!=re[0]&&"close"!=re[0]||ms(t,7);else 3==t.G&&("stop"==re[0]||"close"==re[0]?"stop"==re[0]?ms(t,7):Au(t):"noop"!=re[0]&&t.j&&t.j.wa(re),t.A=0)}rt(4)}catch(re){}}function Ot(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(De(i)||"string"==typeof i)Gt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(De(i)||"string"==typeof i){t=[];for(var o=i.length,l=0;l<o;l++)t.push(l)}else for(l in t=[],o=0,i)t[o++]=l;o=function yt(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(De(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length;for(var h=0;h<l;h++)e.call(void 0,o[h],t&&t[h],i)}}function rn(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof rn)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Tn(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];fn(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)fn(l,o=i.g[e])||(i.g[t++]=o,l[o]=1),e++;i.g.length=t}}function fn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ve=hi.prototype).setTimeout=function(i){this.P=i},ve.gb=function(i){i=i.target;const e=this.L;e&&3==zs(i)?e.l():this.Ia(i)},ve.Ia=function(i){try{if(i==this.g)e:{const Ue=zs(this.g);var e=this.g.Da();const it=this.g.ba();if(!(3>Ue)&&(3!=Ue||Lt||this.g&&(this.h.h||this.g.ga()||sa(this.g)))){this.I||4!=Ue||7==e||rt(8==e||0>=it?3:2),Y(this);var t=this.g.ba();this.N=t;t:if(yi(this)){var o=sa(this.g);i="";var l=o.length,h=4==zs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Me(this),q(this);var _="";break t}this.h.i=new me.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==t,function kt(i,e,t,o,l,h,_){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+_})}(this.j,this.u,this.A,this.m,this.X,Ue,t),this.i){if(this.$&&!this.J){t:{if(this.g){var x,W=this.g;if((x=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(x)){var re=x;break t}}re=null}if(!(t=re)){this.i=!1,this.o=3,mt(12),Me(this),q(this);break e}$t(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ze(this,t)}this.U?(ps(this,Ue,_),Lt&&this.i&&3==Ue&&(Qe(this.V,this.W,"tick",this.fb),this.W.start())):($t(this.j,this.m,_,null),Ze(this,_)),4==Ue&&Me(this),this.i&&!this.I&&(4==Ue?co(this.l,this):(this.i=!1,vi(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),Me(this),q(this)}}}catch(Ue){}},ve.fb=function(){if(this.g){var i=zs(this.g),e=this.g.ga();this.C<e.length&&(Y(this),ps(this,i,e),this.i&&4!=i&&vi(this))}},ve.cancel=function(){this.I=!0,Me(this)},ve.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function yn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rt(3),mt(17)),Me(this),this.o=2,q(this)):gs(this,this.Y-i)},(ve=rn.prototype).R=function(){Tn(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ve.T=function(){return Tn(this),this.g.concat()},ve.get=function(i,e){return fn(this.h,i)?this.h[i]:e},ve.set=function(i,e){fn(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ve.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var l=t[o],h=this.get(l);i.call(e,h,l,this)}};var ur=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ur(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ur){this.g=void 0!==e?e:i.g,Q(this,i.j),this.s=i.s,B(this,i.i),ae(this,i.m),this.l=i.l,e=i.h;var t=new V;t.i=e.i,e.g&&(t.g=new rn(e.g),t.h=e.h),Fe(this,t),this.o=i.o}else i&&(t=String(i).match(ur))?(this.g=!!e,Q(this,t[1]||"",!0),this.s=Ge(t[2]||""),B(this,t[3]||"",!0),ae(this,t[4]),this.l=Ge(t[5]||"",!0),Fe(this,t[6]||"",!0),this.o=Ge(t[7]||"")):(this.g=!!e,this.h=new V(null,this.g))}function k(i){return new Ur(i)}function Q(i,e,t){i.j=t?Ge(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function B(i,e,t){i.i=t?Ge(e,!0):e}function ae(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Fe(i,e,t){e instanceof V?(i.h=e,function Tt(i,e){e&&!i.j&&(de(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(S(this,o),T(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Pt(e,L)),i.h=new V(e,i.g))}function P(i,e,t){i.h.set(e,t)}function $(i){return P(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ge(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Pt(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,zt),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function zt(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ur.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Pt(e,Wn,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Pt(e,Wn,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Pt(t,"/"==t.charAt(0)?g:Sn,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Pt(t,m)),i.join("")};var Wn=/[#\/\?@]/g,Sn=/[#\?:]/g,g=/[#\?]/g,L=/[#\?@]/g,m=/#/g;function V(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function de(i){i.g||(i.g=new rn,i.h=0,i.i&&function Ir(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var h=i[t].substring(0,o);l=i[t].substring(o+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function S(i,e){de(i),e=G(i,e),fn(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,fn((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Tn(i)))}function A(i,e){return de(i),e=G(i,e),fn(i.g.h,e)}function T(i,e,t){S(i,e),0<t.length&&(i.i=null,i.g.set(G(i,e),pn(t)),i.h+=t.length)}function G(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Er(i){this.l=i||Zr,i=me.PerformanceNavigationTiming?0<(i=me.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(me.g&&me.g.Ea&&me.g.Ea()&&me.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=V.prototype).add=function(i,e){de(this),this.i=null,i=G(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(i,e){de(this),this.g.forEach(function(t,o){Gt(t,function(l){i.call(e,l,o,this)},this)},this)},ve.T=function(){de(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var l=i[o],h=0;h<l.length;h++)t.push(e[o]);return t},ve.R=function(i){de(this);var e=[];if("string"==typeof i)A(this,i)&&(e=ln(e,this.g.get(G(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=ln(e,i[t])}return e},ve.set=function(i,e){return de(this),this.i=null,A(this,i=G(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ve.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],l=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var _=l;""!==o[h]&&(_+="="+encodeURIComponent(String(o[h]))),i.push(_)}}return this.i=i.join("&")};var Zr=10;function Ci(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ai(i){return i.h?1:i.g?i.g.size:0}function xi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Kt(i,e){i.g?i.g.add(e):i.h=e}function jr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ka(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return pn(i.i)}function fi(){}function Du(){this.g=new fi}function Gs(i,e,t){const o=t||"";try{Ot(i,function(l,h){let _=l;qe(l)&&(_=Pr(l)),e.push(o+h+"="+encodeURIComponent(_))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function uo(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(h){}}function _s(i){this.l=i.$b||null,this.j=i.ib||!1}function Ca(i,e){rr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=bo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Er.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},fi.prototype.stringify=function(i){return me.JSON.stringify(i,void 0)},fi.prototype.parse=function(i){return me.JSON.parse(i,void 0)},gt(_s,$r),_s.prototype.g=function(){return new Ca(this.l,this.j)},_s.prototype.i=function(i){return function(){return i}}({}),gt(Ca,rr);var bo=0;function na(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ms(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Fi(i)}function Fi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ve=Ca.prototype).open=function(i,e){if(this.readyState!=bo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Fi(this)},ve.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||me).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ms(this)),this.readyState=bo},ve.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==me.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;na(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ve.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ms(this):Fi(this),3==this.readyState&&na(this)}},ve.Ua=function(i){this.g&&(this.response=this.responseText=i,Ms(this))},ve.Ta=function(i){this.g&&(this.response=i,Ms(this))},ve.ha=function(){this.g&&Ms(this)},ve.setRequestHeader=function(i,e){this.v.append(i,e)},ve.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var bs=me.JSON.parse;function Di(i){rr.call(this),this.headers=new rn,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ls,this.K=this.L=!1}gt(Di,rr);var Ls="",ro=/^https?$/i,Vo=["POST","PUT"];function Qu(i){return"content-type"==i.toLowerCase()}function ra(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Eo(i),Bs(i)}function Eo(i){i.D||(i.D=!0,mr(i,"complete"),mr(i,"error"))}function ia(i){if(i.h&&void 0!==Ve&&(!i.C[1]||4!=zs(i)||2!=i.ba()))if(i.v&&4==zs(i))ii(i.Fa,0,i);else if(mr(i,"readystatechange"),4==zs(i)){i.h=!1;try{const x=i.ba();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===x){var l=String(i.H).match(ur)[1]||null;if(!l&&me.self&&me.self.location){var h=me.self.location.protocol;l=h.substr(0,h.length-1)}o=!ro.test(l?l.toLowerCase():"")}t=o}if(t)mr(i,"complete"),mr(i,"success");else{i.m=6;try{var _=2<zs(i)?i.g.statusText:""}catch(W){_=""}i.j=_+" ["+i.ba()+"]",Eo(i)}}finally{Bs(i)}}}function Bs(i,e){if(i.g){Da(i);const t=i.g,o=i.C[0]?Te:null;i.g=null,i.C=null,e||mr(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function Da(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(me.clearTimeout(i.A),i.A=null)}function zs(i){return i.g?i.g.readyState:0}function sa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ls:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function oa(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function wo(i){let e="";return Gn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):P(i,e,t))}function lo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Su(i){this.za=0,this.l=[],this.h=new vt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lo("baseRetryDelayMs",5e3,i),this.$a=lo("retryDelaySeedMs",1e4,i),this.Ya=lo("forwardChannelMaxRetries",2,i),this.ra=lo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Er(i&&i.concurrentRequestLimit),this.Ca=new Du,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Au(i){if(Ta(i),3==i.G){var e=i.V++,t=k(i.F);P(t,"SID",i.J),P(t,"RID",e),P(t,"TYPE","terminate"),Us(i,t),(e=new hi(i,i.h,e,void 0)).K=2,e.v=$(k(t)),t=!1,me.navigator&&me.navigator.sendBeacon&&(t=me.navigator.sendBeacon(e.v.toString(),"")),!t&&me.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ws(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vi(e)}ts(i)}function aa(i){i.g&&(Li(i),i.g.cancel(),i.g=null)}function Ta(i){aa(i),i.u&&(me.clearTimeout(i.u),i.u=null),io(i),i.i.cancel(),i.m&&("number"==typeof i.m&&me.clearTimeout(i.m),i.m=null)}function el(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Wi(i)}function Wi(i){Ci(i.i)||i.m||(i.m=!0,ri(i.Ha,i),i.C=0)}function gi(i,e){var t;t=e?e.m:i.V++;const o=k(i.F);P(o,"SID",i.J),P(o,"RID",t),P(o,"AID",i.U),Us(i,o),i.o&&i.s&&oa(o,i.o,i.s),t=new hi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Uo(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Kt(i.i,t),fs(t,o,e)}function Us(i,e){i.j&&Ot({},function(t,o){P(e,o,t)})}function Uo(i,e,t){t=Math.min(i.l.length,t);var o=i.j?ze(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const _=["count="+t];-1==h?0<t?(h=l[0].h,_.push("ofs="+h)):h=0:_.push("ofs="+h);let x=!0;for(let W=0;W<t;W++){let re=l[W].h;const Ue=l[W].g;if(re-=h,0>re)h=Math.max(0,l[W].h-100),x=!1;else try{Gs(Ue,_,"req"+re+"_")}catch(it){o&&o(Ue)}}if(x){o=_.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Xa(i){i.g||i.u||(i.Y=1,ri(i.Ga,i),i.A=0)}function Sa(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=nn(ze(i.Ga,i),ua(i,i.A)),i.A++,0))}function Li(i){null!=i.B&&(me.clearTimeout(i.B),i.B=null)}function Ja(i){i.g=new hi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=k(i.oa);P(e,"RID","rpc"),P(e,"SID",i.J),P(e,"CI",i.N?"0":"1"),P(e,"AID",i.U),Us(i,e),P(e,"TYPE","xmlhttp"),i.o&&i.s&&oa(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=$(k(e)),t.s=null,t.U=!0,ds(t,i)}function io(i){null!=i.v&&(me.clearTimeout(i.v),i.v=null)}function co(i,e){var t=null;if(i.g==e){io(i),Li(i),i.g=null;var o=2}else{if(!xi(i.i,e))return;t=e.D,jr(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;mr(o=Vr(),new Bt(o,t,e,l)),Wi(i)}else Xa(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function Vs(i,e){return!(Ai(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=nn(ze(i.Ha,i,e),ua(i,i.C)),i.C++,0)))}(i,e)||2==o&&Sa(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:ms(i,5);break;case 4:ms(i,10);break;case 3:ms(i,6);break;default:ms(i,2)}}function ua(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function ms(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=ze(i.jb,i);t||(t=new Ur("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||Q(t,"https"),$(t)),function xs(i,e){const t=new vt;if(me.Image){const o=new Image;o.onload=lt(uo,t,o,"TestLoadImage: loaded",!0,e),o.onerror=lt(uo,t,o,"TestLoadImage: error",!1,e),o.onabort=lt(uo,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=lt(uo,t,o,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else mt(2);i.G=0,i.j&&i.j.va(e),ts(i),Ta(i)}function ts(i){i.G=0,i.I=-1,i.j&&((0!=Ka(i.i).length||0!=i.l.length)&&(i.i.i.length=0,pn(i.l),i.l.length=0),i.j.ua())}function Aa(i,e,t){let o=function N(i){return i instanceof Ur?k(i):new Ur(i,void 0)}(t);if(""!=o.i)e&&B(o,e+"."+o.i),ae(o,o.m);else{const l=me.location;o=function ce(i,e,t,o){var l=new Ur(null,void 0);return i&&Q(l,i),e&&B(l,e),t&&ae(l,t),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&Gn(i.aa,function(l,h){P(o,h,l)}),t=i.sa,(e=i.D)&&t&&P(o,e,t),P(o,"VER",i.ma),Us(i,o),o}function Ws(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(t&&i.Ba&&!i.qa?new _s({ib:!0}):i.qa)).L=i.H,e}function so(){}function $o(){if(xt&&!(10<=Number(Xt)))throw Error("Environmental error: no available transport.")}function Bi(i,e){rr.call(this),this.g=new Su(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!or(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!or(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Io(this)}function ns(i){es.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function jo(){Ei.call(this),this.status=1}function Io(i){this.g=i}(ve=Di.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():As.g(),this.C=function br(i){return i.h||(i.h=i.i())}(this.u?this.u:As),this.g.onreadystatechange=ze(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void ra(this,h)}i=t||"";const l=new rn(this.headers);o&&Ot(o,function(h,_){l.set(_,h)}),o=function Yt(i){e:{var e=Qu;const t=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=me.FormData&&i instanceof me.FormData,!(0<=Dt(Vo,e))||o||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,_){this.g.setRequestHeader(_,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Da(this),0<this.B&&((this.K=function Tu(i){return xt&&function Kn(){return function Ye(i){var e=Mn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=vn(String(Fr)).split("."),t=vn("9").split("."),o=Math.max(e.length,t.length);for(let _=0;0==i&&_<o;_++){var l=e[_]||"",h=t[_]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=Ft(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||Ft(0==l[2].length,0==h[2].length)||Ft(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.pa,this)):this.A=ii(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){ra(this,h)}},ve.pa=function(){void 0!==Ve&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mr(this,"timeout"),this.abort(8))},ve.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,mr(this,"complete"),mr(this,"abort"),Bs(this))},ve.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bs(this,!0)),Di.Z.M.call(this)},ve.Fa=function(){this.s||(this.F||this.v||this.l?ia(this):this.cb())},ve.cb=function(){ia(this)},ve.ba=function(){try{return 2<zs(this)?this.g.status:-1}catch(i){return-1}},ve.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ve.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),bs(e)}},ve.Da=function(){return this.m},ve.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=Su.prototype).ma=8,ve.G=1,ve.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ve.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new hi(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Zn(h),At(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Uo(this,l,e),P(t=k(this.F),"RID",i),P(t,"CVER",22),this.D&&P(t,"X-HTTP-Session-Id",this.D),Us(this,t),this.o&&h&&oa(t,this.o,h),Kt(this.i,l),this.Ra&&P(t,"TYPE","init"),this.ja?(P(t,"$req",e),P(t,"SID","null"),l.$=!0,fs(l,t,null)):fs(l,t,e),this.G=2}}else 3==this.G&&(i?gi(this,i):0==this.l.length||Ci(this.i)||gi(this))},ve.Ga=function(){if(this.u=null,Ja(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=nn(ze(this.bb,this),i)}},ve.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mt(10),aa(this),Ja(this))},ve.ab=function(){null!=this.v&&(this.v=null,aa(this),Sa(this),mt(19))},ve.jb=function(i){i?(this.h.info("Successfully pinged google.com"),mt(2)):(this.h.info("Failed to ping google.com"),mt(1))},(ve=so.prototype).xa=function(){},ve.wa=function(){},ve.va=function(){},ve.ua=function(){},ve.Oa=function(){},$o.prototype.g=function(i,e){return new Bi(i,e)},gt(Bi,rr),Bi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),ri(ze(i.hb,i,e))),mt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Aa(i,null,i.W),Wi(i)},Bi.prototype.close=function(){Au(this.g)},Bi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,el(this.g,e)}else this.v?((e={}).__data__=Pr(i),el(this.g,e)):el(this.g,i)},Bi.prototype.M=function(){this.g.j=null,delete this.j,Au(this.g),delete this.g,Bi.Z.M.call(this)},gt(ns,es),gt(jo,Ei),gt(Io,so),Io.prototype.xa=function(){mr(this.g,"a")},Io.prototype.wa=function(i){mr(this.g,new ns(i))},Io.prototype.va=function(i){mr(this.g,new jo(i))},Io.prototype.ua=function(){mr(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,Bi.prototype.send=Bi.prototype.u,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,Dn.NO_ERROR=0,Dn.TIMEOUT=8,Dn.HTTP_ERROR=6,xr.COMPLETE="complete",di.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",rr.prototype.listen=rr.prototype.N,Di.prototype.listenOnce=Di.prototype.O,Di.prototype.getLastError=Di.prototype.La,Di.prototype.getLastErrorCode=Di.prototype.Da,Di.prototype.getStatus=Di.prototype.ba,Di.prototype.getResponseJson=Di.prototype.Qa,Di.prototype.getResponseText=Di.prototype.ga,Di.prototype.send=Di.prototype.ea;var xu=wt.createWebChannelTransport=function(){return new $o},Ho=wt.getStatEventTarget=function(){return Vr()},Qa=wt.ErrorCode=Dn,_i=wt.EventType=xr,eu=wt.Event=Bn,Rs=wt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Co=wt.FetchXmlHttpFactory=_s,ho=wt.WebChannel=di,xa=wt.XhrIo=Di;const Do="@firebase/firestore";class qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");let $s="9.6.10";const Es=new at.Yd("@firebase/firestore");function qs(){return Es.logLevel}function hn(i,...e){if(Es.logLevel<=at.in.DEBUG){const t=e.map(la);Es.debug(`Firestore (${$s}): ${i}`,...t)}}function Mi(i,...e){if(Es.logLevel<=at.in.ERROR){const t=e.map(la);Es.error(`Firestore (${$s}): ${i}`,...t)}}function rs(i,...e){if(Es.logLevel<=at.in.WARN){const t=e.map(la);Es.warn(`Firestore (${$s}): ${i}`,...t)}}function la(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Ln(i="Unexpected state"){const e=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: `+i;throw Mi(e),new Error(e)}function pr(i,e){i||Ln()}function An(i,e){return i}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class v extends _t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class E{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qi.UNAUTHENTICATED))}shutdown(){}}class ue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Be{constructor(e){this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const h=re=>this.i!==l?(l=this.i,t(re)):Promise.resolve();let _=new E;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new E,e.enqueueRetryable(()=>h(this.currentUser))};const x=()=>{const re=_;e.enqueueRetryable((0,oe.Z)(function*(){yield re.promise,yield h(o.currentUser)}))},W=re=>{hn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(re=>W(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?W(re):(hn("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new E)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(hn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(pr("string"==typeof o.accessToken),new F(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pr(null===e||"string"==typeof e),new qi(e)}}class nt{constructor(e,t,o){this.type="FirstParty",this.user=qi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Vt{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new nt(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hr{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=h=>{null!=h.error&&hn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const _=h.token!==this.p;return this.p=h.token,hn("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{hn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?l(h):hn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pr("string"==typeof t.token),this.p=t.token,new Nn(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Mr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Gr(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}Mr.A=-1;class ys{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Gr(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<t&&(o+=e.charAt(l[h]%e.length))}return o}}function Ar(i,e){return i<e?-1:i>e?1:0}function Ys(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function Zs(i){return i+"\0"}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new v(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new v(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new v(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new v(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ti(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ar(this.nanoseconds,e.nanoseconds):Ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hr(e)}static min(){return new hr(new ti(0,0))}static max(){return new hr(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ul(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function zo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ra(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class tu{constructor(e,t,o){void 0===t?t=0:t>e.length&&Ln(),void 0===o?o=e.length-t:o>e.length-t&&Ln(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===tu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tu?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const h=e.get(l),_=t.get(l);if(h<_)return-1;if(h>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kr extends tu{construct(e,t,o){return new Kr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new v(w.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Kr(t)}static emptyPath(){return new Kr([])}}const ki=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ss extends tu{construct(e,t,o){return new ss(e,t,o)}static isValidIdentifier(e){return ki.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ss.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ss(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const h=()=>{if(0===o.length)throw new v(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let _=!1;for(;l<e.length;){const x=e[l];if("\\"===x){if(l+1===e.length)throw new v(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[l+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new v(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=W,l+=2}else"`"===x?(_=!_,l++):"."!==x||_?(o+=x,l++):(h(),l++)}if(h(),_)throw new v(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ss(t)}static emptyPath(){return new ss([])}}class ca{constructor(e){this.fields=e,e.sort(ss.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Yi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Yi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Yi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yi.EMPTY_BYTE_STRING=new Yi("");const Ic=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(i){if(pr(!!i),"string"==typeof i){let e=0;const t=Ic.exec(i);if(pr(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Vi(i.seconds),nanos:Vi(i.nanos)}}function Vi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ws(i){return"string"==typeof i?Yi.fromBase64String(i):Yi.fromUint8Array(i)}function da(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ti(i){const e=i.mapValue.fields.__previous_value__;return da(e)?Ti(e):e}function So(i){const e=To(i.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class Ao{constructor(e,t,o,l,h,_,x,W){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=_,this.autoDetectLongPolling=x,this.useFetchStreams=W}}class fo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}function Is(i){return null==i}function hs(i){return 0===i&&1/i==-1/0}function po(i){return"number"==typeof i&&Number.isInteger(i)&&!hs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class xn{constructor(e){this.path=e}static fromPath(e){return new xn(Kr.fromString(e))}static fromName(e){return new xn(Kr.fromString(e).popFirst(5))}static empty(){return new xn(Kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xn(new Kr(e.slice()))}}const nu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wo={nullValue:"NULL_VALUE"};function Os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?da(i)?4:j(i)?9:10:Ln()}function oo(i,e){if(i===e)return!0;const t=Os(i);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return So(i).isEqual(So(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=To(o.timestampValue),_=To(l.timestampValue);return h.seconds===_.seconds&&h.nanos===_.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,ws(i.bytesValue).isEqual(ws(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Vi(o.geoPointValue.latitude)===Vi(l.geoPointValue.latitude)&&Vi(o.geoPointValue.longitude)===Vi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Vi(o.integerValue)===Vi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Vi(o.doubleValue),_=Vi(l.doubleValue);return h===_?hs(h)===hs(_):isNaN(h)&&isNaN(_)}return!1}(i,e);case 9:return Ys(i.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:return function(o,l){const h=o.mapValue.fields||{},_=l.mapValue.fields||{};if(Ul(h)!==Ul(_))return!1;for(const x in h)if(h.hasOwnProperty(x)&&(void 0===_[x]||!oo(h[x],_[x])))return!1;return!0}(i,e);default:return Ln()}var l}function ru(i,e){return void 0!==(i.values||[]).find(t=>oo(t,e))}function xo(i,e){if(i===e)return 0;const t=Os(i),o=Os(e);if(t!==o)return Ar(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ar(i.booleanValue,e.booleanValue);case 2:return function(l,h){const _=Vi(l.integerValue||l.doubleValue),x=Vi(h.integerValue||h.doubleValue);return _<x?-1:_>x?1:_===x?0:isNaN(_)?isNaN(x)?0:-1:1}(i,e);case 3:return ha(i.timestampValue,e.timestampValue);case 4:return ha(So(i),So(e));case 5:return Ar(i.stringValue,e.stringValue);case 6:return function(l,h){const _=ws(l),x=ws(h);return _.compareTo(x)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const _=l.split("/"),x=h.split("/");for(let W=0;W<_.length&&W<x.length;W++){const re=Ar(_[W],x[W]);if(0!==re)return re}return Ar(_.length,x.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const _=Ar(Vi(l.latitude),Vi(h.latitude));return 0!==_?_:Ar(Vi(l.longitude),Vi(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const _=l.values||[],x=h.values||[];for(let W=0;W<_.length&&W<x.length;++W){const re=xo(_[W],x[W]);if(re)return re}return Ar(_.length,x.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){const _=l.fields||{},x=Object.keys(_),W=h.fields||{},re=Object.keys(W);x.sort(),re.sort();for(let Ue=0;Ue<x.length&&Ue<re.length;++Ue){const it=Ar(x[Ue],re[Ue]);if(0!==it)return it;const Rt=xo(_[x[Ue]],W[re[Ue]]);if(0!==Rt)return Rt}return Ar(x.length,re.length)}(i.mapValue,e.mapValue);default:throw Ln()}}function ha(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ar(i,e);const t=To(i),o=To(e),l=Ar(t.seconds,o.seconds);return 0!==l?l:Ar(t.nanos,o.nanos)}function Mo(i){return Ui(i)}function Ui(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=To(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ws(i.bytesValue).toBase64():"referenceValue"in i?xn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",h=!0;for(const _ of o.values||[])h?h=!1:l+=",",l+=Ui(_);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let h="{",_=!0;for(const x of l)_?_=!1:h+=",",h+=`${x}:${Ui(o.fields[x])}`;return h+"}"}(i.mapValue):Ln();var e}function go(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ro(i){return!!i&&"integerValue"in i}function iu(i){return!!i&&"arrayValue"in i}function Oa(i){return!!i&&"nullValue"in i}function $l(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function tl(i){return!!i&&"mapValue"in i}function O(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return zo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=O(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=O(i.arrayValue.values[t]);return e}return Object.assign({},i)}function j(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function le(i,e){return void 0===i?e:void 0===e||xo(i,e)>0?i:e}function $e(i,e){return void 0===i?e:void 0===e||xo(i,e)<0?i:e}class ft{constructor(e){this.value=e}static empty(){return new ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!tl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=O(t)}setAll(e){let t=ss.emptyPath(),o={},l=[];e.forEach((_,x)=>{if(!t.isImmediateParentOf(x)){const W=this.getFieldsMap(t);this.applyChanges(W,o,l),o={},l=[],t=x.popLast()}_?o[x.lastSegment()]=O(_):l.push(x.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,l)}delete(e){const t=this.field(e.popLast());tl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];tl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){zo(t,(l,h)=>e[l]=h);for(const l of o)delete e[l]}clone(){return new ft(O(this.value))}}function Mt(i){const e=[];return zo(i.fields,(t,o)=>{const l=new ss([t]);if(tl(o)){const h=Mt(o.mapValue).fields;if(0===h.length)e.push(l);else for(const _ of h)e.push(l.child(_))}else e.push(l)}),new ca(e)}class Jt{constructor(e,t,o,l,h,_){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.data=h,this.documentState=_}static newInvalidDocument(e){return new Jt(e,0,hr.min(),hr.min(),ft.empty(),0)}static newFoundDocument(e,t,o){return new Jt(e,1,t,hr.min(),o,0)}static newNoDocument(e,t){return new Jt(e,2,t,hr.min(),ft.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,hr.min(),ft.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $n{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function Cr(i){return i.fields.find(e=>2===e.kind)}function yr(i){return i.fields.filter(e=>2!==e.kind)}$n.UNKNOWN_ID=-1;class Xr{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tr(0,Ps.min())}}function js(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=hr.fromTimestamp(1e9===o?new ti(t+1,0):new ti(t,o));return new Ps(l,xn.empty(),e)}function os(i){return new Ps(i.readTime,i.key,-1)}class Ps{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ps(hr.min(),xn.empty(),-1)}static max(){return new Ps(hr.max(),xn.empty(),-1)}}function fa(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=xn.comparator(i.documentKey,e.documentKey),0!==t?t:Ar(i.largestBatchId,e.largestBatchId))}class qo{constructor(e,t=null,o=[],l=[],h=null,_=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=h,this.startAt=_,this.endAt=x,this.P=null}}function mo(i,e=null,t=[],o=[],l=null,h=null,_=null){return new qo(i,e,t,o,l,h,_)}function oi(i){const e=An(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+Mo(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Is(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Mo(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Mo(o)).join(",")),e.P=t}return e.P}function su(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Cc(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(o=e.filters[l]).op||!t.field.isEqual(o.field)||!oo(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!il(i.startAt,e.startAt)&&il(i.endAt,e.endAt)}function Ru(i){return xn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function pa(i,e){return i.filters.filter(t=>t instanceof vs&&t.field.isEqual(e))}class vs extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Ed(e,t,o):"array-contains"===t?new wd(e,o):"in"===t?new rl(e,o):"not-in"===t?new Ph(e,o):"array-contains-any"===t?new jl(e,o):new vs(e,t,o)}static V(e,t,o){return"in"===t?new Oh(e,o):new nl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(xo(t,this.value)):null!==t&&Os(this.value)===Os(t)&&this.v(xo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ln()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ed extends vs{constructor(e,t,o){super(e,t,o),this.key=xn.fromName(o.referenceValue)}matches(e){const t=xn.comparator(e.key,this.key);return this.v(t)}}class Oh extends vs{constructor(e,t){super(e,"in",t),this.keys=Pa(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nl extends vs{constructor(e,t){super(e,"not-in",t),this.keys=Pa(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Pa(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>xn.fromName(o.referenceValue))}class wd extends vs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iu(t)&&ru(t.arrayValue,this.value)}}class rl extends vs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ru(this.value.arrayValue,t)}}class Ph extends vs{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ru(this.value.arrayValue,t)}}class jl extends vs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>ru(this.value.arrayValue,o))}}class Yo{constructor(e,t){this.position=e,this.inclusive=t}}class ga{constructor(e,t="asc"){this.field=e,this.dir=t}}function Cc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Id(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const h=e[l],_=i.position[l];if(o=h.field.isKeyField()?xn.comparator(xn.fromName(_.referenceValue),t.key):xo(_,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function il(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!oo(i.position[t],e.position[t]))return!1;return!0}class Ks{constructor(e,t=null,o=[],l=[],h=null,_="F",x=null,W=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=_,this.startAt=x,this.endAt=W,this.D=null,this.C=null}}function Ou(i,e,t,o,l,h,_,x){return new Ks(i,e,t,o,l,h,_,x)}function Pu(i){return new Ks(i)}function Dc(i){return!Is(i.limit)&&"F"===i.limitType}function sl(i){return!Is(i.limit)&&"L"===i.limitType}function Tc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Cd(i){for(const e of i.filters)if(e.S())return e.field;return null}function Sc(i){return null!==i.collectionGroup}function ka(i){const e=An(i);if(null===e.D){e.D=[];const t=Cd(e),o=Tc(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new ga(t)),e.D.push(new ga(ss.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ga(ss.keyField(),h))}}}return e.D}function yo(i){const e=An(i);if(!e.C)if("F"===e.limitType)e.C=mo(e.path,e.collectionGroup,ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of ka(e))t.push(new ga(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new Yo(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new Yo(e.startAt.position,!e.startAt.inclusive):null;e.C=mo(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.C}function ol(i,e,t){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ou(i,e){return su(yo(i),yo(e))&&i.limitType===e.limitType}function au(i){return`${oi(yo(i))}|lt:${i.limitType}`}function Ac(i){return`Query(target=${function Mu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Mo(o.value)}`;var o}).join(", ")}]`),Is(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Mo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Mo(t)).join(",")),`Target(${e})`}(yo(i))}; limitType=${i.limitType})`}function Hl(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):xn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,h,_){const x=Id(l,h,_);return l.inclusive?x<=0:x<0}(t.startAt,ka(t),o)||t.endAt&&!function(l,h,_){const x=Id(l,h,_);return l.inclusive?x>=0:x>0}(t.endAt,ka(t),o)));var t,o}function kh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function al(i){return(e,t)=>{let o=!1;for(const l of ka(i)){const h=xc(l,e,t);if(0!==h)return h;o=o||l.field.isKeyField()}return 0}}function xc(i,e,t){const o=i.field.isKeyField()?xn.comparator(e.key,t.key):function(l,h,_){const x=h.data.field(l),W=_.data.field(l);return null!==x&&null!==W?xo(x,W):Ln()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ln()}}function Mc(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hs(e)?"-0":e}}function ul(i){return{integerValue:""+i}}function Rc(i,e){return po(e)?ul(e):Mc(i,e)}class uu{constructor(){this._=void 0}}function Nh(i,e,t){return i instanceof Na?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof lu?Zo(i,e):i instanceof vo?Sd(i,e):function(o,l){const h=Td(o,l),_=Fh(h)+Fh(o.k);return Ro(h)&&Ro(o.k)?ul(_):Mc(o.M,_)}(i,e)}function Dd(i,e,t){return i instanceof lu?Zo(i,e):i instanceof vo?Sd(i,e):t}function Td(i,e){return i instanceof ll?Ro(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Na extends uu{}class lu extends uu{constructor(e){super(),this.elements=e}}function Zo(i,e){const t=zp(e);for(const o of i.elements)t.some(l=>oo(l,o))||t.push(o);return{arrayValue:{values:t}}}class vo extends uu{constructor(e){super(),this.elements=e}}function Sd(i,e){let t=zp(e);for(const o of i.elements)t=t.filter(l=>!oo(l,o));return{arrayValue:{values:t}}}class ll extends uu{constructor(e,t){super(),this.M=e,this.k=t}}function Fh(i){return Vi(i.integerValue||i.doubleValue)}function zp(i){return iu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class I{constructor(e,t){this.field=e,this.transform=t}}class p{constructor(e,t){this.version=e,this.transformResults=t}}class D{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new D}static exists(e){return new D(void 0,e)}static updateTime(e){return new D(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function te(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Se{}function St(i,e,t){i instanceof Jr?function(o,l,h){const _=o.value.clone(),x=ku(o.fieldTransforms,l,h.transformResults);_.setAll(x),l.convertToFoundDocument(h.version,_).setHasCommittedMutations()}(i,e,t):i instanceof as?function(o,l,h){if(!te(o.precondition,l))return void l.convertToUnknownDocument(h.version);const _=ku(o.fieldTransforms,l,h.transformResults),x=l.data;x.setAll(Ko(o)),x.setAll(_),l.convertToFoundDocument(h.version,x).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function un(i,e,t){var l;i instanceof Jr?function(o,l,h){if(!te(o.precondition,l))return;const _=o.value.clone(),x=Gl(o.fieldTransforms,h,l);_.setAll(x),l.convertToFoundDocument(zr(l),_).setHasLocalMutations()}(i,e,t):i instanceof as?function(o,l,h){if(!te(o.precondition,l))return;const _=Gl(o.fieldTransforms,h,l),x=l.data;x.setAll(Ko(o)),x.setAll(_),l.convertToFoundDocument(zr(l),x).setHasLocalMutations()}(i,e,t):te(i.precondition,l=e)&&l.convertToNoDocument(hr.min())}function ir(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),h=Td(o.transform,l||null);null!=h&&(null==t&&(t=ft.empty()),t.set(o.field,h))}return t||null}function vr(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ys(t,o,(l,h)=>function f(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof lu&&o instanceof lu||t instanceof vo&&o instanceof vo?Ys(t.elements,o.elements,oo):t instanceof ll&&o instanceof ll?oo(t.k,o.k):t instanceof Na&&o instanceof Na);var t,o}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function zr(i){return i.isFoundDocument()?i.version:hr.min()}class Jr extends Se{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}}class as extends Se{constructor(e,t,o,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=h,this.type=1}}function Ko(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function ku(i,e,t){const o=new Map;pr(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],_=h.transform,x=e.data.field(h.field);o.set(h.field,Dd(_,x,t[l]))}return o}function Gl(i,e,t){const o=new Map;for(const l of i){const h=l.transform,_=t.data.field(l.field);o.set(l.field,Nh(h,_,e))}return o}class Nu extends Se{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Oc extends Se{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Lh{constructor(e){this.count=e}}var Ni,Qr;function cl(i){switch(i){default:return Ln();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Pc(i){if(void 0===i)return Mi("GRPC error has no .code"),w.UNKNOWN;switch(i){case Ni.OK:return w.OK;case Ni.CANCELLED:return w.CANCELLED;case Ni.UNKNOWN:return w.UNKNOWN;case Ni.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ni.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ni.INTERNAL:return w.INTERNAL;case Ni.UNAVAILABLE:return w.UNAVAILABLE;case Ni.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ni.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ni.NOT_FOUND:return w.NOT_FOUND;case Ni.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ni.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ni.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ni.ABORTED:return w.ABORTED;case Ni.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ni.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ni.DATA_LOSS:return w.DATA_LOSS;default:return Ln()}}(Qr=Ni||(Ni={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,h]of o)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(t,o)=>{for(const[l,h]of o)e(l,h)})}isEmpty(){return Ra(this.inner)}size(){return this.innerSize}}class Zi{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new Zi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,t,o,l,h){this.key=e,this.value=t,this.color=null!=o?o:Cs.RED,this.left=null!=l?l:Cs.EMPTY,this.right=null!=h?h:Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,h){return new Cs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Cs.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ln();const e=this.left.check();if(e!==this.right.check())throw Ln();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ln()}get value(){throw Ln()}get color(){throw Ln()}get left(){throw Ln()}get right(){throw Ln()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Cs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $i{constructor(e){this.comparator=e,this.data=new Zi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wp(this.data.getIterator())}getIteratorFrom(e){return new Wp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $i(this.comparator);return t.data=e,t}}class Wp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dl(i){return i.hasNext()?i.getNext():void 0}const Ad=new Zi(xn.comparator);function Xo(){return Ad}const Bh=new Zi(xn.comparator);function Vh(){return Bh}function Ki(){return new Fa(i=>i.toString(),(i,e)=>i.isEqual(e))}const by=new Zi(xn.comparator),Ey=new $i(xn.comparator);function pi(...i){let e=Ey;for(const t of i)e=e.add(t);return e}const qp=new $i(Ar);function xd(){return qp}class kc{constructor(e,t,o,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t)),new kc(hr.min(),o,xd(),Xo(),pi())}}class Nc{constructor(e,t,o,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Nc(Yi.EMPTY_BYTE_STRING,t,pi(),pi(),pi())}}class Md{constructor(e,t,o,l){this.O=e,this.removedTargetIds=t,this.key=o,this.F=l}}class Yp{constructor(e,t){this.targetId=e,this.$=t}}class wy{constructor(e,t,o=Yi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Iy{constructor(){this.B=0,this.L=Rd(),this.U=Yi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=pi(),t=pi(),o=pi();return this.L.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:Ln()}}),new Nc(this.U,this.q,e,t,o)}J(){this.G=!1,this.L=Rd()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Fc{constructor(e){this.nt=e,this.st=new Map,this.it=Xo(),this.rt=Xs(),this.ot=new $i(Ar)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.K||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.K||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:Ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,o=e.$.count,l=this.wt(t);if(l){const h=l.target;if(Ru(h))if(0===o){const _=new xn(h.path);this.ct(t,_,Jt.newNoDocument(_,hr.min()))}else pr(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((h,_)=>{const x=this.wt(_);if(x){if(h.current&&Ru(x.target)){const W=new xn(x.target.path);null!==this.it.get(W)||this.It(_,W)||this.ct(_,W,Jt.newNoDocument(W,e))}h.j&&(t.set(_,h.H()),h.J())}});let o=pi();this.rt.forEach((h,_)=>{let x=!0;_.forEachWhile(W=>{const re=this.wt(W);return!re||2===re.purpose||(x=!1,!1)}),x&&(o=o.add(h))}),this.it.forEach((h,_)=>_.setReadTime(e));const l=new kc(e,t,this.ot,this.it,o);return this.it=Xo(),this.rt=Xs(),this.ot=new $i(Ar),l}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Iy,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new $i(Ar),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||hn("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Iy),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Xs(){return new Zi(xn.comparator)}function Rd(){return new Zi(xn.comparator)}const Zp={asc:"ASCENDING",desc:"DESCENDING"},Kp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Js{constructor(e,t){this.databaseId=e,this.N=t}}function cu(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Od(i,e){return i.N?e.toBase64():e.toUint8Array()}function Cy(i,e){return cu(i,e.toTimestamp())}function ks(i){return pr(!!i),hr.fromTimestamp(function(e){const t=To(e);return new ti(t.seconds,t.nanos)}(i))}function Pd(i,e){return(t=i,new Kr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Xp(i){const e=Kr.fromString(i);return pr(ig(e)),e}function zl(i,e){return Pd(i.databaseId,e.path)}function La(i,e){const t=Xp(e);if(t.get(1)!==i.databaseId.projectId)throw new v(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new v(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new xn(Nd(t))}function kd(i,e){return Pd(i.databaseId,e)}function Jp(i){const e=Xp(i);return 4===e.length?Kr.emptyPath():Nd(e)}function Lc(i){return new Kr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Nd(i){return pr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Qp(i,e,t){return{name:zl(i,e),fields:t.value.mapValue.fields}}function eg(i,e,t){const o=La(i,e.name),l=ks(e.updateTime),h=new ft({mapValue:{fields:e.fields}}),_=Jt.newFoundDocument(o,l,h);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function Bc(i,e){let t;if(e instanceof Jr)t={update:Qp(i,e.key,e.value)};else if(e instanceof Nu)t={delete:zl(i,e.key)};else if(e instanceof as)t={update:Qp(i,e.key,e.data),updateMask:Oy(e.fieldMask)};else{if(!(e instanceof Oc))return Ln();t={verify:zl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const _=h.transform;if(_ instanceof Na)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof lu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof vo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof ll)return{fieldPath:h.field.canonicalString(),increment:_.k};throw Ln()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Cy(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Ln()),t;var l}function Wl(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?D.updateTime(ks(l.updateTime)):void 0!==l.exists?D.exists(l.exists):D.none():D.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(h,_){let x=null;"setToServerValue"in _?(pr("REQUEST_TIME"===_.setToServerValue),x=new Na):"appendMissingElements"in _?x=new lu(_.appendMissingElements.values||[]):"removeAllFromArray"in _?x=new vo(_.removeAllFromArray.values||[]):"increment"in _?x=new ll(h,_.increment):Ln();const W=ss.fromServerFormat(_.fieldPath);return new I(W,x)}(i,l)):[];var l;if(e.update){const l=La(i,e.update.name),h=new ft({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new ca((e.updateMask.fieldPaths||[]).map(re=>ss.fromServerFormat(re)));return new as(l,h,_,t,o)}return new Jr(l,h,t,o)}if(e.delete){const l=La(i,e.delete);return new Nu(l,t)}if(e.verify){const l=La(i,e.verify);return new Oc(l,t)}return Ln()}function tg(i,e){return{documents:[kd(i,e.path)]}}function ng(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=kd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(W){if(0===W.length)return;const re=W.map(Ue=>function(it){if("=="===it.op){if($l(it.value))return{unaryFilter:{field:ql(it.field),op:"IS_NAN"}};if(Oa(it.value))return{unaryFilter:{field:ql(it.field),op:"IS_NULL"}}}else if("!="===it.op){if($l(it.value))return{unaryFilter:{field:ql(it.field),op:"IS_NOT_NAN"}};if(Oa(it.value))return{unaryFilter:{field:ql(it.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(it.field),op:xy(it.op),value:it.value}}}(Ue));return 1===re.length?re[0]:{compositeFilter:{op:"AND",filters:re}}}(e.filters);l&&(t.structuredQuery.where=l);const h=function(W){if(0!==W.length)return W.map(re=>{return{field:ql((Ue=re).field),direction:Ay(Ue.dir)};var Ue})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const _=(re=e.limit,i.N||Is(re)?re:{value:re});var re,x,W;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),t}function rg(i){let e=Jp(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){pr(1===o);const Ue=t.from[0];Ue.allDescendants?l=Ue.collectionId:e=e.child(Ue.collectionId)}let h=[];t.where&&(h=$h(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(Ue=>{return new ga(Yl((it=Ue).field),function(Rt){switch(Rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(it.direction));var it}));let x=null;t.limit&&(x=function(Ue){let it;return it="object"==typeof Ue?Ue.value:Ue,Is(it)?null:it}(t.limit));let W=null;var Ue;t.startAt&&(W=new Yo((Ue=t.startAt).values||[],!!Ue.before));let re=null;return t.endAt&&(re=function(Ue){return new Yo(Ue.values||[],!Ue.before)}(t.endAt)),Ou(e,l,_,h,x,"F",W,re)}function $h(i){return i?void 0!==i.unaryFilter?[Ry(i)]:void 0!==i.fieldFilter?[My(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>$h(e)).reduce((e,t)=>e.concat(t)):Ln():[]}function Ay(i){return Zp[i]}function xy(i){return Kp[i]}function ql(i){return{fieldPath:i.canonicalString()}}function Yl(i){return ss.fromServerFormat(i.fieldPath)}function My(i){return vs.create(Yl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ln()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ry(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Yl(i.unaryFilter.field);return vs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Yl(i.unaryFilter.field);return vs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yl(i.unaryFilter.field);return vs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yl(i.unaryFilter.field);return vs.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ln()}}function Oy(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ig(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function is(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Py(e)),e=Ba(i.get(t),e);return Py(e)}function Ba(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const h=i.charAt(l);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function Py(i){return i+"\x01\x01"}function Va(i){const e=i.length;if(pr(e>=2),2===e)return pr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Kr.emptyPath();const t=e-2,o=[];let l="";for(let h=0;h<e;){const _=i.indexOf("\x01",h);switch((_<0||_>t)&&Ln(),i.charAt(_+1)){case"\x01":const x=i.substring(h,_);let W;0===l.length?W=x:(l+=x,W=l,l=""),o.push(W);break;case"\x10":l+=i.substring(h,_),l+="\0";break;case"\x11":l+=i.substring(h,_+1);break;default:Ln()}h=_+2}return new Kr(o)}const jh=["userId","batchId"];function Hh(i,e){return[i,is(e)]}function ma(i,e,t){return[i,is(e),t]}const Gh={},zh=["prefixPath","collectionGroup","readTime","documentId"],ky=["prefixPath","collectionGroup","documentId"],sg=["collectionGroup","readTime","prefixPath","documentId"],Vc=["canonicalId","targetId"],og=["targetId","path"],ag=["path","targetId"],Wh=["collectionId","parent"],qh=["indexId","uid"],ug=["uid","sequenceNumber"],j_=["indexId","uid","arrayValue","directionalValue","documentKey"],Zl=["indexId","uid","documentKey"],Yh=["userId","collectionPath","documentId"],lg=["userId","collectionPath","largestBatchId"],Ny=["userId","collectionGroup","largestBatchId"],Fd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fy=[...Fd,"documentOverlays"],cg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ly=[...cg,"indexConfiguration","indexState","indexEntries"],dg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ht((o,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ht?t:Ht.resolve(t)}catch(t){return Ht.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ht.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ht.reject(t)}static resolve(e){return new Ht((t,o)=>{t(e)})}static reject(e){return new Ht((t,o)=>{o(e)})}static waitFor(e){return new Ht((t,o)=>{let l=0,h=0,_=!1;e.forEach(x=>{++l,x.next(()=>{++h,_&&h===l&&t()},W=>o(W))}),_=!0,h===l&&t()})}static or(e){let t=Ht.resolve(!1);for(const o of e)t=t.next(l=>l?Ht.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,h)=>{o.push(t.call(this,l,h))}),this.waitFor(o)}}class Uc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new E,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new hl(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=du(o.target.error);this.At.reject(new hl(e,l))}}static open(e,t,o,l){try{return new Uc(t,e.transaction(l,o))}catch(h){throw new hl(t,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(hn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new By(t)}}class Oo{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===Oo.Vt((0,_t.z$)())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return hn("SimpleDb","Removing database:",e),Lu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,_t.hl)())return!1;if(Oo.St())return!0;const e=(0,_t.z$)(),t=Oo.Vt(e),o=0<t&&t<10,l=Oo.Dt(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,oe.Z)(function*(){return t.db||(hn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=_=>{o(_.target.result)},h.onblocked=()=>{l(new hl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=_=>{const x=_.target.error;l("VersionError"===x.name?new v(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new v(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new hl(e,x))},h.onupgradeneeded=_=>{hn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.Pt.kt(_.target.result,h.transaction,_.oldVersion,t.version).next(()=>{hn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var h=this;return(0,oe.Z)(function*(){const _="readonly"===t;let x=0;for(;;){++x;try{h.db=yield h.Nt(e);const W=Uc.open(h.db,e,_?"readonly":"readwrite",o),re=l(W).next(Ue=>(W.bt(),Ue)).catch(Ue=>(W.abort(Ue),Ht.reject(Ue))).toPromise();return re.catch(()=>{}),yield W.Rt,re}catch(W){const re="FirebaseError"!==W.name&&x<3;if(hn("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),h.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fg{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Lu(this.Ft.delete())}}class hl extends v{constructor(e,t){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fl(i){return"IndexedDbTransactionError"===i.name}class By{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(hn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(hn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Lu(o)}add(e){return hn("SimpleDb","ADD",this.store.name,e,e),Lu(this.store.add(e))}get(e){return Lu(this.store.get(e)).next(t=>(void 0===t&&(t=null),hn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return hn("SimpleDb","DELETE",this.store.name,e),Lu(this.store.delete(e))}count(){return hn("SimpleDb","COUNT",this.store.name),Lu(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),h=[];return this.Gt(l,(_,x)=>{h.push(x)}).next(()=>h)}{const l=this.store.getAll(o.range);return new Ht((h,_)=>{l.onerror=x=>{_(x.target.error)},l.onsuccess=x=>{h(x.target.result)}})}}Kt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Ht((l,h)=>{o.onerror=_=>{h(_.target.error)},o.onsuccess=_=>{l(_.target.result)}})}Qt(e,t){hn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const l=this.cursor(o);return this.Gt(l,(h,_,x)=>x.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.Gt(l,t)}zt(e){const t=this.cursor({});return new Ht((o,l)=>{t.onerror=h=>{const _=du(h.target.error);l(_)},t.onsuccess=h=>{const _=h.target.result;_?e(_.primaryKey,_.value).next(x=>{x?_.continue():o()}):o()}})}Gt(e,t){const o=[];return new Ht((l,h)=>{e.onerror=_=>{h(_.target.error)},e.onsuccess=_=>{const x=_.target.result;if(!x)return void l();const W=new fg(x),re=t(x.primaryKey,x.value,W);if(re instanceof Ht){const Ue=re.catch(it=>(W.done(),Ht.reject(it)));o.push(Ue)}W.isDone?l():null===W.Lt?x.continue():x.continue(W.Lt)}}).next(()=>Ht.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Lu(i){return new Ht((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=du(o.target.error);t(l)}})}let Zh=!1;function du(i){const e=Oo.Vt((0,_t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new v("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zh||(Zh=!0,setTimeout(()=>{throw o},0)),o}}return i}class Kh extends hg{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ds(i,e){const t=An(i);return Oo.xt(t.Ht,e)}class Xh{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&St(h,e,o[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&un(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&un(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(hr.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pi())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(t,o)=>vr(t,o))&&Ys(this.baseMutations,e.baseMutations,(t,o)=>vr(t,o))}}class Kl{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){pr(e.mutations.length===o.length);let l=by;const h=e.mutations;for(let _=0;_<h.length;_++)l=l.insert(h[_].key,o[_].version);return new Kl(e,t,o,l)}}class Jh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hu{constructor(e,t,o,l,h=hr.min(),_=hr.min(),x=Yi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=x}withSequenceNumber(e){return new hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Qh{constructor(e){this.Jt=e}}function Ld(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$c(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:zl(l=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:cu(l,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Ua(e.version)};else{if(!e.isUnknownDocument())return Ln();o.unknownDocument={path:t.path.toArray(),version:Ua(e.version)}}var l,h;return o}function $c(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ua(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $a(i){const e=new ti(i.seconds,i.nanoseconds);return hr.fromTimestamp(e)}function pl(i,e){const t=(e.baseMutations||[]).map(h=>Wl(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const _=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(_.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>Wl(i.Jt,h)),l=ti.fromMillis(e.localWriteTimeMs);return new Xh(e.batchId,l,t,o)}function gl(i){const e=$a(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?$a(i.lastLimboFreeSnapshotVersion):hr.min();let o;var l;return void 0!==i.query.documents?(pr(1===(l=i.query).documents.length),o=yo(Pu(Jp(l.documents[0])))):o=yo(rg(i.query)),new hu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Yi.fromBase64String(i.resumeToken))}function ef(i,e){const t=Ua(e.snapshotVersion),o=Ua(e.lastLimboFreeSnapshotVersion);let l;l=Ru(e.target)?tg(i.Jt,e.target):ng(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oi(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function jc(i){const e=rg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ol(e,e.limit,"L"):e}function ml(i,e){return new Jh(e.largestBatchId,Wl(i.Jt,e.overlayMutation))}function gg(i,e){const t=e.path.lastSegment();return[i,is(e.path.popLast()),t]}class mg{getBundleMetadata(e,t){return yg(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:$a(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return yg(e).put({bundleId:(o=t).id,createTime:Ua(ks(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return vg(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:jc(l.bundledQuery),readTime:$a(l.readTime)};var l})}saveNamedQuery(e,t){return vg(e).put({name:(o=t).name,readTime:Ua(ks(o.readTime)),bundledQuery:o.bundledQuery});var o}}function yg(i){return Ds(i,"bundles")}function vg(i){return Ds(i,"namedQueries")}class Bd{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Bd(e,t.uid||"")}getOverlay(e,t){return yl(e).get(gg(this.userId,t)).next(o=>o?ml(this.M,o):null)}saveOverlays(e,t,o){const l=[];return o.forEach((h,_)=>{const x=new Jh(t,_);l.push(this.Xt(e,x))}),Ht.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(_=>l.add(is(_.getCollectionPath())));const h=[];return l.forEach(_=>{const x=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);h.push(yl(e).Qt("collectionPathOverlayIndex",x))}),Ht.waitFor(h)}getOverlaysForCollection(e,t,o){const l=Ki(),h=is(t),_=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return yl(e).qt("collectionPathOverlayIndex",_).next(x=>{for(const W of x){const re=ml(this.M,W);l.set(re.getKey(),re)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const h=Ki();let _;const x=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yl(e).Wt({index:"collectionGroupOverlayIndex",range:x},(W,re,Ue)=>{const it=ml(this.M,re);h.size()<l||it.largestBatchId===_?(h.set(it.getKey(),it),_=it.largestBatchId):Ue.done()}).next(()=>h)}Xt(e,t){return yl(e).put(function(o,l,h){const[_,x,W]=gg(l,h.mutation.key);return{userId:l,collectionPath:x,documentId:W,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Bc(o.Jt,h.mutation)}}(this.M,this.userId,t))}}function yl(i){return Ds(i,"documentOverlays")}class vl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Vi(e.integerValue));else if("doubleValue"in e){const o=Vi(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),hs(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ws(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?j(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Ln()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const l of Object.keys(o))this.re(l,t),this.te(o[l],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const l of o)this.te(l,t)}ae(e,t){this.ne(t,37),xn.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function H_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function tf(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const h=H_(255&t[l]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}vl.fe=new vl;class Vy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=t.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=t.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const t=this.Ee(e),o=tf(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Re(e){const t=this.Ee(e),o=tf(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,l,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class _g{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Uy{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Vd{constructor(){this.De=new Vy,this.Ce=new _g(this.De),this.xe=new Uy(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ns{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ns(this.indexId,this.documentKey,this.arrayValue,o)}}function _l(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=nf(i.arrayValue,e.arrayValue),0!==t?t:(t=nf(i.directionalValue,e.directionalValue),0!==t?t:xn.comparator(i.documentKey,e.documentKey)))}function nf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class $y{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=Cr(e);if(void 0!==t&&!this.Be(t))return!1;const o=yr(e);let l=0,h=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const _=o[l];if(!this.Le(this.Fe,_)||!this.Ue(this.Me[h++],_))return!1;++l}for(;l<o.length;++l){const _=o[l];if(h>=this.Me.length||!this.Ue(this.Me[h++],_))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class jy{constructor(){this.qe=new rf}addToCollectionParentIndex(e,t){return this.qe.add(t),Ht.resolve()}getCollectionParents(e,t){return Ht.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ht.resolve()}deleteFieldIndex(e,t){return Ht.resolve()}getDocumentsMatchingTarget(e,t){return Ht.resolve(null)}getFieldIndex(e,t){return Ht.resolve(null)}getFieldIndexes(e,t){return Ht.resolve([])}getNextCollectionGroupToUpdate(e){return Ht.resolve(null)}updateCollectionGroup(e,t,o){return Ht.resolve()}updateIndexEntries(e,t){return Ht.resolve()}}class rf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new $i(Kr.comparator),h=!l.has(o);return this.index[t]=l.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new $i(Kr.comparator)).toArray()}}const Ud=new Uint8Array(0);class bg{constructor(e){this.user=e,this.Ge=new rf,this.Ke=new Fa(t=>oi(t),(t,o)=>su(t,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const h={collectionId:o,parent:is(l)};return Eg(e).put(h)}return Ht.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Zs(t),""],!1,!0);return Eg(e).qt(l).next(h=>{for(const _ of h){if(_.collectionId!==t)break;o.push(Va(_.parent))}return o})}addFieldIndex(e,t){const o=$d(e),l={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(_=>[_.fieldPath.canonicalString(),_.kind])};var h;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,t){const o=$d(e),l=kr(e),h=Hc(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Hc(e);let l=!0;const h=new Map;return Ht.forEach(this.Qe(t),_=>this.getFieldIndex(e,_).next(x=>{l&&(l=!!x),h.set(_,x)})).next(()=>{if(l){let _=pi();return Ht.forEach(h,(x,W)=>{var re;hn("IndexedDbIndexManager",`Using index ${re=x,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(ei=>`${ei.fieldPath}:${ei.kind}`).join(",")}`} to execute ${oi(t)}`);const Ue=function(ei,Fs){const Ji=Cr(Fs);if(void 0===Ji)return null;for(const Gi of pa(ei,Ji.fieldPath))switch(Gi.op){case"array-contains-any":return Gi.value.arrayValue.values||[];case"array-contains":return[Gi.value]}return null}(W,x),it=function(ei,Fs){const Ji=new Map;for(const Gi of yr(Fs))for(const bi of pa(ei,Gi.fieldPath))switch(bi.op){case"==":case"in":Ji.set(Gi.fieldPath.canonicalString(),bi.value);break;case"not-in":case"!=":return Ji.set(Gi.fieldPath.canonicalString(),bi.value),Array.from(Ji.values())}return null}(W,x),Rt=function(ei,Fs){const Ji=[];let Gi=!0;for(const wa of yr(Fs)){let no,Vl=!0;for(const Ss of pa(ei,wa.fieldPath)){let Qi,Za=!0;switch(Ss.op){case"<":case"<=":Qi="nullValue"in(bi=Ss.value)?Wo:"booleanValue"in bi?{booleanValue:!1}:"integerValue"in bi||"doubleValue"in bi?{doubleValue:NaN}:"timestampValue"in bi?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in bi?{stringValue:""}:"bytesValue"in bi?{bytesValue:""}:"referenceValue"in bi?go(fo.empty(),xn.empty()):"geoPointValue"in bi?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in bi?{arrayValue:{}}:"mapValue"in bi?{mapValue:{}}:Ln();break;case"==":case"in":case">=":Qi=Ss.value;break;case">":Qi=Ss.value,Za=!1;break;case"!=":case"not-in":Qi=Wo}le(no,Qi)===Qi&&(no=Qi,Vl=Za)}if(null!==ei.startAt)for(let Ss=0;Ss<ei.orderBy.length;++Ss)if(ei.orderBy[Ss].field.isEqual(wa.fieldPath)){const Qi=ei.startAt.position[Ss];le(no,Qi)===Qi&&(no=Qi,Vl=ei.startAt.inclusive);break}if(void 0===no)return null;Ji.push(no),Gi&&(Gi=Vl)}var bi;return new Yo(Ji,Gi)}(W,x),Qt=function(ei,Fs){const Ji=[];let Gi=!0;for(const wa of yr(Fs)){let no,Vl=!0;for(const Ss of pa(ei,wa.fieldPath)){let Qi,Za=!0;switch(Ss.op){case">=":case">":Qi="nullValue"in(bi=Ss.value)?{booleanValue:!1}:"booleanValue"in bi?{doubleValue:NaN}:"integerValue"in bi||"doubleValue"in bi?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in bi?{stringValue:""}:"stringValue"in bi?{bytesValue:""}:"bytesValue"in bi?go(fo.empty(),xn.empty()):"referenceValue"in bi?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in bi?{arrayValue:{}}:"arrayValue"in bi?{mapValue:{}}:"mapValue"in bi?nu:Ln(),Za=!1;break;case"==":case"in":case"<=":Qi=Ss.value;break;case"<":Qi=Ss.value,Za=!1;break;case"!=":case"not-in":Qi=nu}$e(no,Qi)===Qi&&(no=Qi,Vl=Za)}if(null!==ei.endAt)for(let Ss=0;Ss<ei.orderBy.length;++Ss)if(ei.orderBy[Ss].field.isEqual(wa.fieldPath)){const Qi=ei.endAt.position[Ss];$e(no,Qi)===Qi&&(no=Qi,Vl=ei.endAt.inclusive);break}if(void 0===no)return null;Ji.push(no),Gi&&(Gi=Vl)}var bi;return new Yo(Ji,Gi)}(W,x),dn=this.je(x,W,Rt),Qn=this.je(x,W,Qt),Nr=this.We(x,W,it),Xi=this.ze(x.indexId,Ue,dn,!!Rt&&Rt.inclusive,Qn,!!Qt&&Qt.inclusive,Nr);return Ht.forEach(Xi,ei=>o.Kt(ei,t.limit).next(Fs=>{Fs.forEach(Ji=>{_=_.add(new xn(Va(Ji.documentKey)))})}))}).next(()=>_)}return Ht.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,o,l,h,_,x){const W=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=h?h.length:1),re=W/(null!=t?t.length:1),Ue=[];for(let it=0;it<W;++it){const Rt=t?this.He(t[it/re]):Ud,Qt=o?this.Je(e,Rt,o[it%re],l):this.Ye(e),dn=h?this.Xe(e,Rt,h[it%re],_):this.Ye(e+1);Ue.push(...this.createRange(Qt,dn,x.map(Qn=>this.Je(e,Rt,Qn,!0))))}return Ue}Je(e,t,o,l){const h=new Ns(e,xn.empty(),t,o);return l?h:h.ke()}Xe(e,t,o,l){const h=new Ns(e,xn.empty(),t,o);return l?h.ke():h}Ye(e){return new Ns(e,xn.empty(),Ud,Ud)}getFieldIndex(e,t){const o=new $y(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(h=>{const _=h.filter(x=>o.$e(x));return _.sort((x,W)=>W.fields.length-x.fields.length),_.length>0?_[0]:null})}Ze(e,t){const o=new Vd;for(const l of yr(e)){const h=t.data.field(l.fieldPath);if(null==h)return null;const _=o.Ne(l.kind);vl.fe.Zt(h,_)}return o.Se()}He(e){const t=new Vd;return vl.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,o){if(null===o)return[];let l=[];l.push(new Vd);let h=0;for(const _ of yr(e)){const x=o[h++];for(const W of l)if(this.tn(t,_.fieldPath)&&iu(x))l=this.en(l,_,x);else{const re=W.Ne(_.kind);vl.fe.Zt(x,re)}}return this.nn(l)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}nn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}en(e,t,o){const l=[...e],h=[];for(const _ of o.arrayValue.values||[])for(const x of l){const W=new Vd;W.seed(x.Se()),vl.fe.Zt(_,W.Ne(t.kind)),h.push(W)}return h}tn(e,t){return!!e.filters.find(o=>o instanceof vs&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=$d(e),l=kr(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(h=>{const _=[];return Ht.forEach(h,x=>l.get([x.indexId,this.uid]).next(W=>{_.push(function(re,Ue){const it=Ue?new Tr(Ue.sequenceNumber,new Ps($a(Ue.readTime),new xn(Va(Ue.documentKey)),Ue.largestBatchId)):Tr.empty(),Rt=re.fields.map(([Qt,dn])=>new Xr(ss.fromServerFormat(Qt),dn));return new $n(re.indexId,re.collectionGroup,Rt,it)}(x,W))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const h=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==h?h:Ar(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=$d(e),h=kr(e);return this.sn(e).next(_=>l.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>Ht.forEach(x,W=>{return h.put({indexId:W.indexId,uid:this.user.uid||"",sequenceNumber:_,readTime:Ua((Rt=o).readTime),documentKey:is(Rt.documentKey.path),largestBatchId:Rt.largestBatchId});var Rt})))}updateIndexEntries(e,t){const o=new Map;return Ht.forEach(t,(l,h)=>{const _=o.get(l.collectionGroup);return(_?Ht.resolve(_):this.getFieldIndexes(e,l.collectionGroup)).next(x=>(o.set(l.collectionGroup,x),Ht.forEach(x,W=>this.rn(e,l,W).next(re=>{const Ue=this.on(h,W);return re.isEqual(Ue)?Ht.resolve():this.un(e,h,re,Ue)}))))})}an(e,t,o){return Hc(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,documentKey:is(t.key.path)})}cn(e,t,o){return Hc(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,is(t.key.path)])}rn(e,t,o){const l=Hc(e);let h=new $i(_l);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,is(t.path)])},(_,x)=>{h=h.add(new Ns(o.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>h)}on(e,t){let o=new $i(_l);const l=this.Ze(t,e);if(null==l)return o;const h=Cr(t);if(null!=h){const _=e.data.field(h.fieldPath);if(iu(_))for(const x of _.arrayValue.values||[])o=o.add(new Ns(t.indexId,e.key,this.He(x),l))}else o=o.add(new Ns(t.indexId,e.key,Ud,l));return o}un(e,t,o,l){hn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(_,x,W,re,Ue){const it=_.getIterator(),Rt=x.getIterator();let Qt=dl(it),dn=dl(Rt);for(;Qt||dn;){let Qn=!1,Nr=!1;if(Qt&&dn){const Xi=W(Qt,dn);Xi<0?Nr=!0:Xi>0&&(Qn=!0)}else null!=Qt?Nr=!0:Qn=!0;Qn?(re(dn),dn=dl(Rt)):Nr?(Ue(Qt),Qt=dl(it)):(Qt=dl(it),dn=dl(Rt))}}(o,l,_l,_=>{h.push(this.an(e,t,_))},_=>{h.push(this.cn(e,t,_))}),Ht.waitFor(h)}sn(e){let t=1;return kr(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,h)=>{h.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((_,x)=>_l(_,x)).filter((_,x,W)=>!x||0!==_l(_,W[x-1]));const l=[];l.push(e);for(const _ of o){const x=_l(_,e),W=_l(_,t);if(0===x)l[0]=e.ke();else if(x>0&&W<0)l.push(_),l.push(_.ke());else if(W>0)break}l.push(t);const h=[];for(let _=0;_<l.length;_+=2)h.push(IDBKeyRange.bound([l[_].indexId,this.uid,l[_].arrayValue,l[_].directionalValue,""],[l[_+1].indexId,this.uid,l[_+1].arrayValue,l[_+1].directionalValue,""]));return h}}function Eg(i){return Ds(i,"collectionParents")}function Hc(i){return Ds(i,"indexEntries")}function $d(i){return Ds(i,"indexConfiguration")}function kr(i){return Ds(i,"indexState")}const sf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function af(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),h=[],_=IDBKeyRange.only(t.batchId);let x=0;const W=o.Wt({range:_},(Ue,it,Rt)=>(x++,Rt.delete()));h.push(W.next(()=>{pr(1===x)}));const re=[];for(const Ue of t.mutations){const it=ma(e,Ue.key.path,t.batchId);h.push(l.delete(it)),re.push(Ue.key)}return Ht.waitFor(h).next(()=>re)}function bl(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Ln();e=i.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class Po{constructor(e,t,o,l){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=l,this.hn={}}static Yt(e,t,o,l){pr(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new Po(h,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bu(e).Wt({index:"userMutationsIndex",range:o},(l,h,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const h=Vu(e),_=Bu(e);return _.add({}).next(x=>{pr("number"==typeof x);const W=new Xh(x,t,o,l),re=function(Rt,Qt,dn){const Qn=dn.baseMutations.map(Xi=>Bc(Rt.Jt,Xi)),Nr=dn.mutations.map(Xi=>Bc(Rt.Jt,Xi));return{userId:Qt,batchId:dn.batchId,localWriteTimeMs:dn.localWriteTime.toMillis(),baseMutations:Qn,mutations:Nr}}(this.M,this.userId,W),Ue=[];let it=new $i((Rt,Qt)=>Ar(Rt.canonicalString(),Qt.canonicalString()));for(const Rt of l){const Qt=ma(this.userId,Rt.key.path,x);it=it.add(Rt.key.path.popLast()),Ue.push(_.put(re)),Ue.push(h.put(Qt,Gh))}return it.forEach(Rt=>{Ue.push(this.indexManager.addToCollectionParentIndex(e,Rt))}),e.addOnCommittedListener(()=>{this.hn[x]=W.keys()}),Ht.waitFor(Ue).next(()=>W)})}lookupMutationBatch(e,t){return Bu(e).get(t).next(o=>o?(pr(o.userId===this.userId),pl(this.M,o)):null)}ln(e,t){return this.hn[t]?Ht.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.hn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return Bu(e).Wt({index:"userMutationsIndex",range:l},(_,x,W)=>{x.userId===this.userId&&(pr(x.batchId>=o),h=pl(this.M,x)),W.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Bu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(l,h,_)=>{o=h.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bu(e).qt("userMutationsIndex",t).next(o=>o.map(l=>pl(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Hh(this.userId,t.path),l=IDBKeyRange.lowerBound(o),h=[];return Vu(e).Wt({range:l},(_,x,W)=>{const[re,Ue,it]=_,Rt=Va(Ue);if(re===this.userId&&t.path.isEqual(Rt))return Bu(e).get(it).next(Qt=>{if(!Qt)throw Ln();pr(Qt.userId===this.userId),h.push(pl(this.M,Qt))});W.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new $i(Ar);const l=[];return t.forEach(h=>{const _=Hh(this.userId,h.path),x=IDBKeyRange.lowerBound(_),W=Vu(e).Wt({range:x},(re,Ue,it)=>{const[Rt,Qt,dn]=re,Qn=Va(Qt);Rt===this.userId&&h.path.isEqual(Qn)?o=o.add(dn):it.done()});l.push(W)}),Ht.waitFor(l).next(()=>this.fn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,h=Hh(this.userId,o),_=IDBKeyRange.lowerBound(h);let x=new $i(Ar);return Vu(e).Wt({range:_},(W,re,Ue)=>{const[it,Rt,Qt]=W,dn=Va(Rt);it===this.userId&&o.isPrefixOf(dn)?dn.length===l&&(x=x.add(Qt)):Ue.done()}).next(()=>this.fn(e,x))}fn(e,t){const o=[],l=[];return t.forEach(h=>{l.push(Bu(e).get(h).next(_=>{if(null===_)throw Ln();pr(_.userId===this.userId),o.push(pl(this.M,_))}))}),Ht.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return af(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),Ht.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ht.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Vu(e).Wt({range:o},(h,_,x)=>{if(h[0]===this.userId){const W=Va(h[1]);l.push(W)}else x.done()}).next(()=>{pr(0===l.length)})})}containsKey(e,t){return uf(e,this.userId,t)}_n(e){return ja(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uf(i,e,t){const o=Hh(e,t.path),l=o[1],h=IDBKeyRange.lowerBound(o);let _=!1;return Vu(i).Wt({range:h,jt:!0},(x,W,re)=>{const[Ue,it,Rt]=x;Ue===e&&it===l&&(_=!0),re.done()}).next(()=>_)}function Bu(i){return Ds(i,"mutations")}function Vu(i){return Ds(i,"documentMutations")}function ja(i){return Ds(i,"mutationQueues")}class fu{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new fu(0)}static gn(){return new fu(-1)}}class wg{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const o=new fu(t.highestTargetId);return t.highestTargetId=o.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>hr.fromTimestamp(new ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.yn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.pn(e,l)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(o=>(o.targetCount+=1,this.Tn(t,o),this.pn(e,o))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Uu(e).delete(t.targetId)).next(()=>this.yn(e)).next(o=>(pr(o.targetCount>0),o.targetCount-=1,this.pn(e,o)))}removeTargets(e,t,o){let l=0;const h=[];return Uu(e).Wt((_,x)=>{const W=gl(x);W.sequenceNumber<=t&&null===o.get(W.targetId)&&(l++,h.push(this.removeTargetData(e,W)))}).next(()=>Ht.waitFor(h)).next(()=>l)}forEachTarget(e,t){return Uu(e).Wt((o,l)=>{const h=gl(l);t(h)})}yn(e){return Hy(e).get("targetGlobalKey").next(t=>(pr(null!==t),t))}pn(e,t){return Hy(e).put("targetGlobalKey",t)}In(e,t){return Uu(e).put(ef(this.M,t))}Tn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=oi(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Uu(e).Wt({range:l,index:"queryTargetsIndex"},(_,x,W)=>{const re=gl(x);su(t,re.target)&&(h=re,W.done())}).next(()=>h)}addMatchingKeys(e,t,o){const l=[],h=pu(e);return t.forEach(_=>{const x=is(_.path);l.push(h.put({targetId:o,path:x})),l.push(this.referenceDelegate.addReference(e,o,_))}),Ht.waitFor(l)}removeMatchingKeys(e,t,o){const l=pu(e);return Ht.forEach(t,h=>{const _=is(h.path);return Ht.waitFor([l.delete([o,_]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=pu(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=pu(e);let h=pi();return l.Wt({range:o,jt:!0},(_,x,W)=>{const re=Va(_[1]),Ue=new xn(re);h=h.add(Ue)}).next(()=>h)}containsKey(e,t){const o=is(t.path),l=IDBKeyRange.bound([o],[Zs(o)],!1,!0);let h=0;return pu(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([_,x],W,re)=>{0!==_&&(h++,re.done())}).next(()=>h>0)}Et(e,t){return Uu(e).get(t).next(o=>o?gl(o):null)}}function Uu(i){return Ds(i,"targets")}function Hy(i){return Ds(i,"targetGlobal")}function pu(i){return Ds(i,"targetDocuments")}function Xl(i){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,oe.Z)(function*(i){if(i.code!==w.FAILED_PRECONDITION||i.message!==dg)throw i;hn("LocalStore","Unexpectedly lost primary lease")}),Jl.apply(this,arguments)}function Gc([i,e],[t,o]){const l=Ar(i,t);return 0===l?Ar(e,o):l}class lf{constructor(e){this.En=e,this.buffer=new $i(Gc),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Gc(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cf{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const o=this.Pn?3e5:6e4;hn("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,oe.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){fl(l)?hn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Xl(l)}yield t.vn(e)}))}}class df{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Ht.resolve(Mr.A);const o=new lf(t);return this.Sn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Sn.Cn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Sn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector","Garbage collection skipped; disabled"),Ht.resolve(sf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sf):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let o,l,h,_,x,W,re;const Ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(it=>(it>this.params.maximumSequenceNumbersToCollect?(hn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${it}`),l=this.params.maximumSequenceNumbersToCollect):l=it,_=Date.now(),this.nthSequenceNumber(e,l))).next(it=>(o=it,x=Date.now(),this.removeTargets(e,o,t))).next(it=>(h=it,W=Date.now(),this.removeOrphanedDocuments(e,o))).next(it=>(re=Date.now(),qs()<=at.in.DEBUG&&hn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-Ue}ms\n\tDetermined least recently used ${l} in `+(x-_)+`ms\n\tRemoved ${h} targets in `+(W-x)+`ms\n\tRemoved ${it} documents in `+(re-W)+`ms\nTotal Duration: ${re-Ue}ms`),Ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:it})))}}class G_{constructor(e,t){this.db=e,this.garbageCollector=new df(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Nn(e){let t=0;return this.Cn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(o,l)=>t(l))}addReference(e,t,o){return jd(e,o)}removeReference(e,t,o){return jd(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return jd(e,t)}Mn(e,t){return function(o,l){let h=!1;return ja(o).zt(_=>uf(o,_,l).next(x=>(x&&(h=!0),Ht.resolve(!x)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.kn(e,(_,x)=>{if(x<=t){const W=this.Mn(e,_).next(re=>{if(!re)return h++,o.getEntry(e,_).next(()=>(o.removeEntry(_,hr.min()),pu(e).delete([0,is(_.path)])))});l.push(W)}}).next(()=>Ht.waitFor(l)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return jd(e,t)}kn(e,t){const o=pu(e);let l,h=Mr.A;return o.Wt({index:"documentTargetsIndex"},([_,x],{path:W,sequenceNumber:re})=>{0===_?(h!==Mr.A&&t(new xn(Va(l)),h),h=re,l=W):h=Mr.A}).next(()=>{h!==Mr.A&&t(new xn(Va(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jd(i,e){return pu(i).put((o=i.currentSequenceNumber,{targetId:0,path:is(e.path),sequenceNumber:o}));var o}class Ig{constructor(){this.changes=new Fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Ht.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gy{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Ql(e).put(o)}removeEntry(e,t,o){return Ql(e).delete(function(l,h){const _=l.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],$c(h),_[_.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.On(e,o)))}getEntry(e,t){let o=Jt.newInvalidDocument(t);return Ql(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(zc(t))},(l,h)=>{o=this.Fn(t,h)}).next(()=>o)}$n(e,t){let o={size:0,document:Jt.newInvalidDocument(t)};return Ql(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(zc(t))},(l,h)=>{o={document:this.Fn(t,h),size:bl(h)}}).next(()=>o)}getEntries(e,t){let o=Xo();return this.Bn(e,t,(l,h)=>{const _=this.Fn(l,h);o=o.insert(l,_)}).next(()=>o)}Ln(e,t){let o=Xo(),l=new Zi(xn.comparator);return this.Bn(e,t,(h,_)=>{const x=this.Fn(h,_);o=o.insert(h,x),l=l.insert(h,bl(_))}).next(()=>({documents:o,Un:l}))}Bn(e,t,o){if(t.isEmpty())return Ht.resolve();let l=new $i(ff);t.forEach(W=>l=l.add(W));const h=IDBKeyRange.bound(zc(l.first()),zc(l.last())),_=l.getIterator();let x=_.getNext();return Ql(e).Wt({index:"documentKeyIndex",range:h},(W,re,Ue)=>{const it=xn.fromSegments([...re.prefixPath,re.collectionGroup,re.documentId]);for(;x&&ff(x,it)<0;)o(x,null),x=_.getNext();x&&x.isEqual(it)&&(o(x,re),x=_.hasNext()?_.getNext():null),x?Ue.Ut(zc(x)):Ue.done()}).next(()=>{for(;x;)o(x,null),x=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,o){const l=[t.popLast().toArray(),t.lastSegment(),$c(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ql(e).qt(IDBKeyRange.bound(l,h,!0)).next(_=>{let x=Xo();for(const W of _){const re=this.Fn(xn.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);x=x.insert(re.key,re)}return x})}getAllFromCollectionGroup(e,t,o,l){let h=Xo();const _=Wy(t,o),x=Wy(t,Ps.max());return Ql(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,x,!0)},(W,re,Ue)=>{const it=this.Fn(xn.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);h=h.insert(it.key,it),h.size===l&&Ue.done()}).next(()=>h)}newChangeBuffer(e){return new zy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hf(e).get("remoteDocumentGlobalKey").next(t=>(pr(!!t),t))}On(e,t){return hf(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const o=function pg(i,e){let t;if(e.document)t=eg(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=xn.fromSegments(e.noDocument.path),l=$a(e.noDocument.readTime);t=Jt.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ln();{const o=xn.fromSegments(e.unknownDocument.path),l=$a(e.unknownDocument.version);t=Jt.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new ti(o[0],o[1]);return hr.fromTimestamp(l)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(hr.min()))return o}return Jt.newInvalidDocument(e)}}class zy extends Ig{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Fa(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new $i((h,_)=>Ar(h.canonicalString(),_.canonicalString()));return this.changes.forEach((h,_)=>{const x=this.Gn.get(h);if(t.push(this.qn.removeEntry(e,h,x.readTime)),_.isValidDocument()){const W=Ld(this.qn.M,_);l=l.add(h.path.popLast()),o+=bl(W)-x.size,t.push(this.qn.addEntry(e,h,W))}else if(o-=x.size,this.trackRemovals){const W=Ld(this.qn.M,_.convertToNoDocument(hr.min()));t.push(this.qn.addEntry(e,h,W))}}),l.forEach(h=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.qn.updateMetadata(e,o)),Ht.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:o,Un:l})=>(l.forEach((h,_)=>{this.Gn.set(h,{size:_,readTime:o.get(h).readTime})}),o))}}function hf(i){return Ds(i,"remoteDocumentGlobal")}function Ql(i){return Ds(i,"remoteDocumentsV14")}function zc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wy(i,e){const t=e.documentKey.path.toArray();return[i,$c(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ff(i,e){const t=i.path.length-e.path.length;return 0!==t?t:xn.comparator(i,e)}class Cg{constructor(e){this.M=e}kt(e,t,o,l){const h=new Uc("createOrUpgrade",t);var x;o<1&&l>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jh,{unique:!0}),x.createObjectStore("documentMutations"),Dg(e),function(x){x.createObjectStore("remoteDocuments")}(e));let _=Ht.resolve();return o<3&&l>=3&&(0!==o&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),Dg(e)),_=_.next(()=>function(x){const W=x.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hr.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",re)}(h))),o<4&&l>=4&&(0!==o&&(_=_.next(()=>function(x,W){return W.store("mutations").qt().next(re=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jh,{unique:!0});const Ue=W.store("mutations"),it=re.map(Rt=>Ue.put(Rt));return Ht.waitFor(it)})}(e,h))),_=_.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(_=_.next(()=>this.Kn(h))),o<6&&l>=6&&(_=_.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(h)))),o<7&&l>=7&&(_=_.next(()=>this.jn(h))),o<8&&l>=8&&(_=_.next(()=>this.Wn(e,h))),o<9&&l>=9&&(_=_.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(_=_.next(()=>this.zn(h))),o<11&&l>=11&&(_=_.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(_=_.next(()=>{!function(x){const W=x.createObjectStore("documentOverlays",{keyPath:Yh});W.createIndex("collectionPathOverlayIndex",lg,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Ny,{unique:!1})}(e)})),o<13&&l>=13&&(_=_.next(()=>function(x){const W=x.createObjectStore("remoteDocumentsV14",{keyPath:zh});W.createIndex("documentKeyIndex",ky),W.createIndex("collectionGroupIndex",sg)}(e)).next(()=>this.Hn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(_=_.next(()=>{!function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:qh}).createIndex("sequenceNumberIndex",ug,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:j_}).createIndex("documentKeyIndex",Zl,{unique:!1})}(e)})),_}Qn(e){let t=0;return e.store("remoteDocuments").Wt((o,l)=>{t+=bl(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Kn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(l=>Ht.forEach(l,h=>{const _=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",_).next(x=>Ht.forEach(x,W=>{pr(W.userId===h.userId);const re=pl(this.M,W);return af(e,h.userId,re).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const h=[];return o.Wt((_,x)=>{const W=new Kr(_),re=[0,is(W)];h.push(t.get(re).next(Ue=>Ue?Ht.resolve():t.put({targetId:0,path:is(W),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Ht.waitFor(h))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Wh});const o=t.store("collectionParents"),l=new rf,h=_=>{if(l.add(_)){const x=_.lastSegment(),W=_.popLast();return o.put({collectionId:x,parent:is(W)})}};return t.store("remoteDocuments").Wt({jt:!0},(_,x)=>{const W=new Kr(_);return h(W.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([_,x,W],re)=>{const Ue=Va(x);return h(Ue.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((o,l)=>{const h=gl(l),_=ef(this.M,h);return t.put(_)})}Hn(e,t){const o=t.store("remoteDocuments"),l=[];return o.Wt((h,_)=>{const x=t.store("remoteDocumentsV14"),W=(re=_,re.document?new xn(Kr.fromString(re.document.name).popFirst(5)):re.noDocument?xn.fromSegments(re.noDocument.path):re.unknownDocument?xn.fromSegments(re.unknownDocument.path):Ln()).path.toArray();var re;const Ue={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};l.push(x.put(Ue))}).next(()=>Ht.waitFor(l))}}function Dg(i){i.createObjectStore("targetDocuments",{keyPath:og}).createIndex("documentTargetsIndex",ag,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vc,{unique:!0}),i.createObjectStore("targetGlobal")}const Wc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tg{constructor(e,t,o,l,h,_,x,W,re,Ue,it=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Jn=h,this.window=_,this.document=x,this.Yn=re,this.Xn=Ue,this.Zn=it,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Rt=>Promise.resolve(),!Tg.vt())throw new v(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new G_(this,l),this.cs=t+"main",this.M=new Qh(W),this.hs=new Oo(this.cs,this.Zn,new Cg(this.M)),this.ls=new wg(this.referenceDelegate,this.M),this.fs=new Gy(this.M),this.ds=new mg,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===Ue&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new v(w.FAILED_PRECONDITION,Wc);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Mr(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var o=(0,oe.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,oe.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>pf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(fl(e))return hn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return hn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Hd(e).get("owner").next(t=>Ht.resolve(this.bs(t)))}Ps(e){return pf(e).delete(this.clientId)}Vs(){var e=this;return(0,oe.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ds(o,"clientMetadata");return l.qt().next(h=>{const _=e.Ss(h,18e5),x=h.filter(W=>-1===_.indexOf(W));return Ht.forEach(x,W=>l.delete(W.clientId)).next(()=>x)})}).catch(()=>[]);if(e._s)for(const o of t)e._s.removeItem(e.Ds(o.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?Ht.resolve(!0):Hd(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new v(w.FAILED_PRECONDITION,Wc);return!1}}return!(!this.networkEnabled||!this.inForeground)||pf(e).qt().next(o=>void 0===this.Ss(o,5e3).find(l=>{if(this.clientId!==l.clientId){const _=!this.inForeground&&l.inForeground,x=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||_&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&hn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,oe.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Kh(t,Mr.A);return e.As(o).next(()=>e.Ps(o))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(o=>this.vs(o.updateTimeMs,t)&&!this.Cs(o.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>pf(e).qt().next(t=>this.Ss(t,18e5).map(o=>o.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Po.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new bg(e)}getDocumentOverlayCache(e){return Bd.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,o){hn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",h=14===(_=this.Zn)?Ly:13===_?cg:12===_?Fy:11===_?Fd:void Ln();var _;let x;return this.hs.runTransaction(e,l,h,W=>(x=new Kh(W,this.ts?this.ts.next():Mr.A),"readwrite-primary"===t?this.Ts(x).next(re=>!!re||this.Es(x)).next(re=>{if(!re)throw Mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new v(w.FAILED_PRECONDITION,dg);return o(x)}).next(re=>this.Rs(x).next(()=>re)):this.Fs(x).next(()=>o(x)))).then(W=>(x.raiseOnCommittedEvent(),W))}Fs(e){return Hd(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new v(w.FAILED_PRECONDITION,Wc)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hd(e).put("owner",t)}static vt(){return Oo.vt()}As(e){const t=Hd(e);return t.get("owner").next(o=>this.bs(o)?(hn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ht.resolve())}vs(e,t){const o=Date.now();return!(e<o-t||e>o&&(Mi(`Detected an update time that is in the future: ${e} > ${o}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,_t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const o=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return hn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Mi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Mi("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hd(i){return Ds(i,"owner")}function pf(i){return Ds(i,"clientMetadata")}function Sg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class z_{constructor(e,t,o){this.fs=e,this.$s=t,this.indexManager=o}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Ls(e,t,o))}Ls(e,t,o){return this.fs.getEntry(e,t).next(l=>{for(const h of o)h.applyToLocalView(l);return l})}Us(e,t){e.forEach((o,l)=>{for(const h of t)h.applyToLocalView(l)})}qs(e,t){return this.fs.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.Us(t,o))}Ks(e,t,o){return xn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.Qs(e,t.path):Sc(t)?this.js(e,t,o):this.Ws(e,t,o);var l}Qs(e,t){return this.Bs(e,new xn(t)).next(o=>{let l=Vh();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}js(e,t,o){const l=t.collectionGroup;let h=Vh();return this.indexManager.getCollectionParents(e,l).next(_=>Ht.forEach(_,x=>{const W=(re=t,Ue=x.child(l),new Ks(Ue,null,re.explicitOrderBy.slice(),re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt));var re,Ue;return this.Ws(e,W,o).next(re=>{re.forEach((Ue,it)=>{h=h.insert(Ue,it)})})}).next(()=>h))}Ws(e,t,o){let l;return this.fs.getAllFromCollection(e,t.path,o).next(h=>(l=h,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(h=>{for(const _ of h)for(const x of _.mutations){const W=x.key;let re=l.get(W);null==re&&(re=Jt.newInvalidDocument(W),l=l.insert(W,re)),un(x,re,_.localWriteTime),re.isFoundDocument()||(l=l.remove(W))}}).next(()=>(l.forEach((h,_)=>{Hl(t,_)||(l=l.remove(h))}),l))}}class Ag{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.zs=o,this.Hs=l}static Js(e,t){let o=pi(),l=pi();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Ag(e,t.fromCache,o,l)}}class qy{Ys(e){this.Xs=e}Ks(e,t,o,l){return 0===(h=t).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(hr.min())?this.Zs(e,t):this.Xs.qs(e,l).next(h=>{const _=this.ti(t,h);return(Dc(t)||sl(t))&&this.ei(t.limitType,_,l,o)?this.Zs(e,t):(qs()<=at.in.DEBUG&&hn("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ac(t)),this.Xs.Ks(e,t,js(o,-1)).next(x=>(_.forEach(W=>{x=x.insert(W.key,W)}),x)))});var h}ti(e,t){let o=new $i(al(e));return t.forEach((l,h)=>{Hl(e,h)&&(o=o.add(h))}),o}ei(e,t,o,l){if(o.size!==t.size)return!0;const h="F"===e?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Zs(e,t){return qs()<=at.in.DEBUG&&hn("QueryEngine","Using full collection scan to execute query:",Ac(t)),this.Xs.Ks(e,t,Ps.min())}}class W_{constructor(e,t,o,l){this.persistence=e,this.ni=t,this.M=l,this.si=new Zi(Ar),this.ii=new Fa(h=>oi(h),su),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(o)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new z_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function Yy(i,e,t,o){return new W_(i,e,t,o)}function Zy(i,e){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,oe.Z)(function*(i,e){const t=An(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.$s.getAllMutationBatches(o).next(h=>(l=h,t.ui(e),t.$s.getAllMutationBatches(o))).next(h=>{const _=[],x=[];let W=pi();for(const re of l){_.push(re.batchId);for(const Ue of re.mutations)W=W.add(Ue.key)}for(const re of h){x.push(re.batchId);for(const Ue of re.mutations)W=W.add(Ue.key)}return t.ai.qs(o,W).next(re=>({ci:re,removedBatchIds:_,addedBatchIds:x}))})})}),Ha.apply(this,arguments)}function gf(i,e){const t=An(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),h=t.oi.newChangeBuffer({trackRemovals:!0});return function(_,x,W,re){const Ue=W.batch,it=Ue.keys();let Rt=Ht.resolve();return it.forEach(Qt=>{Rt=Rt.next(()=>re.getEntry(x,Qt)).next(dn=>{const Qn=W.docVersions.get(Qt);pr(null!==Qn),dn.version.compareTo(Qn)<0&&(Ue.applyToRemoteDocument(dn,W),dn.isValidDocument()&&(dn.setReadTime(W.commitVersion),re.addEntry(dn)))})}),Rt.next(()=>_.$s.removeMutationBatch(x,Ue))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.$s.performConsistencyCheck(o)).next(()=>t.ai.qs(o,l))})}function xg(i){const e=An(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function Mg(i,e){const t=An(i),o=e.snapshotVersion;let l=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const _=t.oi.newChangeBuffer({trackRemovals:!0});l=t.si;const x=[];e.targetChanges.forEach((re,Ue)=>{const it=l.get(Ue);if(!it)return;x.push(t.ls.removeMatchingKeys(h,re.removedDocuments,Ue).next(()=>t.ls.addMatchingKeys(h,re.addedDocuments,Ue)));let Rt=it.withSequenceNumber(h.currentSequenceNumber);var Qt,dn,Qn;e.targetMismatches.has(Ue)?Rt=Rt.withResumeToken(Yi.EMPTY_BYTE_STRING,hr.min()).withLastLimboFreeSnapshotVersion(hr.min()):re.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(re.resumeToken,o)),l=l.insert(Ue,Rt),dn=Rt,Qn=re,(0===(Qt=it).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&x.push(t.ls.updateTargetData(h,Rt))});let W=Xo();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(h,re))}),x.push(Gd(h,_,e.documentUpdates).next(re=>{W=re})),!o.isEqual(hr.min())){const re=t.ls.getLastRemoteSnapshotVersion(h).next(Ue=>t.ls.setTargetsMetadata(h,h.currentSequenceNumber,o));x.push(re)}return Ht.waitFor(x).next(()=>_.apply(h)).next(()=>t.ai.Gs(h,W)).next(()=>W)}).then(h=>(t.si=l,h))}function Gd(i,e,t){let o=pi();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let h=Xo();return t.forEach((_,x)=>{const W=l.get(_);x.isNoDocument()&&x.version.isEqual(hr.min())?(e.removeEntry(_,x.readTime),h=h.insert(_,x)):!W.isValidDocument()||x.version.compareTo(W.version)>0||0===x.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(x),h=h.insert(_,x)):hn("LocalStore","Ignoring outdated watch update for ",_,". Current version:",W.version," Watch version:",x.version)}),h})}function Rg(i,e){const t=An(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(o,e)))}function $u(i,e){const t=An(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.ls.getTargetData(o,e).next(h=>h?(l=h,Ht.resolve(l)):t.ls.allocateTargetId(o).next(_=>(l=new hu(e,_,0,o.currentSequenceNumber),t.ls.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.si.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.si=t.si.insert(o.targetId,o),t.ii.set(e,o.targetId)),o})}function ec(i,e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,oe.Z)(function*(i,e,t){const o=An(i),l=o.si.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,_=>o.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!fl(_))throw _;hn("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.si=o.si.remove(e),o.ii.delete(l.target)}),Ga.apply(this,arguments)}function qc(i,e,t){const o=An(i);let l=hr.min(),h=pi();return o.persistence.runTransaction("Execute query","readonly",_=>function(x,W,re){const Ue=An(x),it=Ue.ii.get(re);return void 0!==it?Ht.resolve(Ue.si.get(it)):Ue.ls.getTargetData(W,re)}(o,_,yo(e)).next(x=>{if(x)return l=x.lastLimboFreeSnapshotVersion,o.ls.getMatchingKeysForTargetId(_,x.targetId).next(W=>{h=W})}).next(()=>o.ni.Ks(_,e,t?l:hr.min(),t?h:pi())).next(x=>(Pg(o,kh(e),x),{documents:x,hi:h})))}function Og(i,e){const t=An(i),o=An(t.ls),l=t.si.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(_=>_?_.target:null))}function zd(i,e){const t=An(i),o=t.ri.get(e)||hr.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.oi.getAllFromCollectionGroup(l,e,js(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Pg(t,e,l),l))}function Pg(i,e,t){let o=hr.min();t.forEach((l,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.ri.set(e,o)}function mf(){return mf=(0,oe.Z)(function*(i,e,t,o){const l=An(i);let h=pi(),_=Xo();for(const re of t){const Ue=e.li(re.metadata.name);re.document&&(h=h.add(Ue));const it=e.fi(re);it.setReadTime(e.di(re.metadata.readTime)),_=_.insert(Ue,it)}const x=l.oi.newChangeBuffer({trackRemovals:!0}),W=yield $u(l,(re=o,yo(Pu(Kr.fromString(`__bundle__/docs/${re}`)))));var re;return l.persistence.runTransaction("Apply bundle documents","readwrite",re=>Gd(re,x,_).next(Ue=>(x.apply(re),Ue)).next(Ue=>l.ls.removeMatchingKeysForTargetId(re,W.targetId).next(()=>l.ls.addMatchingKeys(re,h,W.targetId)).next(()=>l.ai.Gs(re,Ue)).next(()=>Ue)))}),mf.apply(this,arguments)}function Ky(i,e){return El.apply(this,arguments)}function El(){return El=(0,oe.Z)(function*(i,e,t=pi()){const o=yield $u(i,yo(jc(e.bundledQuery))),l=An(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const _=ks(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return l.ds.saveNamedQuery(h,e);const x=o.withResumeToken(Yi.EMPTY_BYTE_STRING,_);return l.si=l.si.insert(x.targetId,x),l.ls.updateTargetData(h,x).next(()=>l.ls.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>l.ls.addMatchingKeys(h,t,o.targetId)).next(()=>l.ds.saveNamedQuery(h,e))})}),El.apply(this,arguments)}class tc{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return Ht.resolve(this._i.get(t))}saveBundleMetadata(e,t){var o;return this._i.set(t.id,{id:(o=t).id,version:o.version,createTime:ks(o.createTime)}),Ht.resolve()}getNamedQuery(e,t){return Ht.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(o=t).name,query:jc(o.bundledQuery),readTime:ks(o.readTime)}),Ht.resolve();var o}}class yf{constructor(){this.overlays=new Zi(xn.comparator),this.mi=new Map}getOverlay(e,t){return Ht.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((l,h)=>{this.Xt(e,t,h)}),Ht.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.mi.get(o);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.mi.delete(o)),Ht.resolve()}getOverlaysForCollection(e,t,o){const l=Ki(),h=t.length+1,_=new xn(t.child("")),x=this.overlays.getIteratorFrom(_);for(;x.hasNext();){const W=x.getNext().value,re=W.getKey();if(!t.isPrefixOf(re.path))break;re.path.length===h&&W.largestBatchId>o&&l.set(W.getKey(),W)}return Ht.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let h=new Zi((re,Ue)=>re-Ue);const _=this.overlays.getIterator();for(;_.hasNext();){const re=_.getNext().value;if(re.getKey().getCollectionGroup()===t&&re.largestBatchId>o){let Ue=h.get(re.largestBatchId);null===Ue&&(Ue=Ki(),h=h.insert(re.largestBatchId,Ue)),Ue.set(re.getKey(),re)}}const x=Ki(),W=h.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((re,Ue)=>x.set(re,Ue)),!(x.size()>=l)););return Ht.resolve(x)}Xt(e,t,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const _=this.mi.get(l.largestBatchId).delete(o.key);this.mi.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new Jh(t,o));let h=this.mi.get(t);void 0===h&&(h=pi(),this.mi.set(t,h)),this.mi.set(t,h.add(o.key))}}class ju{constructor(){this.gi=new $i(us.yi),this.pi=new $i(us.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const o=new us(e,t);this.gi=this.gi.add(o),this.pi=this.pi.add(o)}Ti(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ei(new us(e,t))}Ai(e,t){e.forEach(o=>this.removeReference(o,t))}Ri(e){const t=new xn(new Kr([])),o=new us(t,e),l=new us(t,e+1),h=[];return this.pi.forEachInRange([o,l],_=>{this.Ei(_),h.push(_.key)}),h}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new xn(new Kr([])),o=new us(t,e),l=new us(t,e+1);let h=pi();return this.pi.forEachInRange([o,l],_=>{h=h.add(_.key)}),h}containsKey(e){const t=new us(e,0),o=this.gi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class us{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return xn.comparator(e.key,t.key)||Ar(e.Vi,t.Vi)}static Ii(e,t){return Ar(e.Vi,t.Vi)||xn.comparator(e.key,t.key)}}class nc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new $i(us.yi)}checkEmpty(e){return Ht.resolve(0===this.$s.length)}addMutationBatch(e,t,o,l){const h=this.vi;this.vi++;const _=new Xh(h,t,o,l);this.$s.push(_);for(const x of l)this.Si=this.Si.add(new us(x.key,h)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return Ht.resolve(_)}lookupMutationBatch(e,t){return Ht.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.Ci(t+1),h=l<0?0:l;return Ht.resolve(this.$s.length>h?this.$s[h]:null)}getHighestUnacknowledgedBatchId(){return Ht.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return Ht.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new us(t,0),l=new us(t,Number.POSITIVE_INFINITY),h=[];return this.Si.forEachInRange([o,l],_=>{const x=this.Di(_.Vi);h.push(x)}),Ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new $i(Ar);return t.forEach(l=>{const h=new us(l,0),_=new us(l,Number.POSITIVE_INFINITY);this.Si.forEachInRange([h,_],x=>{o=o.add(x.Vi)})}),Ht.resolve(this.xi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let h=o;xn.isDocumentKey(h)||(h=h.child(""));const _=new us(new xn(h),0);let x=new $i(Ar);return this.Si.forEachWhile(W=>{const re=W.key.path;return!!o.isPrefixOf(re)&&(re.length===l&&(x=x.add(W.Vi)),!0)},_),Ht.resolve(this.xi(x))}xi(e){const t=[];return e.forEach(o=>{const l=this.Di(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){pr(0===this.Ni(t.batchId,"removed")),this.$s.shift();let o=this.Si;return Ht.forEach(t.mutations,l=>{const h=new us(l.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Si=o})}dn(e){}containsKey(e,t){const o=new us(t,0),l=this.Si.firstAfterOrEqual(o);return Ht.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Ht.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class Xy{constructor(e){this.ki=e,this.docs=new Zi(xn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),h=l?l.size:0,_=this.ki(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:_}),this.size+=_-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Ht.resolve(o?o.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let o=Xo();return t.forEach(l=>{const h=this.docs.get(l);o=o.insert(l,h?h.document.mutableCopy():Jt.newInvalidDocument(l))}),Ht.resolve(o)}getAllFromCollection(e,t,o){let l=Xo();const h=new xn(t.child("")),_=this.docs.getIteratorFrom(h);for(;_.hasNext();){const{key:x,value:{document:W}}=_.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||fa(os(W),o)<=0||(l=l.insert(W.key,W.mutableCopy()))}return Ht.resolve(l)}getAllFromCollectionGroup(e,t,o,l){Ln()}Mi(e,t){return Ht.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Ng(this)}getSize(e){return Ht.resolve(this.size)}}class Ng extends Ig{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.qn.addEntry(e,l)):this.qn.removeEntry(o)}),Ht.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class Fg{constructor(e){this.persistence=e,this.Oi=new Fa(t=>oi(t),su),this.lastRemoteSnapshotVersion=hr.min(),this.highestTargetId=0,this.Fi=0,this.$i=new ju,this.targetCount=0,this.Bi=fu.mn()}forEachTarget(e,t){return this.Oi.forEach((o,l)=>t(l)),Ht.resolve()}getLastRemoteSnapshotVersion(e){return Ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ht.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),Ht.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Fi&&(this.Fi=t),Ht.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,Ht.resolve()}updateTargetData(e,t){return this.In(t),Ht.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,Ht.resolve()}removeTargets(e,t,o){let l=0;const h=[];return this.Oi.forEach((_,x)=>{x.sequenceNumber<=t&&null===o.get(x.targetId)&&(this.Oi.delete(_),h.push(this.removeMatchingKeysForTargetId(e,x.targetId)),l++)}),Ht.waitFor(h).next(()=>l)}getTargetCount(e){return Ht.resolve(this.targetCount)}getTargetData(e,t){const o=this.Oi.get(t)||null;return Ht.resolve(o)}addMatchingKeys(e,t,o){return this.$i.Ti(t,o),Ht.resolve()}removeMatchingKeys(e,t,o){this.$i.Ai(t,o);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(_=>{h.push(l.markPotentiallyOrphaned(e,_))}),Ht.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),Ht.resolve()}getMatchingKeysForTargetId(e,t){const o=this.$i.Pi(t);return Ht.resolve(o)}containsKey(e,t){return Ht.resolve(this.$i.containsKey(t))}}class vf{constructor(e,t){this.Li={},this.overlays={},this.ts=new Mr(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new Fg(this),this.indexManager=new jy,this.fs=new Xy(o=>this.referenceDelegate.Ui(o)),this.M=new Qh(t),this.ds=new tc(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Li[e.toKey()];return o||(o=new nc(t,this.referenceDelegate),this.Li[e.toKey()]=o),o}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,o){hn("MemoryPersistence","Starting transaction:",e);const l=new _f(this.ts.next());return this.referenceDelegate.qi(),o(l).next(h=>this.referenceDelegate.Gi(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ki(e,t){return Ht.or(Object.values(this.Li).map(o=>()=>o.containsKey(e,t)))}}class _f extends hg{constructor(e){super(),this.currentSequenceNumber=e}}class Wd{constructor(e){this.persistence=e,this.Qi=new ju,this.ji=null}static Wi(e){return new Wd(e)}get zi(){if(this.ji)return this.ji;throw Ln()}addReference(e,t,o){return this.Qi.addReference(o,t),this.zi.delete(o.toString()),Ht.resolve()}removeReference(e,t,o){return this.Qi.removeReference(o,t),this.zi.add(o.toString()),Ht.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),Ht.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(l=>this.zi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.zi.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ht.forEach(this.zi,o=>{const l=xn.fromPath(o);return this.Hi(e,l).next(h=>{h||t.removeEntry(l,hr.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(o=>{o?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return Ht.or([()=>Ht.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function Yc(i,e){return`firestore_clients_${i}_${e}`}function Lg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function qd(i,e){return`firestore_targets_${i}_${e}`}class bf{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static Ji(e,t,o){const l=JSON.parse(o);let h,_="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return _&&l.error&&(_="string"==typeof l.error.message&&"string"==typeof l.error.code,_&&(h=new v(l.error.code,l.error.message))),_?new bf(e,t,l.state,h):(Mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let l,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new v(o.error.code,o.error.message))),h?new rc(e,o.state,l):(Mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,h=xd();for(let _=0;l&&_<o.activeTargetIds.length;++_)l=po(o.activeTargetIds[_]),h=h.add(o.activeTargetIds[_]);return l?new Zc(e,h):(Mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ef{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ef(t.clientId,t.onlineState):(Mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yd{constructor(){this.activeTargetIds=xd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wf{constructor(e,t,o,l,h){this.window=e,this.Jn=t,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Zi(Ar),this.started=!1,this.ir=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.rr=Yc(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Yd),this.ar=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,oe.Z)(function*(){const t=yield e.syncEngine.Os();for(const l of t){if(l===e.tr)continue;const h=e.getItem(Yc(e.persistenceKey,l));if(h){const _=Zc.Ji(l,h);_&&(e.sr=e.sr.insert(_.clientId,_))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(qd(this.persistenceKey,e));if(o){const l=rc.Ji(e,o);l&&(t=l.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qd(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return hn("SharedClientState","READ",e,t),t}setItem(e,t){hn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){hn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(hn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,oe.Z)(function*(){if(t.started){if(null!==o.key)if(t.ar.test(o.key)){if(null==o.newValue){const l=t.Rr(o.key);return t.br(l,null)}{const l=t.Pr(o.key,o.newValue);if(l)return t.br(l.clientId,l)}}else if(t.cr.test(o.key)){if(null!==o.newValue){const l=t.Vr(o.key,o.newValue);if(l)return t.vr(l)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const l=t.Sr(o.key,o.newValue);if(l)return t.Dr(l)}}else if(o.key===t.lr){if(null!==o.newValue){const l=t.wr(o.newValue);if(l)return t.mr(l)}}else if(o.key===t.ur){const l=function(h){let _=Mr.A;if(null!=h)try{const x=JSON.parse(h);pr("number"==typeof x),_=x}catch(x){Mi("SharedClientState","Failed to read sequence number from WebStorage",x)}return _}(o.newValue);l!==Mr.A&&t.sequenceNumberHandler(l)}else if(o.key===t.dr){const l=t.Cr(o.newValue);yield Promise.all(l.map(h=>t.syncEngine.Nr(h)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const l=new bf(this.currentUser,e,t,o),h=Lg(this.persistenceKey,this.currentUser,e);this.setItem(h,l.Yi())}pr(e){const t=Lg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const l=qd(this.persistenceKey,e),h=new rc(e,t,o);this.setItem(l,h.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return Zc.Ji(o,t)}Vr(e,t){const o=this.cr.exec(e),l=Number(o[1]);return bf.Ji(new qi(void 0!==o[2]?o[2]:null),l,t)}Sr(e,t){const o=this.hr.exec(e),l=Number(o[1]);return rc.Ji(l,t)}wr(e){return Ef.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);hn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),l=this.gr(this.sr),h=this.gr(o),_=[],x=[];return h.forEach(W=>{l.has(W)||_.push(W)}),l.forEach(W=>{h.has(W)||x.push(W)}),this.syncEngine.Or(_,x).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=xd();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Bg{constructor(){this.Fr=new Yd,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Yd,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ko{Br(e){}shutdown(){}}class Vg{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){hn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){hn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class q_{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Y_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,l,h){const _=this.oo(e,t);hn("RestConnection","Sending: ",_,o);const x={};return this.uo(x,l,h),this.ao(e,_,x,o).then(W=>(hn("RestConnection","Received: ",W),W),W=>{throw rs("RestConnection",`${e} failed with error: `,W,"url: ",_,"request:",o),W})}co(e,t,o,l,h){return this.ro(e,t,o,l,h)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+$s,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),o&&o.headers.forEach((l,h)=>e[h]=l)}oo(e,t){return`${this.so}/v1/${t}:${Jy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,o,l){return new Promise((h,_)=>{const x=new xa;x.listenOnce(_i.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Qa.NO_ERROR:const re=x.getResponseJson();hn("Connection","XHR received:",JSON.stringify(re)),h(re);break;case Qa.TIMEOUT:hn("Connection",'RPC "'+e+'" timed out'),_(new v(w.DEADLINE_EXCEEDED,"Request time out"));break;case Qa.HTTP_ERROR:const Ue=x.getStatus();if(hn("Connection",'RPC "'+e+'" failed with status:',Ue,"response text:",x.getResponseText()),Ue>0){const it=x.getResponseJson().error;if(it&&it.status&&it.message){const Rt=function(Qt){const dn=Qt.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(dn)>=0?dn:w.UNKNOWN}(it.status);_(new v(Rt,it.message))}else _(new v(w.UNKNOWN,"Server responded with status "+x.getStatus()))}else _(new v(w.UNAVAILABLE,"Connection failed."));break;default:Ln()}}finally{hn("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(l);x.send(t,"POST",W,o,15)})}ho(e,t,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=xu(),_=Ho(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new Co({})),this.uo(x.initMessageHeaders,t,o),(0,_t.uI)()||(0,_t.b$)()||(0,_t.d)()||(0,_t.w1)()||(0,_t.Mn)()||(0,_t.ru)()||(x.httpHeadersOverwriteParam="$httpHeaders");const W=l.join("");hn("Connection","Creating WebChannel: "+W,x);const re=h.createWebChannel(W,x);let Ue=!1,it=!1;const Rt=new q_({jr:dn=>{it?hn("Connection","Not sending because WebChannel is closed:",dn):(Ue||(hn("Connection","Opening WebChannel transport."),re.open(),Ue=!0),hn("Connection","WebChannel sending:",dn),re.send(dn))},Wr:()=>re.close()}),Qt=(dn,Qn,Nr)=>{dn.listen(Qn,Xi=>{try{Nr(Xi)}catch(ei){setTimeout(()=>{throw ei},0)}})};return Qt(re,ho.EventType.OPEN,()=>{it||hn("Connection","WebChannel transport opened.")}),Qt(re,ho.EventType.CLOSE,()=>{it||(it=!0,hn("Connection","WebChannel transport closed"),Rt.eo())}),Qt(re,ho.EventType.ERROR,dn=>{it||(it=!0,rs("Connection","WebChannel transport errored:",dn),Rt.eo(new v(w.UNAVAILABLE,"The operation could not be completed")))}),Qt(re,ho.EventType.MESSAGE,dn=>{var Qn;if(!it){const Nr=dn.data[0];pr(!!Nr);const Xi=Nr,ei=Xi.error||(null===(Qn=Xi[0])||void 0===Qn?void 0:Qn.error);if(ei){hn("Connection","WebChannel received error:",ei);const Fs=ei.status;let Ji=function(bi){const wa=Ni[bi];if(void 0!==wa)return Pc(wa)}(Fs),Gi=ei.message;void 0===Ji&&(Ji=w.INTERNAL,Gi="Unknown error status: "+Fs+" with message "+ei.message),it=!0,Rt.eo(new v(Ji,Gi)),re.close()}else hn("Connection","WebChannel received:",Nr),Rt.no(Nr)}}),Qt(_,eu.STAT_EVENT,dn=>{dn.stat===Rs.PROXY?hn("Connection","Detected buffering proxy"):dn.stat===Rs.NOPROXY&&hn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Rt.Zr()},0),Rt}}function If(){return"undefined"!=typeof window?window:null}function Cf(){return"undefined"!=typeof document?document:null}function Kc(i){return new Js(i,!0)}class Xc{constructor(e,t,o=1e3,l=1.5,h=6e4){this.Jn=e,this.timerId=t,this.lo=o,this.fo=l,this._o=h,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,t-o);l>0&&hn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Df{constructor(e,t,o,l,h,_,x,W){this.Jn=e,this.Ao=o,this.Ro=l,this.bo=h,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=x,this.listener=W,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Xc(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,oe.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,oe.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var o=this;return(0,oe.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===w.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===t&&this.Uo(o,l)},o=>{e(()=>{const l=new v(w.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,oe.Z)(function*(){e.state=0,e.start()}))}qo(e){return hn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(hn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qy extends Df{constructor(e,t,o,l,h,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,_),this.M=h}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Dy(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Ln(),l=e.targetChange.targetIds||[],h=function(W,re){return W.N?(pr(void 0===re||"string"==typeof re),Yi.fromBase64String(re||"")):(pr(void 0===re||re instanceof Uint8Array),Yi.fromUint8Array(re||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,x=_&&function(W){const re=void 0===W.code?w.UNKNOWN:Pc(W.code);return new v(re,W.message||"")}(_);t=new wy(o,l,h,x||null)}else if("documentChange"in e){const o=e.documentChange,l=La(i,o.document.name),h=ks(o.document.updateTime),_=new ft({mapValue:{fields:o.document.fields}}),x=Jt.newFoundDocument(l,h,_);t=new Md(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,l=La(i,o.document),h=o.readTime?ks(o.readTime):hr.min(),_=Jt.newNoDocument(l,h);t=new Md([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,l=La(i,o.document);t=new Md([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Ln();{const o=e.filter,h=new Lh(o.count||0);t=new Yp(o.targetId,h)}}var W;return t}(this.M,e),o=function(l){if(!("targetChange"in l))return hr.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?hr.min():h.readTime?ks(h.readTime):hr.min()}(e);return this.listener.Ko(t,o)}Qo(e){const t={};t.database=Lc(this.M),t.addTarget=function(l,h){let _;const x=h.target;return _=Ru(x)?{documents:tg(l,x)}:{query:ng(l,x)},_.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?_.resumeToken=Od(l,h.resumeToken):h.snapshotVersion.compareTo(hr.min())>0&&(_.readTime=cu(l,h.snapshotVersion.toTimestamp())),_}(this.M,e);const o=function Sy(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ln()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Oo(t)}jo(e){const t={};t.database=Lc(this.M),t.removeTarget=e,this.Oo(t)}}class ev extends Df{constructor(e,t,o,l,h,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,_),this.M=h,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(pr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Ty(i,e){return i&&i.length>0?(pr(void 0!==e),i.map(t=>function(o,l){let h=ks(o.updateTime?o.updateTime:l);return h.isEqual(hr.min())&&(h=ks(l)),new p(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ks(e.commitTime);return this.listener.Jo(o,t)}return pr(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Lc(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Bc(this.M,o))};this.Oo(t)}}class tv extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=l,this.Zo=!1}tu(){if(this.Zo)throw new v(w.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.ro(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new v(w.UNKNOWN,l.toString())})}co(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.co(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new v(w.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class Ug{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Mi(t),this.su=!1):hn("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class nv{constructor(e,t,o,l,h){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=h,this.du.Br(x=>{o.enqueueAndForget((0,oe.Z)(function*(){var W;wl(_)&&(hn("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,oe.Z)(function*(re){const Ue=An(re);Ue.lu.add(4),yield sc(Ue),Ue._u.set("Unknown"),Ue.lu.delete(4),yield ic(Ue)}),function(re){return W.apply(this,arguments)})(_))}))}),this._u=new Ug(o,l)}}function ic(i){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,oe.Z)(function*(i){if(wl(i))for(const e of i.fu)yield e(!0)}),Tf.apply(this,arguments)}function sc(i){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,oe.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Zd.apply(this,arguments)}function Jc(i,e){const t=An(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Af(t)?Sf(t):Gu(t).Co()&&Jo(t,e))}function Qc(i,e){const t=An(i),o=Gu(t);t.hu.delete(e),o.Co()&&Kd(t,e),0===t.hu.size&&(o.Co()?o.ko():wl(t)&&t._u.set("Unknown"))}function Jo(i,e){i.wu.Z(e.targetId),Gu(i).Qo(e)}function Kd(i,e){i.wu.Z(e),Gu(i).jo(e)}function Sf(i){i.wu=new Fc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.hu.get(e)||null}),Gu(i).start(),i._u.iu()}function Af(i){return wl(i)&&!Gu(i).Do()&&i.hu.size>0}function wl(i){return 0===An(i).lu.size}function xf(i){i.wu=void 0}function rv(i){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,oe.Z)(function*(i){i.hu.forEach((e,t)=>{Jo(i,e)})}),Mf.apply(this,arguments)}function iv(i,e){return ed.apply(this,arguments)}function ed(){return ed=(0,oe.Z)(function*(i,e){xf(i),Af(i)?(i._u.uu(e),Sf(i)):i._u.set("Unknown")}),ed.apply(this,arguments)}function sv(i,e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,oe.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof wy&&2===e.state&&e.cause)try{yield(o=(0,oe.Z)(function*(l,h){const _=h.cause;for(const x of h.targetIds)l.hu.has(x)&&(yield l.remoteSyncer.rejectListen(x,_),l.hu.delete(x),l.wu.removeTarget(x))}),function(l,h){return o.apply(this,arguments)})(i,e)}catch(o){hn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Il(i,o)}else if(e instanceof Md?i.wu.ut(e):e instanceof Yp?i.wu._t(e):i.wu.ht(e),!t.isEqual(hr.min()))try{const o=yield xg(i.localStore);t.compareTo(o)>=0&&(yield function(l,h){const _=l.wu.yt(h);return _.targetChanges.forEach((x,W)=>{if(x.resumeToken.approximateByteSize()>0){const re=l.hu.get(W);re&&l.hu.set(W,re.withResumeToken(x.resumeToken,h))}}),_.targetMismatches.forEach(x=>{const W=l.hu.get(x);if(!W)return;l.hu.set(x,W.withResumeToken(Yi.EMPTY_BYTE_STRING,W.snapshotVersion)),Kd(l,x);const re=new hu(W.target,x,1,W.sequenceNumber);Jo(l,re)}),l.remoteSyncer.applyRemoteEvent(_)}(i,t))}catch(o){hn("RemoteStore","Failed to raise snapshot:",o),yield Il(i,o)}var o}),Rf.apply(this,arguments)}function Il(i,e,t){return td.apply(this,arguments)}function td(){return td=(0,oe.Z)(function*(i,e,t){if(!fl(e))throw e;i.lu.add(1),yield sc(i),i._u.set("Offline"),t||(t=()=>xg(i.localStore)),i.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){hn("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield ic(i)}))}),td.apply(this,arguments)}function $g(i,e){return e().catch(t=>Il(i,t,e))}function Hu(i){return nd.apply(this,arguments)}function nd(){return nd=(0,oe.Z)(function*(i){const e=An(i),t=gu(e);let o=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;jg(e);)try{const l=yield Rg(e.localStore,o);if(null===l){0===e.cu.length&&t.ko();break}o=l.batchId,ov(e,l)}catch(l){yield Il(e,l)}Hg(e)&&Xd(e)}),nd.apply(this,arguments)}function jg(i){return wl(i)&&i.cu.length<10}function ov(i,e){i.cu.push(e);const t=gu(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function Hg(i){return wl(i)&&!gu(i).Do()&&i.cu.length>0}function Xd(i){gu(i).start()}function Z_(i){return Of.apply(this,arguments)}function Of(){return Of=(0,oe.Z)(function*(i){gu(i).Xo()}),Of.apply(this,arguments)}function Gg(i){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,oe.Z)(function*(i){const e=gu(i);for(const t of i.cu)e.Ho(t.mutations)}),Jd.apply(this,arguments)}function zg(i,e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,oe.Z)(function*(i,e,t){const o=i.cu.shift(),l=Kl.from(o,e,t);yield $g(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Hu(i)}),Qd.apply(this,arguments)}function Wg(i,e){return ya.apply(this,arguments)}function ya(){return ya=(0,oe.Z)(function*(i,e){var t;e&&gu(i).zo&&(yield(t=(0,oe.Z)(function*(o,l){if(cl(h=l.code)&&h!==w.ABORTED){const _=o.cu.shift();gu(o).No(),yield $g(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield Hu(o)}var h}),function(o,l){return t.apply(this,arguments)})(i,e)),Hg(i)&&Xd(i)}),ya.apply(this,arguments)}function rd(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,oe.Z)(function*(i,e){const t=An(i);t.asyncQueue.verifyOperationInProgress(),hn("RemoteStore","RemoteStore received new credentials");const o=wl(t);t.lu.add(3),yield sc(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield ic(t)}),Pf.apply(this,arguments)}function kf(i,e){return qg.apply(this,arguments)}function qg(){return qg=(0,oe.Z)(function*(i,e){const t=An(i);e?(t.lu.delete(2),yield ic(t)):e||(t.lu.add(2),yield sc(t),t._u.set("Unknown"))}),qg.apply(this,arguments)}function Gu(i){return i.mu||(i.mu=function(e,t,o){const l=An(e);return l.tu(),new Qy(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:rv.bind(null,i),Jr:iv.bind(null,i),Ko:sv.bind(null,i)}),i.fu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.mu.No(),Af(i)?Sf(i):i._u.set("Unknown")):(yield i.mu.stop(),xf(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function gu(i){return i.gu||(i.gu=function(e,t,o){const l=An(e);return l.tu(),new ev(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:Z_.bind(null,i),Jr:Wg.bind(null,i),Yo:Gg.bind(null,i),Jo:zg.bind(null,i)}),i.fu.push(function(){var e=(0,oe.Z)(function*(t){t?(i.gu.No(),yield Hu(i)):(yield i.gu.stop(),i.cu.length>0&&(hn("RemoteStore",`Stopping write stream with ${i.cu.length} pending writes`),i.cu=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class id{constructor(e,t,o,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new E,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,o,l,h){const _=Date.now()+o,x=new id(e,t,_,l,h);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new v(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function za(i,e){if(Mi("AsyncQueue",`${e}: ${i}`),fl(i))return new v(w.UNAVAILABLE,`${e}: ${i}`);throw i}class oc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||xn.comparator(t.key,o.key):(t,o)=>xn.comparator(t.key,o.key),this.keyedMap=Vh(),this.sortedSet=new Zi(this.comparator)}static emptySet(e){return new oc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new oc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class eh{constructor(){this.yu=new Zi(xn.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Ln():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Cl{constructor(e,t,o,l,h,_,x,W){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=h,this.fromCache=_,this.syncStateChanged=x,this.excludesMetadataChanges=W}static fromInitialDocuments(e,t,o,l){const h=[];return t.forEach(_=>{h.push({type:0,doc:_})}),new Cl(e,t,oc.emptySet(t),h,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Yg{constructor(){this.Iu=void 0,this.listeners=[]}}class Zg{constructor(){this.queries=new Fa(e=>au(e),ou),this.onlineState="Unknown",this.Tu=new Set}}function Nf(i,e){return sd.apply(this,arguments)}function sd(){return sd=(0,oe.Z)(function*(i,e){const t=An(i),o=e.query;let l=!1,h=t.queries.get(o);if(h||(l=!0,h=new Yg),l)try{h.Iu=yield t.onListen(o)}catch(_){const x=za(_,`Initialization of query '${Ac(e.query)}' failed`);return void e.onError(x)}t.queries.set(o,h),h.listeners.push(e),e.Eu(t.onlineState),h.Iu&&e.Au(h.Iu)&&th(t)}),sd.apply(this,arguments)}function Ff(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,oe.Z)(function*(i,e){const t=An(i),o=e.query;let l=!1;const h=t.queries.get(o);if(h){const _=h.listeners.indexOf(e);_>=0&&(h.listeners.splice(_,1),l=0===h.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),Lf.apply(this,arguments)}function Kg(i,e){const t=An(i);let o=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const x of _.listeners)x.Au(l)&&(o=!0);_.Iu=l}}o&&th(t)}function ac(i,e,t){const o=An(i),l=o.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);o.queries.delete(e)}function th(i){i.Tu.forEach(e=>{e.next()})}class Bf{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Cl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class av{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Dl{constructor(e){this.M=e}li(e){return La(this.M,e)}fi(e){return e.metadata.exists?eg(this.M,e.document,!1):Jt.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ks(e)}}class uv{constructor(e,t,o){this.xu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xg(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Kr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new Dl(this.M);for(const l of e)if(l.metadata.queries){const h=o.li(l.metadata.name);for(const _ of l.metadata.queries){const x=(t.get(_)||pi()).add(h);t.set(_,x)}}return t}complete(){var e=this;return(0,oe.Z)(function*(){const t=yield function kg(i,e,t,o){return mf.apply(this,arguments)}(e.localStore,new Dl(e.M),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield Ky(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Xg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Jg{constructor(e){this.key=e}}class Qg{constructor(e){this.key=e}}class Qo{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=pi(),this.mutatedKeys=pi(),this.Lu=al(e),this.Uu=new oc(this.Lu)}get qu(){return this.Fu}Gu(e,t){const o=t?t.Ku:new eh,l=t?t.Uu:this.Uu;let h=t?t.mutatedKeys:this.mutatedKeys,_=l,x=!1;const W=Dc(this.query)&&l.size===this.query.limit?l.last():null,re=sl(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Ue,it)=>{const Rt=l.get(Ue),Qt=Hl(this.query,it)?it:null,dn=!!Rt&&this.mutatedKeys.has(Rt.key),Qn=!!Qt&&(Qt.hasLocalMutations||this.mutatedKeys.has(Qt.key)&&Qt.hasCommittedMutations);let Nr=!1;Rt&&Qt?Rt.data.isEqual(Qt.data)?dn!==Qn&&(o.track({type:3,doc:Qt}),Nr=!0):this.Qu(Rt,Qt)||(o.track({type:2,doc:Qt}),Nr=!0,(W&&this.Lu(Qt,W)>0||re&&this.Lu(Qt,re)<0)&&(x=!0)):!Rt&&Qt?(o.track({type:0,doc:Qt}),Nr=!0):Rt&&!Qt&&(o.track({type:1,doc:Rt}),Nr=!0,(W||re)&&(x=!0)),Nr&&(Qt?(_=_.add(Qt),h=Qn?h.add(Ue):h.delete(Ue)):(_=_.delete(Ue),h=h.delete(Ue)))}),Dc(this.query)||sl(this.query))for(;_.size>this.query.limit;){const Ue=Dc(this.query)?_.last():_.first();_=_.delete(Ue.key),h=h.delete(Ue.key),o.track({type:1,doc:Ue})}return{Uu:_,Ku:o,ei:x,mutatedKeys:h}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const h=e.Ku.pu();h.sort((re,Ue)=>function(it,Rt){const Qt=dn=>{switch(dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ln()}};return Qt(it)-Qt(Rt)}(re.type,Ue.type)||this.Lu(re.doc,Ue.doc)),this.ju(o);const _=t?this.Wu():[],x=0===this.Bu.size&&this.current?1:0,W=x!==this.$u;return this.$u=x,0!==h.length||W?{snapshot:new Cl(this.query,e.Uu,l,h,e.mutatedKeys,0===x,W,!1),zu:_}:{zu:_}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new eh,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=pi(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new Qg(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new Jg(o))}),t}Ju(e){this.Fu=e.hi,this.Bu=pi();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Cl.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Vf{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class em{constructor(e){this.key=e,this.Xu=!1}}class tm{constructor(e,t,o,l,h,_){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=_,this.Zu={},this.ta=new Fa(x=>au(x),ou),this.ea=new Map,this.na=new Set,this.sa=new Zi(xn.comparator),this.ia=new Map,this.ra=new ju,this.oa={},this.ua=new Map,this.aa=fu.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function nm(i,e){return nh.apply(this,arguments)}function nh(){return nh=(0,oe.Z)(function*(i,e){const t=dc(i);let o,l;const h=t.ta.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),l=h.view.Yu();else{const _=yield $u(t.localStore,yo(e));t.isPrimaryClient&&Jc(t.remoteStore,_);const x=t.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,l=yield Uf(t,e,o,"current"===x)}return l}),nh.apply(this,arguments)}function Uf(i,e,t,o){return $f.apply(this,arguments)}function $f(){return $f=(0,oe.Z)(function*(i,e,t,o){i.ha=(Ue,it,Rt)=>{return(Qt=(0,oe.Z)(function*(dn,Qn,Nr,Xi){let ei=Qn.view.Gu(Nr);ei.ei&&(ei=yield qc(dn.localStore,Qn.query,!1).then(({documents:Gi})=>Qn.view.Gu(Gi,ei)));const Fs=Xi&&Xi.targetChanges.get(Qn.targetId),Ji=Qn.view.applyChanges(ei,dn.isPrimaryClient,Fs);return ih(dn,Qn.targetId,Ji.zu),Ji.snapshot}),function(dn,Qn,Nr,Xi){return Qt.apply(this,arguments)})(i,Ue,it,Rt);var Qt};const l=yield qc(i.localStore,e,!0),h=new Qo(e,l.hi),_=h.Gu(l.documents),x=Nc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),W=h.applyChanges(_,i.isPrimaryClient,x);ih(i,t,W.zu);const re=new Vf(e,t,h);return i.ta.set(e,re),i.ea.has(t)?i.ea.get(t).push(e):i.ea.set(t,[e]),W.snapshot}),$f.apply(this,arguments)}function lv(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,oe.Z)(function*(i,e){const t=An(i),o=t.ta.get(e),l=t.ea.get(o.targetId);if(l.length>1)return t.ea.set(o.targetId,l.filter(h=>!ou(h,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ec(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Qc(t.remoteStore,o.targetId),Tl(t,o.targetId)}).catch(Xl))):(Tl(t,o.targetId),yield ec(t.localStore,o.targetId,!0))}),jf.apply(this,arguments)}function im(){return im=(0,oe.Z)(function*(i,e,t){const o=_o(i);try{const l=yield function(h,_){const x=An(h),W=ti.now(),re=_.reduce((it,Rt)=>it.add(Rt.key),pi());let Ue;return x.persistence.runTransaction("Locally write mutations","readwrite",it=>x.ai.qs(it,re).next(Rt=>{Ue=Rt;const Qt=[];for(const dn of _){const Qn=ir(dn,Ue.get(dn.key));null!=Qn&&Qt.push(new as(dn.key,Qn,Mt(Qn.value.mapValue),D.exists(!0)))}return x.$s.addMutationBatch(it,W,Qt,_)})).then(it=>(it.applyToLocalDocumentSet(Ue),{batchId:it.batchId,changes:Ue}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(h,_,x){let W=h.oa[h.currentUser.toKey()];W||(W=new Zi(Ar)),W=W.insert(_,x),h.oa[h.currentUser.toKey()]=W}(o,l.batchId,t),yield Wa(o,l.changes),yield Hu(o.remoteStore)}catch(l){const h=za(l,"Failed to persist write");t.reject(h)}}),im.apply(this,arguments)}function Hf(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,oe.Z)(function*(i,e){const t=An(i);try{const o=yield Mg(t.localStore,e);e.targetChanges.forEach((l,h)=>{const _=t.ia.get(h);_&&(pr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.Xu=!0:l.modifiedDocuments.size>0?pr(_.Xu):l.removedDocuments.size>0&&(pr(_.Xu),_.Xu=!1))}),yield Wa(t,o,e)}catch(o){yield Xl(o)}}),Gf.apply(this,arguments)}function sm(i,e,t){const o=An(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ta.forEach((h,_)=>{const x=_.view.Eu(e);x.snapshot&&l.push(x.snapshot)}),function(h,_){const x=An(h);x.onlineState=_;let W=!1;x.queries.forEach((re,Ue)=>{for(const it of Ue.listeners)it.Eu(_)&&(W=!0)}),W&&th(x)}(o.eventManager,e),l.length&&o.Zu.Ko(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function K_(i,e,t){return om.apply(this,arguments)}function om(){return om=(0,oe.Z)(function*(i,e,t){const o=An(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.ia.get(e),h=l&&l.key;if(h){let _=new Zi(xn.comparator);_=_.insert(h,Jt.newNoDocument(h,hr.min()));const x=pi().add(h),W=new kc(hr.min(),new Map,new $i(Ar),_,x);yield Hf(o,W),o.sa=o.sa.remove(h),o.ia.delete(e),cm(o)}else yield ec(o.localStore,e,!1).then(()=>Tl(o,e,t)).catch(Xl)}),om.apply(this,arguments)}function zf(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,oe.Z)(function*(i,e){const t=An(i),o=e.batch.batchId;try{const l=yield gf(t.localStore,e);lm(t,o,null),um(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Wa(t,l)}catch(l){yield Xl(l)}}),Wf.apply(this,arguments)}function am(i,e,t){return rh.apply(this,arguments)}function rh(){return rh=(0,oe.Z)(function*(i,e,t){const o=An(i);try{const l=yield function(h,_){const x=An(h);return x.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let re;return x.$s.lookupMutationBatch(W,_).next(Ue=>(pr(null!==Ue),re=Ue.keys(),x.$s.removeMutationBatch(W,Ue))).next(()=>x.$s.performConsistencyCheck(W)).next(()=>x.ai.qs(W,re))})}(o.localStore,e);lm(o,e,t),um(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Wa(o,l)}catch(l){yield Xl(l)}}),rh.apply(this,arguments)}function No(){return No=(0,oe.Z)(function*(i,e){const t=An(i);wl(t.remoteStore)||hn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const _=An(h);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>_.$s.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===o)return void e.resolve();const l=t.ua.get(o)||[];l.push(e),t.ua.set(o,l)}catch(o){const l=za(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),No.apply(this,arguments)}function um(i,e){(i.ua.get(e)||[]).forEach(t=>{t.resolve()}),i.ua.delete(e)}function lm(i,e,t){const o=An(i);let l=o.oa[o.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),o.oa[o.currentUser.toKey()]=l}}function Tl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ea.get(e))i.ta.delete(o),t&&i.Zu.la(o,t);i.ea.delete(e),i.isPrimaryClient&&i.ra.Ri(e).forEach(o=>{i.ra.containsKey(o)||qf(i,o)})}function qf(i,e){i.na.delete(e.path.canonicalString());const t=i.sa.get(e);null!==t&&(Qc(i.remoteStore,t),i.sa=i.sa.remove(e),i.ia.delete(t),cm(i))}function ih(i,e,t){for(const o of t)o instanceof Jg?(i.ra.addReference(o.key,e),cv(i,o)):o instanceof Qg?(hn("SyncEngine","Document no longer in limbo: "+o.key),i.ra.removeReference(o.key,e),i.ra.containsKey(o.key)||qf(i,o.key)):Ln()}function cv(i,e){const t=e.key,o=t.path.canonicalString();i.sa.get(t)||i.na.has(o)||(hn("SyncEngine","New document in limbo: "+t),i.na.add(o),cm(i))}function cm(i){for(;i.na.size>0&&i.sa.size<i.maxConcurrentLimboResolutions;){const e=i.na.values().next().value;i.na.delete(e);const t=new xn(Kr.fromString(e)),o=i.aa.next();i.ia.set(o,new em(t)),i.sa=i.sa.insert(t,o),Jc(i.remoteStore,new hu(yo(Pu(t.path)),o,2,Mr.A))}}function Wa(i,e,t){return od.apply(this,arguments)}function od(){return od=(0,oe.Z)(function*(i,e,t){const o=An(i),l=[],h=[],_=[];var x;o.ta.isEmpty()||(o.ta.forEach((x,W)=>{_.push(o.ha(W,e,t).then(re=>{if(re){o.isPrimaryClient&&o.sharedClientState.updateQueryState(W.targetId,re.fromCache?"not-current":"current"),l.push(re);const Ue=Ag.Js(W.targetId,re);h.push(Ue)}}))}),yield Promise.all(_),o.Zu.Ko(l),yield(x=(0,oe.Z)(function*(W,re){const Ue=An(W);try{yield Ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",it=>Ht.forEach(re,Rt=>Ht.forEach(Rt.zs,Qt=>Ue.persistence.referenceDelegate.addReference(it,Rt.targetId,Qt)).next(()=>Ht.forEach(Rt.Hs,Qt=>Ue.persistence.referenceDelegate.removeReference(it,Rt.targetId,Qt)))))}catch(it){if(!fl(it))throw it;hn("LocalStore","Failed to update sequence numbers: "+it)}for(const it of re){const Rt=it.targetId;if(!it.fromCache){const Qt=Ue.si.get(Rt),Qn=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);Ue.si=Ue.si.insert(Rt,Qn)}}}),function(W,re){return x.apply(this,arguments)})(o.localStore,h))}),od.apply(this,arguments)}function dv(i,e){return ad.apply(this,arguments)}function ad(){return ad=(0,oe.Z)(function*(i,e){const t=An(i);if(!t.currentUser.isEqual(e)){hn("SyncEngine","User change. New user:",e.toKey());const o=yield Zy(t.localStore,e);t.currentUser=e,(l=t).ua.forEach(_=>{_.forEach(x=>{x.reject(new v(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ua.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Wa(t,o.ci)}var l}),ad.apply(this,arguments)}function hv(i,e){const t=An(i),o=t.ia.get(e);if(o&&o.Xu)return pi().add(o.key);{let l=pi();const h=t.ea.get(e);if(!h)return l;for(const _ of h){const x=t.ta.get(_);l=l.unionWith(x.view.qu)}return l}}function fv(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,oe.Z)(function*(i,e){const t=An(i),o=yield qc(t.localStore,e.query,!0),l=e.view.Ju(o);return t.isPrimaryClient&&ih(t,e.targetId,l.zu),l}),Yf.apply(this,arguments)}function pv(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,oe.Z)(function*(i,e){const t=An(i);return zd(t.localStore,e).then(o=>Wa(t,o))}),Zf.apply(this,arguments)}function gv(i,e,t,o){return uc.apply(this,arguments)}function uc(){return uc=(0,oe.Z)(function*(i,e,t,o){const l=An(i),h=yield function(_,x){const W=An(_),re=An(W.$s);return W.persistence.runTransaction("Lookup mutation documents","readonly",Ue=>re.ln(Ue,x).next(it=>it?W.ai.qs(Ue,it):Ht.resolve(null)))}(l.localStore,e);var x;null!==h?("pending"===t?yield Hu(l.remoteStore):"acknowledged"===t||"rejected"===t?(lm(l,e,o||null),um(l,e),x=e,An(An(l.localStore).$s).dn(x)):Ln(),yield Wa(l,h)):hn("SyncEngine","Cannot apply mutation batch with id: "+e)}),uc.apply(this,arguments)}function Kf(){return Kf=(0,oe.Z)(function*(i,e){const t=An(i);if(dc(t),_o(t),!0===e&&!0!==t.ca){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield cc(t,o.toArray());t.ca=!0,yield kf(t.remoteStore,!0);for(const h of l)Jc(t.remoteStore,h)}else if(!1===e&&!1!==t.ca){const o=[];let l=Promise.resolve();t.ea.forEach((h,_)=>{t.sharedClientState.isLocalQueryTarget(_)?o.push(_):l=l.then(()=>(Tl(t,_),ec(t.localStore,_,!0))),Qc(t.remoteStore,_)}),yield l,yield cc(t,o),function(h){const _=An(h);_.ia.forEach((x,W)=>{Qc(_.remoteStore,W)}),_.ra.bi(),_.ia=new Map,_.sa=new Zi(xn.comparator)}(t),t.ca=!1,yield kf(t.remoteStore,!1)}}),Kf.apply(this,arguments)}function cc(i,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,oe.Z)(function*(i,e,t){const o=An(i),l=[],h=[];for(const _ of e){let x;const W=o.ea.get(_);if(W&&0!==W.length){x=yield $u(o.localStore,yo(W[0]));for(const re of W){const Ue=o.ta.get(re),it=yield fv(o,Ue);it.snapshot&&h.push(it.snapshot)}}else{const re=yield Og(o.localStore,_);x=yield $u(o.localStore,re),yield Uf(o,dm(re),_,!1)}l.push(x)}return o.Zu.Ko(h),l}),Xf.apply(this,arguments)}function dm(i){return Ou(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Jf(i){const e=An(i);return An(An(e.localStore).persistence).Os()}function qa(i,e,t,o){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,oe.Z)(function*(i,e,t,o){const l=An(i);if(l.ca)return void hn("SyncEngine","Ignoring unexpected query state notification.");const h=l.ea.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const _=yield zd(l.localStore,kh(h[0])),x=kc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Wa(l,_,x);break}case"rejected":yield ec(l.localStore,e,!0),Tl(l,e,o);break;default:Ln()}}),Sl.apply(this,arguments)}function Qs(i,e,t){return mu.apply(this,arguments)}function mu(){return mu=(0,oe.Z)(function*(i,e,t){const o=dc(i);if(o.ca){for(const l of e){if(o.ea.has(l)){hn("SyncEngine","Adding an already active target "+l);continue}const h=yield Og(o.localStore,l),_=yield $u(o.localStore,h);yield Uf(o,dm(h),_.targetId,!1),Jc(o.remoteStore,_)}for(const l of t)o.ea.has(l)&&(yield ec(o.localStore,l,!1).then(()=>{Qc(o.remoteStore,l),Tl(o,l)}).catch(Xl))}}),mu.apply(this,arguments)}function dc(i){const e=An(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K_.bind(null,e),e.Zu.Ko=Kg.bind(null,e.eventManager),e.Zu.la=ac.bind(null,e.eventManager),e}function _o(i){const e=An(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=am.bind(null,e),e}class Al{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.M=Kc(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return Yy(this.persistence,new qy,e.initialUser,this.M)}_a(e){return new vf(Wd.Wi,this.M)}da(e){return new Bg}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xl extends Al{constructor(e,t,o){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e),yield o.ga.initialize(o,e),yield _o(o.ga.syncEngine),yield Hu(o.ga.remoteStore),yield o.persistence.Is(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ma(e){return Yy(this.persistence,new qy,e.initialUser,this.M)}wa(e){return new cf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Sg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new Tg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,If(),Cf(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Bg}}class hc extends xl{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e);const l=o.ga.syncEngine;o.sharedClientState instanceof wf&&(o.sharedClientState.syncEngine={kr:gv.bind(null,l),Mr:qa.bind(null,l),Or:Qs.bind(null,l),Os:Jf.bind(null,l),Nr:pv.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Is(function(){var h=(0,oe.Z)(function*(_){yield function lc(i,e){return Kf.apply(this,arguments)}(o.ga.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):_||o.gcScheduler.stop())});return function(_){return h.apply(this,arguments)}}())})()}da(e){const t=If();if(!wf.vt(t))throw new v(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Sg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class zu{initialize(e,t){var o=this;return(0,oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>sm(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=dv.bind(null,o.syncEngine),yield kf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zg}createDatastore(e){const t=Kc(e.databaseInfo.databaseId),o=new Y_(e.databaseInfo);return new tv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,h=x=>sm(this.syncEngine,x,0),_=Vg.vt()?new Vg:new ko,new nv(t,o,l,h,_);var t,o,l,h,_}createSyncEngine(e,t){return function(o,l,h,_,x,W,re){const Ue=new tm(o,l,h,_,x,W);return re&&(Ue.ca=!0),Ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const o=An(t);hn("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield sc(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ml(i,e=10240){let t=0;return{read:()=>(0,oe.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fc{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new E,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,oe.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,oe.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const o=e.Ta.decode(t),l=Number(o);isNaN(l)&&e.Ra(`length string (${o}) is not valid number`);const h=yield e.ba(l);return new av(JSON.parse(h),t.length+l)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,oe.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const o=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class pc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new v(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,oe.Z)(function*(h,_){const x=An(h),W=Lc(x.M)+"/documents",re={documents:_.map(Qt=>zl(x.M,Qt))},Ue=yield x.co("BatchGetDocuments",W,re),it=new Map;Ue.forEach(Qt=>{const dn=function Uh(i,e){return"found"in e?function(t,o){pr(!!o.found);const l=La(t,o.found.name),h=ks(o.found.updateTime),_=new ft({mapValue:{fields:o.found.fields}});return Jt.newFoundDocument(l,h,_)}(i,e):"missing"in e?function(t,o){pr(!!o.missing),pr(!!o.readTime);const l=La(t,o.missing),h=ks(o.readTime);return Jt.newNoDocument(l,h)}(i,e):Ln()}(x.M,Qt);it.set(dn.key.toString(),dn)});const Rt=[];return _.forEach(Qt=>{const dn=it.get(Qt.toString());pr(!!dn),Rt.push(dn)}),Rt}),function(h,_){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const h=xn.fromPath(l);e.mutations.push(new Oc(h,e.precondition(h)))}),yield(o=(0,oe.Z)(function*(l,h){const _=An(l),x=Lc(_.M)+"/documents",W={writes:h.map(re=>Bc(_.M,re))};yield _.ro("Commit",x,W)}),function(l,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ln();t=hr.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new v(w.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?D.updateTime(t):D.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hr.min()))throw new v(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return D.updateTime(t)}return D.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gc{constructor(e,t,o,l){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=l,this.va=5,this.So=new Xc(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,oe.Z)(function*(){const t=new pc(e.datastore),o=e.Da(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.Ca(h)}))}).catch(l=>{e.Ca(l)})}))}Da(e){try{const t=this.updateFunction(e);return!Is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!cl(t)}return!1}}class hm{constructor(e,t,o,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=qi.UNAUTHENTICATED,this.clientId=ys.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,oe.Z)(function*(x){hn("FirestoreClient","Received user=",x.uid),yield h.authCredentialListener(x),h.user=x});return function(x){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(hn("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new v(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new E;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=za(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function ep(i,e){return sh.apply(this,arguments)}function sh(){return sh=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),hn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,oe.Z)(function*(h){o.isEqual(h)||(yield Zy(e.localStore,h),o=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),sh.apply(this,arguments)}function tp(i,e){return oh.apply(this,arguments)}function oh(){return oh=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield ah(i);hn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>rd(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>rd(e.remoteStore,h)),i.onlineComponents=e}),oh.apply(this,arguments)}function ah(i){return uh.apply(this,arguments)}function uh(){return uh=(0,oe.Z)(function*(i){return i.offlineComponents||(hn("FirestoreClient","Using default OfflineComponentProvider"),yield ep(i,new Al)),i.offlineComponents}),uh.apply(this,arguments)}function ud(i){return lh.apply(this,arguments)}function lh(){return lh=(0,oe.Z)(function*(i){return i.onlineComponents||(hn("FirestoreClient","Using default OnlineComponentProvider"),yield tp(i,new zu)),i.onlineComponents}),lh.apply(this,arguments)}function fm(i){return ah(i).then(e=>e.persistence)}function ch(i){return ah(i).then(e=>e.localStore)}function pm(i){return ud(i).then(e=>e.remoteStore)}function dh(i){return ud(i).then(e=>e.syncEngine)}function Rl(i){return np.apply(this,arguments)}function np(){return np=(0,oe.Z)(function*(i){const e=yield ud(i),t=e.eventManager;return t.onListen=nm.bind(null,e.syncEngine),t.onUnlisten=lv.bind(null,e.syncEngine),t}),np.apply(this,arguments)}function rp(i,e,t={}){const o=new E;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(l,h,_,x,W){const re=new yu({next:it=>{h.enqueueAndForget(()=>Ff(l,Ue));const Rt=it.docs.has(_);!Rt&&it.fromCache?W.reject(new v(w.UNAVAILABLE,"Failed to get document because the client is offline.")):Rt&&it.fromCache&&x&&"server"===x.source?W.reject(new v(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(it)},error:it=>W.reject(it)}),Ue=new Bf(Pu(_.path),re,{includeMetadataChanges:!0,Du:!0});return Nf(l,Ue)}(yield Rl(i),i.asyncQueue,e,t,o)})),o.promise}function mm(i,e,t={}){const o=new E;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(l,h,_,x,W){const re=new yu({next:it=>{h.enqueueAndForget(()=>Ff(l,Ue)),it.fromCache&&"server"===x.source?W.reject(new v(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(it)},error:it=>W.reject(it)}),Ue=new Bf(_,re,{includeMetadataChanges:!0,Du:!0});return Nf(l,Ue)}(yield Rl(i),i.asyncQueue,e,t,o)})),o.promise}const ym=new Map;function vm(i,e,t){if(!t)throw new v(w.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function bv(i,e,t,o){if(!0===e&&!0===o)throw new v(w.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Ev(i){if(!xn.isDocumentKey(i))throw new v(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _m(i){if(xn.isDocumentKey(i))throw new v(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ld(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Ln()}function li(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new v(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ld(i);throw new v(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function bm(i,e){if(e<=0)throw new v(w.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Ol{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new v(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new v(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ol({}),this._settingsFrozen=!1,e instanceof fo?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new v(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(l.options.projectId)}(e))}get app(){if(!this._app)throw new v(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new v(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ol(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new H;switch(t.type){case"gapi":const o=t.client;return pr(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Vt(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new v(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ym.get(e);t&&(hn("ComponentProvider","Removing Datastore"),ym.delete(e),t.terminate())}(this),Promise.resolve()}}class ji{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ji(this.firestore,e,this._key)}}class Hs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class Fo extends Hs{constructor(e,t,o){super(e,t,Pu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ji(this.firestore,null,new xn(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function wm(i,e,...t){if(i=(0,_t.m9)(i),vm("collection","path",e),i instanceof cd){const o=Kr.fromString(e,...t);return _m(o),new Fo(i,null,o)}{if(!(i instanceof ji||i instanceof Fo))throw new v(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Kr.fromString(e,...t));return _m(o),new Fo(i.firestore,null,o)}}function hh(i,e,...t){if(i=(0,_t.m9)(i),1===arguments.length&&(e=ys.R()),vm("doc","path",e),i instanceof cd){const o=Kr.fromString(e,...t);return Ev(o),new ji(i,null,new xn(o))}{if(!(i instanceof ji||i instanceof Fo))throw new v(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Kr.fromString(e,...t));return Ev(o),new ji(i.firestore,i instanceof Fo?i.converter:null,new xn(o))}}function Cm(i,e){return i=(0,_t.m9)(i),e=(0,_t.m9)(e),(i instanceof ji||i instanceof Fo)&&(e instanceof ji||e instanceof Fo)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Dm(i,e){return i=(0,_t.m9)(i),e=(0,_t.m9)(e),i instanceof Hs&&e instanceof Hs&&i.firestore===e.firestore&&ou(i._query,e._query)&&i.converter===e.converter}class wv{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Xc(this,"async_queue_retry"),this.Ua=()=>{const t=Cf();t&&hn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Cf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Cf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new E;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,oe.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!fl(t))throw t;hn("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(o=>{throw this.Fa=o,this.$a=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(h){let _=h.message||"";return h.stack&&(_=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),_}(o)),o}).then(o=>(this.$a=!1,o))));return this.Na=t,t}enqueueAfterDelay(e,t,o){this.qa(),this.La.indexOf(e)>-1&&(t=0);const l=id.createAndSchedule(this,e,t,o,h=>this.Qa(h));return this.Oa.push(l),l}qa(){this.Fa&&Ln()}verifyOperationInProgress(){}ja(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function op(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Tm{constructor(){this._progressObserver={},this._taskCompletionResolver=new E,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hi extends cd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new wv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||fh(this),this._firestoreClient.terminate()}}function Ts(i){return i._firestoreClient||fh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function fh(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ao(i._databaseId,h,i._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var h,x;i._firestoreClient=new hm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function mc(i,e,t){const o=new E;return i.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield ep(i,t),yield tp(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===w.FAILED_PRECONDITION||h.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var h})).then(()=>o.promise)}function Sv(i){if(i._initialized||i._terminated)throw new v(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new v(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(Yi.fromBase64String(e))}catch(t){throw new v(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ea(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _u{constructor(e){this._methodName=e}}class dd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new v(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new v(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ar(this._lat,e._lat)||Ar(this._long,e._long)}}const dp=/^__.*__$/;class Mm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new as(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jr(e,this.data,t,this.fieldTransforms)}}class hp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new as(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gh(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ln()}}class hd{constructor(e,t,o,l,h,_){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=l,void 0===h&&this.Ja(),this.fieldTransforms=h||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:o,tc:!1});return l.ec(e),l}nc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:o,tc:!1});return l.Ja(),l}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return _h(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(gh(this.Ya)&&dp.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Av{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Kc(e)}uc(e,t,o,l=!1){return new hd({Ya:e,methodName:t,oc:o,path:ss.emptyPath(),tc:!1,rc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Wu(i){const e=i._freezeSettings(),t=Kc(i._databaseId);return new Av(i._databaseId,!!e.ignoreUndefinedProperties,t)}function fd(i,e,t,o,l,h={}){const _=i.uc(h.merge||h.mergeFields?2:0,e,t,l);yh("Data must be an object, but it was:",_,o);const x=mp(o,_);let W,re;if(h.merge)W=new ca(_.fieldMask),re=_.fieldTransforms;else if(h.mergeFields){const Ue=[];for(const it of h.mergeFields){const Rt=vh(e,it,t);if(!_.contains(Rt))throw new v(w.INVALID_ARGUMENT,`Field '${Rt}' is specified in your field mask but missing from your input data.`);Nm(Ue,Rt)||Ue.push(Rt)}W=new ca(Ue),re=_.fieldTransforms.filter(it=>W.covers(it.field))}else W=null,re=_.fieldTransforms;return new Mm(new ft(x),W,re)}class Pl extends _u{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pl}}function fp(i,e,t){return new hd({Ya:3,oc:e.settings.oc,methodName:i._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class pp extends _u{_toFieldTransform(e){return new I(e.path,new Na)}isEqual(e){return e instanceof pp}}class Rm extends _u{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=fp(this,e,!0),o=this.ac.map(h=>qu(h,t)),l=new lu(o);return new I(e.path,l)}isEqual(e){return this===e}}class Om extends _u{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=fp(this,e,!0),o=this.ac.map(h=>qu(h,t)),l=new vo(o);return new I(e.path,l)}isEqual(e){return this===e}}class Pm extends _u{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new ll(e.M,Rc(e.M,this.cc));return new I(e.path,t)}isEqual(e){return this===e}}function pd(i,e,t,o){const l=i.uc(1,e,t);yh("Data must be an object, but it was:",l,o);const h=[],_=ft.empty();zo(o,(W,re)=>{const Ue=vp(e,W,t);re=(0,_t.m9)(re);const it=l.nc(Ue);if(re instanceof Pl)h.push(Ue);else{const Rt=qu(re,it);null!=Rt&&(h.push(Ue),_.set(Ue,Rt))}});const x=new ca(h);return new hp(_,x,l.fieldTransforms)}function mh(i,e,t,o,l,h){const _=i.uc(1,e,t),x=[vh(e,o,t)],W=[l];if(h.length%2!=0)throw new v(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Rt=0;Rt<h.length;Rt+=2)x.push(vh(e,h[Rt])),W.push(h[Rt+1]);const re=[],Ue=ft.empty();for(let Rt=x.length-1;Rt>=0;--Rt)if(!Nm(re,x[Rt])){const Qt=x[Rt];let dn=W[Rt];dn=(0,_t.m9)(dn);const Qn=_.nc(Qt);if(dn instanceof Pl)re.push(Qt);else{const Nr=qu(dn,Qn);null!=Nr&&(re.push(Qt),Ue.set(Qt,Nr))}}const it=new ca(re);return new hp(Ue,it,_.fieldTransforms)}function gp(i,e,t,o=!1){return qu(t,i.uc(o?4:3,e))}function qu(i,e){if(yp(i=(0,_t.m9)(i)))return yh("Unsupported field value:",e,i),mp(i,e);if(i instanceof _u)return function(t,o){if(!gh(o.Ya))throw o.ic(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ic(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,o){const l=[];let h=0;for(const _ of t){let x=qu(_,o.sc(h));null==x&&(x={nullValue:"NULL_VALUE"}),l.push(x),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,_t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rc(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=ti.fromDate(t);return{timestampValue:cu(o.M,l)}}if(t instanceof ti){const l=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cu(o.M,l)}}if(t instanceof dd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ea)return{bytesValue:Od(o.M,t._byteString)};if(t instanceof ji){const l=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw o.ic(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ic(`Unsupported field value: ${ld(t)}`)}(i,e)}function mp(i,e){const t={};return Ra(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(i,(o,l)=>{const h=qu(l,e.Za(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function yp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ti||i instanceof dd||i instanceof ea||i instanceof ji||i instanceof _u)}function yh(i,e,t){if(!yp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ld(t);throw e.ic("an object"===o?i+" a custom object":i+" "+o)}var o}function vh(i,e,t){if((e=(0,_t.m9)(e))instanceof vu)return e._internalPath;if("string"==typeof e)return vp(i,e);throw _h("Field path arguments must be of type string or ",i,!1,void 0,t)}const km=new RegExp("[~\\*/\\[\\]]");function vp(i,e,t){if(e.search(km)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new vu(...e.split("."))._internalPath}catch(o){throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function _h(i,e,t,o,l){const h=o&&!o.isEmpty(),_=void 0!==l;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let W="";return(h||_)&&(W+=" (found",h&&(W+=` in field ${o}`),_&&(W+=` in document ${l}`),W+=")"),new v(w.INVALID_ARGUMENT,x+i+W)}function Nm(i,e){return i.some(t=>t.isEqual(e))}class yc{constructor(e,t,o,l,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ls("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xv extends yc{data(){return super.data()}}function ls(i,e){return"string"==typeof e?vp(i,e):e instanceof vu?e._internalPath:e._delegate._internalPath}class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends yc{constructor(e,t,o,l,h,_){super(e,t,o,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(ls("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class gd extends bu{data(e={}){return super.data(e)}}class Eu{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Yu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new gd(this._firestore,this._userDataWriter,o.key,o,new Yu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new v(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new gd(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Yu(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const x=new gd(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Yu(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let W=-1,re=-1;return 0!==_.type&&(W=h.indexOf(_.doc.key),h=h.delete(_.doc.key)),1!==_.type&&(h=h.add(_.doc),re=h.indexOf(_.doc.key)),{type:Mv(_.type),doc:x,oldIndex:W,newIndex:re}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ln()}}function _p(i,e){return i instanceof bu&&e instanceof bu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Eu&&e instanceof Eu&&i._firestore===e._firestore&&Dm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function bp(i){if(sl(i)&&0===i.explicitOrderBy.length)throw new v(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ya{}function Zu(i,...e){for(const t of e)i=t._apply(i);return i}class Rv extends Ya{constructor(e,t,o){super(),this.hc=e,this.lc=t,this.fc=o,this.type="where"}_apply(e){const t=Wu(e.firestore),o=function(l,h,_,x,W,re,Ue){let it;if(W.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new v(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){Vm(Ue,re);const Qt=[];for(const dn of Ue)Qt.push(Ip(x,l,dn));it={arrayValue:{values:Qt}}}else it=Ip(x,l,Ue)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||Vm(Ue,re),it=gp(_,"where",Ue,"in"===re||"not-in"===re);const Rt=vs.create(W,re,it);return function(Qt,dn){if(dn.S()){const Nr=Cd(Qt);if(null!==Nr&&!Nr.isEqual(dn.field))throw new v(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Nr.toString()}' and '${dn.field.toString()}'`);const Xi=Tc(Qt);null!==Xi&&Um(0,dn.field,Xi)}const Qn=function(Nr,Xi){for(const ei of Nr.filters)if(Xi.indexOf(ei.op)>=0)return ei.op;return null}(Qt,function(Nr){switch(Nr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(dn.op));if(null!==Qn)throw new v(w.INVALID_ARGUMENT,Qn===dn.op?`Invalid query. You cannot use more than one '${dn.op.toString()}' filter.`:`Invalid query. You cannot use '${dn.op.toString()}' filters with '${Qn.toString()}' filters.`)}(l,Rt),Rt}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Hs(e.firestore,e.converter,function(l,h){const _=l.filters.concat([h]);return new Ks(l.path,l.collectionGroup,l.explicitOrderBy.slice(),_,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class Ov extends Ya{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(o,l,h){if(null!==o.startAt)throw new v(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new v(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new ga(l,h);return function(x,W){if(null===Tc(x)){const re=Cd(x);null!==re&&Um(0,re,W.field)}}(o,_),_}(e._query,this.hc,this.dc);return new Hs(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new Ks(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Pv extends Ya{constructor(e,t,o){super(),this.type=e,this._c=t,this.wc=o}_apply(e){return new Hs(e.firestore,e.converter,ol(e._query,this._c,this.wc))}}class va extends Ya{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=wp(e,this.type,this.mc,this.gc);return new Hs(e.firestore,e.converter,(l=t,new Ks((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class _a extends Ya{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=wp(e,this.type,this.mc,this.gc);return new Hs(e.firestore,e.converter,(l=t,new Ks((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function wp(i,e,t,o){if(t[0]=(0,_t.m9)(t[0]),t[0]instanceof yc)return function(l,h,_,x,W){if(!x)throw new v(w.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const re=[];for(const Ue of ka(l))if(Ue.field.isKeyField())re.push(go(h,x.key));else{const it=x.data.field(Ue.field);if(da(it))throw new v(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===it){const Rt=Ue.field.canonicalString();throw new v(w.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Rt}' (used as the orderBy) does not exist.`)}re.push(it)}return new Yo(re,W)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=Wu(i.firestore);return function(h,_,x,W,re,Ue){const it=h.explicitOrderBy;if(re.length>it.length)throw new v(w.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Rt=[];for(let Qt=0;Qt<re.length;Qt++){const dn=re[Qt];if(it[Qt].field.isKeyField()){if("string"!=typeof dn)throw new v(w.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof dn}`);if(!Sc(h)&&-1!==dn.indexOf("/"))throw new v(w.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${dn}' contains a slash.`);const Qn=h.path.child(Kr.fromString(dn));if(!xn.isDocumentKey(Qn))throw new v(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Qn}' is not because it contains an odd number of segments.`);const Nr=new xn(Qn);Rt.push(go(_,Nr))}else{const Qn=gp(x,W,dn);Rt.push(Qn)}}return new Yo(Rt,Ue)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Ip(i,e,t){if("string"==typeof(t=(0,_t.m9)(t))){if(""===t)throw new v(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sc(e)&&-1!==t.indexOf("/"))throw new v(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Kr.fromString(t));if(!xn.isDocumentKey(o))throw new v(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return go(i,new xn(o))}if(t instanceof ji)return go(i,t._key);throw new v(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(t)}.`)}function Vm(i,e){if(!Array.isArray(i)||0===i.length)throw new v(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new v(w.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Um(i,e,t){if(!t.isEqual(e))throw new v(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Cp{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ln()}}convertObject(e,t){const o={};return zo(e.fields,(l,h)=>{o[l]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new dd(Vi(e.latitude),Vi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ti(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(So(e));default:return null}}convertTimestamp(e){const t=To(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Kr.fromString(e);pr(ig(o));const l=new fo(o.get(1),o.get(3)),h=new xn(o.popFirst(5));return l.isEqual(t)||Mi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function bh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Dp extends Cp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,t)}}class vc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wu(e)}set(e,t,o){this._verifyNotCommitted();const l=Ku(e,this._firestore),h=bh(l.converter,t,o),_=fd(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,o);return this._mutations.push(_.toMutation(l._key,D.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const h=Ku(e,this._firestore);let _;return _="string"==typeof(t=(0,_t.m9)(t))||t instanceof vu?mh(this._dataReader,"WriteBatch.update",h._key,t,o,l):pd(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(_.toMutation(h._key,D.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ku(e,this._firestore);return this._mutations=this._mutations.concat(new Nu(t._key,D.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new v(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ku(i,e){if((i=(0,_t.m9)(i)).firestore!==e)throw new v(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class kl extends Cp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,t)}}function Tp(i,e,t){i=li(i,ji);const o=li(i.firestore,Hi),l=bh(i.converter,e,t);return Nl(o,[fd(Wu(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,D.none())])}function wh(i,e,t,...o){i=li(i,ji);const l=li(i.firestore,Hi),h=Wu(l);let _;return _="string"==typeof(e=(0,_t.m9)(e))||e instanceof vu?mh(h,"updateDoc",i._key,e,t,o):pd(h,"updateDoc",i._key,e),Nl(l,[_.toMutation(i._key,D.exists(!0))])}function Sp(i,...e){var t,o,l;i=(0,_t.m9)(i);let h={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||op(e[_])||(h=e[_],_++);const x={includeMetadataChanges:h.includeMetadataChanges};if(op(e[_])){const it=e[_];e[_]=null===(t=it.next)||void 0===t?void 0:t.bind(it),e[_+1]=null===(o=it.error)||void 0===o?void 0:o.bind(it),e[_+2]=null===(l=it.complete)||void 0===l?void 0:l.bind(it)}let W,re,Ue;if(i instanceof ji)re=li(i.firestore,Hi),Ue=Pu(i._key.path),W={next:it=>{e[_]&&e[_](Ch(re,i,it))},error:e[_+1],complete:e[_+2]};else{const it=li(i,Hs);re=li(it.firestore,Hi),Ue=it._query;const Rt=new kl(re);W={next:Qt=>{e[_]&&e[_](new Eu(re,Rt,it,Qt))},error:e[_+1],complete:e[_+2]},bp(i._query)}return function(it,Rt,Qt,dn){const Qn=new yu(dn),Nr=new Bf(Rt,Qn,Qt);return it.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Nf(yield Rl(it),Nr)})),()=>{Qn.pa(),it.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Ff(yield Rl(it),Nr)}))}}(Ts(re),Ue,x,W)}function Nl(i,e){return function(t,o){const l=new E;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function rm(i,e,t){return im.apply(this,arguments)}(yield dh(t),o,l)})),l.promise}(Ts(i),e)}function Ch(i,e,t){const o=t.docs.get(e._key),l=new kl(i);return new bu(i,l,e._key,o,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}class qm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wu(e)}get(e){const t=Ku(e,this._firestore),o=new Dp(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Ln();const h=l[0];if(h.isFoundDocument())return new yc(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new yc(this._firestore,o,t._key,null,t.converter);throw Ln()})}set(e,t,o){const l=Ku(e,this._firestore),h=bh(l.converter,t,o),_=fd(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,o);return this._transaction.set(l._key,_),this}update(e,t,o,...l){const h=Ku(e,this._firestore);let _;return _="string"==typeof(t=(0,_t.m9)(t))||t instanceof vu?mh(this._dataReader,"Transaction.update",h._key,t,o,l):pd(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,_),this}delete(e){const t=Ku(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ku(e,this._firestore),o=new kl(this._firestore);return super.get(e).then(l=>new bu(this._firestore,o,t._key,l._document,new Yu(!1,!1),t.converter))}}function Ap(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new v("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Xm(){if("undefined"==typeof Uint8Array)throw new v("unimplemented","Uint8Arrays are not available in this environment.")}function Jm(){if(!function bd(){return"undefined"!=typeof atob}())throw new v("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){$s=ut.SDK_VERSION,(0,ut._registerComponent)(new ke.wA("firestore",(t,{options:o})=>{const l=t.getProvider("app").getImmediate(),h=new Hi(l,new Be(t.getProvider("auth-internal")),new Hr(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,ut.registerVersion)(Do,"3.4.7",i),(0,ut.registerVersion)(Do,"3.4.7","esm2017")}();class md{constructor(e){this._delegate=e}static fromBase64String(e){return Jm(),new md(ea.fromBase64String(e))}static fromUint8Array(e){return Xm(),new md(ea.fromUint8Array(e))}toBase64(){return Jm(),this._delegate.toBase64()}toUint8Array(){return Xm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xp(i){return function Hv(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Gv{enableIndexedDbPersistence(e,t){return function Dv(i,e){Sv(i=li(i,Hi));const t=Ts(i),o=i._freezeSettings(),l=new zu;return mc(t,l,new xl(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Q_(i){Sv(i=li(i,Hi));const e=Ts(i),t=i._freezeSettings(),o=new zu;return mc(e,o,new hc(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Am(i){if(i._initialized&&!i._terminated)throw new v(w.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new E;return i._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(t=(0,oe.Z)(function*(o){if(!Oo.vt())return Promise.resolve();const l=o+"main";yield Oo.delete(l)}),function(o){return t.apply(this,arguments)})(Sg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Qm{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof fo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Em(i,e,t,o={}){var l;const h=(i=li(i,cd))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&rs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let _,x;if("string"==typeof o.mockUserToken)_=o.mockUserToken,x=qi.MOCK_USER;else{_=(0,_t.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const W=o.mockUserToken.sub||o.mockUserToken.user_id;if(!W)throw new v(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new qi(W)}i._authCredentials=new ue(new F(_,x))}}(this._delegate,e,t,o)}enableNetwork(){return function up(i){return function mv(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield fm(i),t=yield pm(i);return e.setNetworkEnabled(!0),function(o){const l=An(o);return l.lu.delete(0),ic(l)}(t)}))}(Ts(i=li(i,Hi)))}(this._delegate)}disableNetwork(){return function Tv(i){return function gm(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield fm(i),t=yield pm(i);return e.setNetworkEnabled(!1),(o=(0,oe.Z)(function*(l){const h=An(l);h.lu.add(0),yield sc(h),h._u.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(Ts(i=li(i,Hi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,bv("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ap(i){return function(e){const t=new E;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function X_(i,e){return No.apply(this,arguments)}(yield dh(e),t)})),t.promise}(Ts(i=li(i,Hi)))}(this._delegate)}onSnapshotsInSync(e){return function Wm(i,e){return function J_(i,e){const t=new yu(e);return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield Rl(i),l=t,An(o).Tu.add(l),void l.next();var o,l})),()=>{t.pa(),i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield Rl(i),l=t,void An(o).Tu.delete(l);var o,l}))}}(Ts(i=li(i,Hi)),op(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new v("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ec(this,wm(this._delegate,e))}catch(t){throw eo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Lo(this,hh(this._delegate,e))}catch(t){throw eo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new to(this,function Im(i,e){if(i=li(i,cd),vm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new v(w.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hs(i,null,(t=e,new Ks(Kr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw eo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ym(i,e){return function _v(i,e){const t=new E;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const o=yield(l=i,ud(l).then(h=>h.datastore));var l;new gc(i.asyncQueue,o,e,t).run()})),t.promise}(Ts(i=li(i,Hi)),t=>e(new qm(i,t)))}(this._delegate,t=>e(new Mp(this,t)))}batch(){return Ts(this._delegate),new Rp(new vc(this._delegate,e=>Nl(this._delegate,e)))}loadBundle(e){return function ph(i,e){const t=Ts(i=li(i,Hi)),o=new Tm;return function ip(i,e,t,o){const l=function(h,_){let x;return x="string"==typeof h?(new TextEncoder).encode(h):h,W=function(W,re){if(W instanceof Uint8Array)return Ml(W,void 0);if(W instanceof ArrayBuffer)return Ml(new Uint8Array(W),void 0);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new fc(W,_);var W}(t,Kc(e));i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function Qf(i,e,t){const o=An(i);var l;(l=(0,oe.Z)(function*(h,_,x){try{const W=yield _.getMetadata();if(yield function(Rt,Qt){const dn=An(Rt),Qn=ks(Qt.createTime);return dn.persistence.runTransaction("hasNewerBundle","readonly",Nr=>dn.ds.getBundleMetadata(Nr,Qt.id)).then(Nr=>!!Nr&&Nr.createTime.compareTo(Qn)>=0)}(h.localStore,W))return yield _.close(),x._completeWith({taskState:"Success",documentsLoaded:(Rt=W).totalDocuments,bytesLoaded:Rt.totalBytes,totalDocuments:Rt.totalDocuments,totalBytes:Rt.totalBytes}),Promise.resolve(new Set);x._updateProgress(Xg(W));const re=new uv(W,h.localStore,_.M);let Ue=yield _.fa();for(;Ue;){const Rt=yield re.Nu(Ue);Rt&&x._updateProgress(Rt),Ue=yield _.fa()}const it=yield re.complete();return yield Wa(h,it.Ou,void 0),yield function(Rt,Qt){const dn=An(Rt);return dn.persistence.runTransaction("Save bundle","readwrite",Qn=>dn.ds.saveBundleMetadata(Qn,Qt))}(h.localStore,W),x._completeWith(it.progress),Promise.resolve(it.Mu)}catch(W){return rs("SyncEngine",`Loading bundle failed with ${W}`),x._failWith(W),Promise.resolve(new Set)}var Rt}),function(h,_,x){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield dh(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function cp(i,e){return function sp(i,e){return i.asyncQueue.enqueue((0,oe.Z)(function*(){return function(t,o){const l=An(t);return l.persistence.runTransaction("Get named query","readonly",h=>l.ds.getNamedQuery(h,o))}(yield ch(i),e)}))}(Ts(i=li(i,Hi)),e).then(t=>t?new Hs(i,null,t.query):null)}(this._delegate,e).then(t=>t?new to(this,t):null)}}class Dh extends Cp{constructor(e){super(),this.firestore=e}convertBytes(e){return new md(new ea(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Lo.forKey(t,this.firestore,null)}}class Mp{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Dh(e)}get(e){const t=ta(e);return this._delegate.get(t).then(o=>new _c(this._firestore,new bu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=ta(e);return o?(Ap("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=ta(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=ta(e);return this._delegate.delete(t),this}}class Rp{constructor(e){this._delegate=e}set(e,t,o){const l=ta(e);return o?(Ap("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=ta(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=ta(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xu{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new gd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bc(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Xu.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let h=l.get(t);return h||(h=new Xu(e,new Dh(e),t),l.set(t,h)),h}}Xu.INSTANCES=new WeakMap;class Lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new v("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Lo(t,new ji(t._delegate,o,new xn(e)))}static forKey(e,t,o){return new Lo(t,new ji(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Ec(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ec(this.firestore,wm(this._delegate,e))}catch(t){throw eo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_t.m9)(e))instanceof ji&&Cm(this._delegate,e)}set(e,t){t=Ap("DocumentReference.set",t);try{return t?Tp(this._delegate,e,t):Tp(this._delegate,e)}catch(o){throw eo(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?wh(this._delegate,e):wh(this._delegate,e,t,...o)}catch(l){throw eo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Ih(i){return Nl(li(i.firestore,Hi),[new Nu(i._key,D.none())])}(this._delegate)}onSnapshot(...e){const t=Op(e),o=Pp(e,l=>new _c(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Sp(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jm(i){i=li(i,ji);const e=li(i.firestore,Hi),t=Ts(e),o=new kl(e);return function yv(i,e){const t=new E;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(l,h,_){try{const x=yield function(W,re){const Ue=An(W);return Ue.persistence.runTransaction("read document","readonly",it=>Ue.ai.Bs(it,re))}(l,h);x.isFoundDocument()?_.resolve(x):x.isNoDocument()?_.resolve(null):_.reject(new v(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const W=za(x,`Failed to get document '${h} from cache`);_.reject(W)}}),function(l,h,_){return o.apply(this,arguments)})(yield ch(i),e,t);var o})),t.promise}(t,i._key).then(l=>new bu(e,o,i._key,l,new Yu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Hm(i){i=li(i,ji);const e=li(i.firestore,Hi);return rp(Ts(e),i._key,{source:"server"}).then(t=>Ch(e,i,t))}(this._delegate):function $m(i){i=li(i,ji);const e=li(i.firestore,Hi);return rp(Ts(e),i._key).then(t=>Ch(e,i,t))}(this._delegate),t.then(o=>new _c(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Lo(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function eo(i,e,t){return i.message=i.message.replace(e,t),i}function Op(i){for(const e of i)if("object"==typeof e&&!xp(e))return e;return{}}function Pp(i,e){var t,o;let l;return l=xp(i[0])?i[0]:xp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class _c{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Lo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _p(this._delegate,e._delegate)}}class bc extends _c{data(e){const t=this._delegate.data(e);return function Go(i,e){i||Ln()}(void 0!==t),t}}class to{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dh(e)}where(e,t,o){try{return new to(this.firestore,Zu(this._delegate,function Fm(i,e,t){const o=e,l=ls("where",i);return new Rv(l,o,t)}(e,t,o)))}catch(l){throw eo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new to(this.firestore,Zu(this._delegate,function Lm(i,e="asc"){const t=e,o=ls("orderBy",i);return new Ov(o,t)}(e,t)))}catch(o){throw eo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new to(this.firestore,Zu(this._delegate,function Bm(i){return bm("limit",i),new Pv("limit",i,"F")}(e)))}catch(t){throw eo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new to(this.firestore,Zu(this._delegate,function Ep(i){return bm("limitToLast",i),new Pv("limitToLast",i,"L")}(e)))}catch(t){throw eo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new to(this.firestore,Zu(this._delegate,function kv(...i){return new va("startAt",i,!0)}(...e)))}catch(t){throw eo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new to(this.firestore,Zu(this._delegate,function Nv(...i){return new va("startAfter",i,!1)}(...e)))}catch(t){throw eo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new to(this.firestore,Zu(this._delegate,function ba(...i){return new _a("endBefore",i,!1)}(...e)))}catch(t){throw eo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new to(this.firestore,Zu(this._delegate,function Ea(...i){return new _a("endAt",i,!0)}(...e)))}catch(t){throw eo(t,"endAt()","Query.endAt()")}}isEqual(e){return Dm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Fv(i){i=li(i,Hs);const e=li(i.firestore,Hi),t=Ts(e),o=new kl(e);return function vv(i,e){const t=new E;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(l,h,_){try{const x=yield qc(l,h,!0),W=new Qo(h,x.hi),re=W.Gu(x.documents),Ue=W.applyChanges(re,!1);_.resolve(Ue.snapshot)}catch(x){const W=za(x,`Failed to execute query '${h} against cache`);_.reject(W)}}),function(l,h,_){return o.apply(this,arguments)})(yield ch(i),e,t);var o})),t.promise}(t,i._query).then(l=>new Eu(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function Gm(i){i=li(i,Hs);const e=li(i.firestore,Hi),t=Ts(e),o=new kl(e);return mm(t,i._query,{source:"server"}).then(l=>new Eu(e,o,i,l))}(this._delegate):function Eh(i){i=li(i,Hs);const e=li(i.firestore,Hi),t=Ts(e),o=new kl(e);return bp(i._query),mm(t,i._query).then(l=>new Eu(e,o,i,l))}(this._delegate),t.then(o=>new kp(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Op(e),o=Pp(e,l=>new kp(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Sp(this._delegate,t,o)}withConverter(e){return new to(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}class Fl{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new to(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Fl(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new bc(this._firestore,o))})}isEqual(e){return _p(this._delegate,e._delegate)}}class Ec extends to{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Lo(this.firestore,e):null}doc(e){try{return new Lo(this.firestore,void 0===e?hh(this._delegate):hh(this._delegate,e))}catch(t){throw eo(t,"doc()","CollectionReference.doc()")}}add(e){return function zm(i,e){const t=li(i.firestore,Hi),o=hh(i),l=bh(i.converter,e);return Nl(t,[fd(Wu(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,D.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Lo(this.firestore,t))}isEqual(e){return Cm(this._delegate,e._delegate)}withConverter(e){return new Ec(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function ta(i){return li(i,ji)}class ty{constructor(...e){this._delegate=new vu(...e)}static documentId(){return new ty(ss.keyField().canonicalString())}isEqual(e){return(e=(0,_t.m9)(e))instanceof vu&&this._delegate._internalPath.isEqual(e._internalPath)}}class wu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Lv(){return new pp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new wu(e)}static delete(){const e=function Zm(){return new Pl("deleteField")}();return e._methodName="FieldValue.delete",new wu(e)}static arrayUnion(...e){const t=function Bv(...i){return new Rm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new wu(t)}static arrayRemove(...e){const t=function Vv(...i){return new Om("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new wu(t)}static increment(e){const t=function Uv(i){return new Pm("increment",i)}(e);return t._methodName="FieldValue.increment",new wu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const n0={Firestore:Qm,GeoPoint:dd,Timestamp:ti,Blob:md,Transaction:Mp,WriteBatch:Rp,DocumentReference:Lo,DocumentSnapshot:_c,Query:to,QueryDocumentSnapshot:bc,QuerySnapshot:kp,CollectionReference:Ec,FieldPath:ty,FieldValue:wu,setLogLevel:function ey(i){!function Ma(i){Es.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function ry(i){(function ny(i,e){i.INTERNAL.registerComponent(new ke.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},n0)))})(i,(e,t)=>new Qm(e,t,new Gv)),i.registerVersion("@firebase/firestore-compat","0.1.16")}(ot.Z);var Ll=M(4941),Sr=M(440),zv=M(127);function iy(i,e){return function Wv(i,e=b.z){return new U.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function Np(i,e){return iy(i,e).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function Bl(i,e){return Np(i,e).pipe((0,J.O)(void 0),_e(),(0,se.U)(([t,o])=>{const l=o.payload.docChanges(),h=l.map(_=>({type:_.type,payload:_}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((_,x)=>{const W=l.find(Ue=>Ue.doc.ref.isEqual(_.ref)),re=null==t?void 0:t.payload.docs.find(Ue=>Ue.ref.isEqual(_.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(_.metadata)||!W&&re&&JSON.stringify(re.metadata)===JSON.stringify(_.metadata)||h.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:_}})}),h}))}function yd(i,e,t){return Bl(i,t).pipe((0,Z.R)((o,l)=>function cs(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function oy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return sy(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sy(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sy(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(h=>h.payload),e),[]),(0,Ne.x)(),(0,se.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function sy(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function ay(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class uy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Bl(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,se.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,J.O)(void 0),_e(),(0,Xe.h)(([o,l])=>l.length>0||!o),(0,se.U)(([o,l])=>l),K.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Z.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ay(e);return yd(this.query,t,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(e={}){return Np(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),K.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(K.iC)}add(e){return this.ref.add(e)}doc(e){return new Fp(this.ref.doc(e),this.afs)}}class Fp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:h}=cy(o,t);return new uy(l,h,this.afs)}snapshotChanges(){return function Th(i,e){return iy(i,e).pipe((0,J.O)(void 0),_e(),(0,se.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ce.D)(this.ref.get(e)).pipe(K.iC)}}class ly{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Bl(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Xe.h)(t=>t.length>0),K.iC):Bl(this.query,this.afs.schedulers.outsideAngular).pipe(K.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Z.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ay(e);return yd(this.query,t,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(e={}){return Np(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),K.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(K.iC)}}const Lp=new a.OlP("angularfire2.enableFirestorePersistence"),Bp=new a.OlP("angularfire2.firestore.persistenceSettings"),qv=new a.OlP("angularfire2.firestore.settings"),Yv=new a.OlP("angularfire2.firestore.use-emulator");function cy(i,e=(t=>t)){return{query:e(i),ref:i}}let wc=(()=>{class i{constructor(t,o,l,h,_,x,W,re,Ue,it,Rt,Qt,dn,Qn,Nr,Xi,ei){this.schedulers=W;const Fs=(0,fe.on)(t,x,o),Ji=Ue;it&&(0,Ll.nw)(Fs,x,Rt,dn,Qn,Nr,Qt,Xi),[this.firestore,this.persistenceEnabled$]=(0,fe.cc)(`${Fs.name}.firestore`,"AngularFirestore",Fs.name,()=>{const Gi=x.runOutsideAngular(()=>Fs.firestore());if(h&&Gi.settings(h),Ji&&Gi.useEmulator(...Ji),l&&!(0,Pe.PM)(_)){const bi=()=>{try{return(0,Ce.D)(Gi.enablePersistence(re||void 0).then(()=>!0,()=>!1))}catch(wa){return"undefined"!=typeof console&&console.warn(wa),(0,Ie.of)(!1)}};return[Gi,x.runOutsideAngular(bi)]}return[Gi,(0,Ie.of)(!1)]},[h,Ji,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:_}=cy(l,o),x=this.schedulers.ngZone.run(()=>h);return new uy(x,_,this)}collectionGroup(t,o){const l=o||(_=>_),h=this.firestore.collectionGroup(t);return new ly(l(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new Fp(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(fe.Dh),a.LFG(fe.xv,8),a.LFG(Lp,8),a.LFG(qv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(K.HU),a.LFG(Bp,8),a.LFG(Yv,8),a.LFG(Ll.zQ,8),a.LFG(Ll.Qv,8),a.LFG(Ll.L6,8),a.LFG(Ll._Q,8),a.LFG(Ll.rT,8),a.LFG(Ll.lh,8),a.LFG(Ll.f7,8),a.LFG(Sr.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Zv=(()=>{class i{constructor(){zv.Z.registerVersion("angularfire",K.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Lp,useValue:!0},{provide:Bp,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[wc]}),i})()},3764:(an,ct,M)=>{"use strict";M.d(ct,{Q1:()=>ze,TE:()=>et});var a=M(2916),b=M(1086),U=M(5254),Ce=M(3489),Ie=M(353);class he{constructor(Oe,Dt){this.dueTime=Oe,this.scheduler=Dt}call(Oe,Dt){return Dt.subscribe(new _e(Oe,this.dueTime,this.scheduler))}}class _e extends Ce.L{constructor(Oe,Dt,Gt){super(Oe),this.dueTime=Dt,this.scheduler=Gt,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Oe){this.clearDebounce(),this.lastValue=Oe,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(pe,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Oe}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Oe)}}clearDebounce(){const Oe=this.debouncedSubscription;null!==Oe&&(this.remove(Oe),Oe.unsubscribe(),this.debouncedSubscription=null)}}function pe(je){je.debouncedNext()}var X=M(4850),J=M(7545),se=M(6351),Z=M(6435),Ne=M(2011),Xe=M(3942),fe=M(6961),Pe=M(4859);class ye{constructor(Oe,Dt,Gt){this._delegate=Oe,this.task=Dt,this.ref=Gt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ot{constructor(Oe,Dt){this._delegate=Oe,this._ref=Dt,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ye(this._delegate.snapshot,this,this._ref)}then(Oe,Dt){return this._delegate.then(Gt=>{if(Oe)return Oe(new ye(Gt,this,this._ref))},Dt)}on(Oe,Dt,Gt,Yt){let ln;return Dt&&(ln="function"==typeof Dt?pn=>Dt(new ye(pn,this,this._ref)):{next:Dt.next?pn=>Dt.next(new ye(pn,this,this._ref)):void 0,complete:Dt.complete||void 0,error:Dt.error||void 0}),this._delegate.on(Oe,ln,Gt||void 0,Yt||void 0)}}class oe{constructor(Oe,Dt){this._delegate=Oe,this._service=Dt}get prefixes(){return this._delegate.prefixes.map(Oe=>new ut(Oe,this._service))}get items(){return this._delegate.items.map(Oe=>new ut(Oe,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ut{constructor(Oe,Dt){this._delegate=Oe,this.storage=Dt}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Oe){const Dt=(0,fe.g6)(this._delegate,Oe);return new ut(Dt,this.storage)}get root(){return new ut(this._delegate.root,this.storage)}get parent(){const Oe=this._delegate.parent;return null==Oe?null:new ut(Oe,this.storage)}put(Oe,Dt){return this._throwIfRoot("put"),new ot((0,fe.B0)(this._delegate,Oe,Dt),this)}putString(Oe,Dt=fe.bm.RAW,Gt){this._throwIfRoot("putString");const Yt=(0,fe.qm)(Dt,Oe),ln=Object.assign({},Gt);return null==ln.contentType&&null!=Yt.contentType&&(ln.contentType=Yt.contentType),new ot(new fe.IX(this._delegate,new fe.UJ(Yt.data,!0),ln),this)}listAll(){return(0,fe.aF)(this._delegate).then(Oe=>new oe(Oe,this.storage))}list(Oe){return(0,fe.pb)(this._delegate,Oe||void 0).then(Dt=>new oe(Dt,this.storage))}getMetadata(){return(0,fe.sd)(this._delegate)}updateMetadata(Oe){return(0,fe.Ym)(this._delegate,Oe)}getDownloadURL(){return(0,fe.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,fe.oq)(this._delegate)}_throwIfRoot(Oe){if(""===this._delegate._location.path)throw(0,fe.y4)(Oe)}}class ke{constructor(Oe,Dt){this.app=Oe,this._delegate=Dt}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Oe){if(at(Oe))throw(0,fe.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new ut((0,fe.iH)(this._delegate,Oe),this)}refFromURL(Oe){if(!at(Oe))throw(0,fe.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fe.gE.makeFromUrl(Oe,this._delegate.host)}catch(Dt){throw(0,fe.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new ut((0,fe.iH)(this._delegate,Oe),this)}setMaxUploadRetryTime(Oe){this._delegate.maxUploadRetryTime=Oe}setMaxOperationRetryTime(Oe){this._delegate.maxOperationRetryTime=Oe}useEmulator(Oe,Dt,Gt={}){(0,fe.a1)(this._delegate,Oe,Dt,Gt)}}function at(je){return/^[A-Za-z]+:\/\//.test(je)}function ve(je,{instanceIdentifier:Oe}){const Dt=je.getProvider("app-compat").getImmediate(),Gt=je.getProvider("storage").getImmediate({identifier:Oe});return new ke(Dt,Gt)}!function Ve(je){const Oe={TaskState:fe.$Y,TaskEvent:fe.FN,StringFormat:fe.bm,Storage:ke,Reference:ut};je.INTERNAL.registerComponent(new Pe.wA("storage-compat",ve,"PUBLIC").setServiceProps(Oe).setMultipleInstances(!0)),je.registerVersion("@firebase/storage-compat","0.1.12")}(Xe.Z);var me=M(440),Te=M(127);function qe(je){const Oe=function De(je){return new a.y(Oe=>{const Dt=pn=>Oe.next(pn);Dt(je.snapshot);const ln=je.on("state_changed",Dt);return je.then(pn=>{Dt(pn),Oe.complete()},pn=>{Dt(je.snapshot),(pn=>{Oe.error(pn)})(pn)}),function(){ln()}}).pipe(function K(je,Oe=Ie.P){return Dt=>Dt.lift(new he(je,Oe))}(0))}(je);return{task:je,then:je.then.bind(je),catch:je.catch.bind(je),pause:je.pause.bind(je),cancel:je.cancel.bind(je),resume:je.resume.bind(je),snapshotChanges:()=>Oe,percentageChanges:()=>Oe.pipe((0,X.U)(Dt=>Dt.bytesTransferred/Dt.totalBytes*100))}}function qt(je){return{getDownloadURL:()=>(0,b.of)(void 0).pipe(se.fc,(0,J.w)(()=>je.getDownloadURL()),se.iC),getMetadata:()=>(0,b.of)(void 0).pipe(se.fc,(0,J.w)(()=>je.getMetadata()),se.iC),delete:()=>(0,U.D)(je.delete()),child:Oe=>qt(je.child(Oe)),updateMetadata:Oe=>(0,U.D)(je.updateMetadata(Oe)),put:(Oe,Dt)=>qe(je.put(Oe,Dt)),putString:(Oe,Dt,Gt)=>qe(je.putString(Oe,Dt,Gt)),list:Oe=>(0,U.D)(je.list(Oe)),listAll:()=>(0,U.D)(je.listAll())}}const tn=new Z.OlP("angularfire2.storageBucket"),bt=new Z.OlP("angularfire2.storage.maxUploadRetryTime"),pt=new Z.OlP("angularfire2.storage.maxOperationRetryTime"),dt=new Z.OlP("angularfire2.storage.use-emulator");let ze=(()=>{class je{constructor(Dt,Gt,Yt,ln,pn,or,vn,jn,Ft,Pn){const nr=(0,Ne.on)(Dt,pn,Gt);this.storage=(0,Ne.cc)(`${nr.name}.storage.${Yt}`,"AngularFireStorage",nr.name,()=>{const Yn=pn.runOutsideAngular(()=>nr.storage(Yt||void 0)),Gn=Ft;return Gn&&Yn.useEmulator(...Gn),vn&&Yn.setMaxUploadRetryTime(vn),jn&&Yn.setMaxOperationRetryTime(jn),Yn},[vn,jn])}ref(Dt){return qt(this.storage.ref(Dt))}refFromURL(Dt){return qt(this.storage.refFromURL(Dt))}upload(Dt,Gt,Yt){return qt(this.storage.ref(Dt)).put(Gt,Yt)}}return je.\u0275fac=function(Dt){return new(Dt||je)(Z.LFG(Ne.Dh),Z.LFG(Ne.xv,8),Z.LFG(tn,8),Z.LFG(Z.Lbi),Z.LFG(Z.R0b),Z.LFG(se.HU),Z.LFG(bt,8),Z.LFG(pt,8),Z.LFG(dt,8),Z.LFG(me.nm,8))},je.\u0275prov=Z.Yz7({token:je,factory:je.\u0275fac,providedIn:"any"}),je})(),gt=(()=>{class je{}return je.\u0275fac=function(Dt){return new(Dt||je)},je.\u0275mod=Z.oAB({type:je}),je.\u0275inj=Z.cJS({}),je})(),et=(()=>{class je{constructor(){Te.Z.registerVersion("angularfire",se.q4.full,"gcs-compat")}}return je.\u0275fac=function(Dt){return new(Dt||je)},je.\u0275mod=Z.oAB({type:je}),je.\u0275inj=Z.cJS({providers:[ze],imports:[gt]}),je})()},2011:(an,ct,M)=>{"use strict";M.d(ct,{hO:()=>Z,xv:()=>pe,Dh:()=>_e,GT:()=>K,cc:()=>Ne,on:()=>X,pX:()=>Ie});var a=M(6435),b=M(127),U=M(6351);an=M.hmd(an);const Ce=["ngOnDestroy"],Ie=(ye,ot,oe,ut={})=>new Proxy(ye,{get:(ke,at)=>oe.runOutsideAngular(()=>{var _t;if(ye[at])return(null===(_t=null==ut?void 0:ut.spy)||void 0===_t?void 0:_t.get)&&ut.spy.get(at,ye[at]),ye[at];if(Ce.indexOf(at)>-1)return()=>{};const He=ot.toPromise().then(wt=>{const ve=wt&&wt[at];return"function"==typeof ve?ve.bind(wt):ve&&ve.then?ve.then(Ve=>oe.run(()=>Ve)):oe.run(()=>ve)});return new Proxy(()=>{},{get:(wt,ve)=>He[ve],apply:(wt,ve,Ve)=>He.then(me=>{var Te;const De=me&&me(...Ve);return(null===(Te=null==ut?void 0:ut.spy)||void 0===Te?void 0:Te.apply)&&ut.spy.apply(at,Ve,De),De})})})}),K=(ye,ot)=>{ot.forEach(oe=>{Object.getOwnPropertyNames(oe.prototype||oe).forEach(ut=>{Object.defineProperty(ye.prototype,ut,Object.getOwnPropertyDescriptor(oe.prototype||oe,ut))})})};class he{constructor(ot){return ot}}const _e=new a.OlP("angularfire2.app.options"),pe=new a.OlP("angularfire2.app.name");function X(ye,ot,oe){const ke="object"==typeof oe&&oe||{};ke.name=ke.name||"string"==typeof oe&&oe||"[DEFAULT]";const _t=b.Z.apps.filter(He=>He&&He.name===ke.name)[0]||ot.runOutsideAngular(()=>b.Z.initializeApp(ye,ke));try{JSON.stringify(ye)!==JSON.stringify(_t.options)&&J("error",`${_t.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new he(_t)}const J=(ye,...ot)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ye](...ot)},se={provide:he,useFactory:X,deps:[_e,a.R0b,[new a.FiY,pe]]};let Z=(()=>{class ye{constructor(oe){b.Z.registerVersion("angularfire",U.q4.full,"core"),b.Z.registerVersion("angularfire",U.q4.full,"app-compat"),b.Z.registerVersion("angular",a.q4F.full,oe.toString())}static initializeApp(oe,ut){return{ngModule:ye,providers:[{provide:_e,useValue:oe},{provide:pe,useValue:ut}]}}}return ye.\u0275fac=function(oe){return new(oe||ye)(a.LFG(a.Lbi))},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({providers:[se]}),ye})();function Ne(ye,ot,oe,ut,ke){const[,at,_t]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ye)||[];if(at)return function Xe(ye,ot){try{return ye.toString()===ot.toString()}catch(oe){return ye===ot}}(ke,_t)||(Pe("error",`${ot} was already initialized on the ${oe} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),Pe("warn",{is:ke,was:_t})),at;{const He=ut();return globalThis.\u0275AngularfireInstanceCache.push([ye,He,ke]),He}}const fe=!!an.hot,Pe=(ye,...ot)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ye](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(an,ct,M)=>{"use strict";M.d(ct,{q4:()=>Vi,iC:()=>iu,fc:()=>go,HU:()=>xo,vb:()=>Wo,JM:()=>nu});var a=M(6435),b=M(5867),U=M(5861),Ce=M(9681),Ie=M(2090),K=M(4859),he=M(1877);const _e="@firebase/installations",J="w:0.5.7",se="FIS_v2",ye=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(O){return O instanceof Ie.ZR&&O.code.includes("request-failed")}function oe({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function ut(O){return{token:O.token,requestStatus:2,expiresIn:Ve(O.expiresIn),creationTime:Date.now()}}function ke(O,j){return at.apply(this,arguments)}function at(){return(at=(0,U.Z)(function*(O,j){const $e=(yield j.json()).error;return ye.create("request-failed",{requestName:O,serverCode:$e.code,serverMessage:$e.message,serverStatus:$e.status})})).apply(this,arguments)}function _t({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function He(O,{refreshToken:j}){const le=_t(O);return le.append("Authorization",function me(O){return`${se} ${O}`}(j)),le}function wt(O){return ve.apply(this,arguments)}function ve(){return(ve=(0,U.Z)(function*(O){const j=yield O();return j.status>=500&&j.status<600?O():j})).apply(this,arguments)}function Ve(O){return Number(O.replace("s","000"))}function Te(O,j){return De.apply(this,arguments)}function De(){return(De=(0,U.Z)(function*({appConfig:O,heartbeatServiceProvider:j},{fid:le}){const $e=oe(O),ft=_t(O),Mt=j.getImmediate({optional:!0});if(Mt){const yr=yield Mt.getHeartbeatsHeader();yr&&ft.append("x-firebase-client",yr)}const $n={method:"POST",headers:ft,body:JSON.stringify({fid:le,authVersion:se,appId:O.appId,sdkVersion:J})},Cr=yield wt(()=>fetch($e,$n));if(Cr.ok){const yr=yield Cr.json();return{fid:yr.fid||le,registrationStatus:2,refreshToken:yr.refreshToken,authToken:ut(yr.authToken)}}throw yield ke("Create Installation",Cr)})).apply(this,arguments)}function qe(O){return new Promise(j=>{setTimeout(j,O)})}const tn=/^[cdef][\w-]{21}$/;function pt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const le=function dt(O){return function qt(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return tn.test(le)?le:""}catch(O){return""}}function ze(O){return`${O.appName}!${O.appId}`}const lt=new Map;function gt(O,j){const le=ze(O);Oe(le,j),function Dt(O,j){const le=function Yt(){return!Gt&&"BroadcastChannel"in self&&(Gt=new BroadcastChannel("[Firebase] FID Change"),Gt.onmessage=O=>{Oe(O.data.key,O.data.fid)}),Gt}();le&&le.postMessage({key:O,fid:j}),function ln(){0===lt.size&&Gt&&(Gt.close(),Gt=null)}()}(le,j)}function Oe(O,j){const le=lt.get(O);if(le)for(const $e of le)$e(j)}let Gt=null;const vn="firebase-installations-store";let jn=null;function Ft(){return jn||(jn=(0,Ie.X3)("firebase-installations-database",1,(O,j)=>{0===j&&O.createObjectStore(vn)})),jn}function Pn(O,j){return nr.apply(this,arguments)}function nr(){return(nr=(0,U.Z)(function*(O,j){const le=ze(O),ft=(yield Ft()).transaction(vn,"readwrite"),Mt=ft.objectStore(vn),Jt=yield Mt.get(le);return yield Mt.put(j,le),yield ft.complete,(!Jt||Jt.fid!==j.fid)&&gt(O,j.fid),j})).apply(this,arguments)}function Yn(O){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,U.Z)(function*(O){const j=ze(O),$e=(yield Ft()).transaction(vn,"readwrite");yield $e.objectStore(vn).delete(j),yield $e.complete})).apply(this,arguments)}function Zn(O,j){return mn.apply(this,arguments)}function mn(){return(mn=(0,U.Z)(function*(O,j){const le=ze(O),ft=(yield Ft()).transaction(vn,"readwrite"),Mt=ft.objectStore(vn),Jt=yield Mt.get(le),$n=j(Jt);return void 0===$n?yield Mt.delete(le):yield Mt.put($n,le),yield ft.complete,$n&&(!Jt||Jt.fid!==$n.fid)&&gt(O,$n.fid),$n})).apply(this,arguments)}function At(O){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,U.Z)(function*(O){let j;const le=yield Zn(O.appConfig,$e=>{const ft=Ye($e),Mt=jt(O,ft);return j=Mt.registrationPromise,Mt.installationEntry});return""===le.fid?{installationEntry:yield j}:{installationEntry:le,registrationPromise:j}})).apply(this,arguments)}function Ye(O){return on(O||{fid:pt(),registrationStatus:0})}function jt(O,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(ye.create("app-offline"))};const le={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},$e=function xt(O,j){return Ut.apply(this,arguments)}(O,le);return{installationEntry:le,registrationPromise:$e}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Lt(O)}:{installationEntry:j}}function Ut(){return(Ut=(0,U.Z)(function*(O,j){try{const le=yield Te(O,j);return Pn(O.appConfig,le)}catch(le){throw ot(le)&&409===le.customData.serverCode?yield Yn(O.appConfig):yield Pn(O.appConfig,{fid:j.fid,registrationStatus:0}),le}})).apply(this,arguments)}function Lt(O){return ar.apply(this,arguments)}function ar(){return(ar=(0,U.Z)(function*(O){let j=yield qn(O.appConfig);for(;1===j.registrationStatus;)yield qe(100),j=yield qn(O.appConfig);if(0===j.registrationStatus){const{installationEntry:le,registrationPromise:$e}=yield At(O);return $e||le}return j})).apply(this,arguments)}function qn(O){return Zn(O,j=>{if(!j)throw ye.create("installation-not-found");return on(j)})}function on(O){return function Fr(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function fr(O,j){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,U.Z)(function*({appConfig:O,heartbeatServiceProvider:j},le){const $e=In(O,le),ft=He(O,le),Mt=j.getImmediate({optional:!0});if(Mt){const yr=yield Mt.getHeartbeatsHeader();yr&&ft.append("x-firebase-client",yr)}const $n={method:"POST",headers:ft,body:JSON.stringify({installation:{sdkVersion:J,appId:O.appId}})},Cr=yield wt(()=>fetch($e,$n));if(Cr.ok)return ut(yield Cr.json());throw yield ke("Generate Auth Token",Cr)})).apply(this,arguments)}function In(O,{fid:j}){return`${oe(O)}/${j}/authTokens:generate`}function Mn(O){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,U.Z)(function*(O,j=!1){let le;const $e=yield Zn(O.appConfig,Mt=>{if(!Un(Mt))throw ye.create("not-registered");const Jt=Mt.authToken;if(!j&&Le(Jt))return Mt;if(1===Jt.requestStatus)return le=cn(O,j),Mt;{if(!navigator.onLine)throw ye.create("app-offline");const $n=Je(Mt);return le=Cn(O,$n),$n}});return le?yield le:$e.authToken})).apply(this,arguments)}function cn(O,j){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,U.Z)(function*(O,j){let le=yield Xt(O.appConfig);for(;1===le.authToken.requestStatus;)yield qe(100),le=yield Xt(O.appConfig);const $e=le.authToken;return 0===$e.requestStatus?Mn(O,j):$e})).apply(this,arguments)}function Xt(O){return Zn(O,j=>{if(!Un(j))throw ye.create("not-registered");return function It(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function Cn(O,j){return _n.apply(this,arguments)}function _n(){return(_n=(0,U.Z)(function*(O,j){try{const le=yield fr(O,j),$e=Object.assign(Object.assign({},j),{authToken:le});return yield Pn(O.appConfig,$e),le}catch(le){if(!ot(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const $e=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield Pn(O.appConfig,$e)}else yield Yn(O.appConfig);throw le}})).apply(this,arguments)}function Un(O){return void 0!==O&&2===O.registrationStatus}function Le(O){return 2===O.requestStatus&&!function we(O){const j=Date.now();return j<O.creationTime||O.creationTime+O.expiresIn<j+36e5}(O)}function Je(O){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:j})}function Ee(){return(Ee=(0,U.Z)(function*(O){const j=O,{installationEntry:le,registrationPromise:$e}=yield At(j);return $e?$e.catch(console.error):Mn(j).catch(console.error),le.fid})).apply(this,arguments)}function We(){return(We=(0,U.Z)(function*(O,j=!1){const le=O;return yield Zt(le),(yield Mn(le,j)).token})).apply(this,arguments)}function Zt(O){return bn.apply(this,arguments)}function bn(){return(bn=(0,U.Z)(function*(O){const{registrationPromise:j}=yield At(O);j&&(yield j)})).apply(this,arguments)}function Yr(O){return ye.create("missing-app-config-values",{valueName:O})}const Wr="installations",rr=O=>{const j=O.getProvider("app").getImmediate(),le=function Or(O){if(!O||!O.options)throw Yr("App Configuration");if(!O.name)throw Yr("App Name");const j=["projectId","apiKey","appId"];for(const le of j)if(!O.options[le])throw Yr(le);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(j);return{app:j,appConfig:le,heartbeatServiceProvider:(0,Ce._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},mr=O=>{const j=O.getProvider("app").getImmediate(),le=(0,Ce._getProvider)(j,Wr).getImmediate();return{getId:()=>function ge(O){return Ee.apply(this,arguments)}(le),getToken:ft=>function Ae(O){return We.apply(this,arguments)}(le,ft)}};(function gr(){(0,Ce._registerComponent)(new K.wA(Wr,rr,"PUBLIC")),(0,Ce._registerComponent)(new K.wA("installations-internal",mr,"PRIVATE"))})(),(0,Ce.registerVersion)(_e,"0.5.7"),(0,Ce.registerVersion)(_e,"0.5.7","esm2017");const Pr="@firebase/remote-config",dr=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yn{constructor(j,le,$e,ft){this.client=j,this.storage=le,this.storageCache=$e,this.logger=ft}isCachedDataFresh(j,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $e=Date.now()-le,ft=$e<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$e}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${ft}.`),ft}fetch(j){var le=this;return(0,U.Z)(function*(){const[$e,ft]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(ft&&le.isCachedDataFresh(j.cacheMaxAgeMillis,$e))return ft;j.eTag=ft&&ft.eTag;const Mt=yield le.client.fetch(j),Jt=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Mt.status&&Jt.push(le.storage.setLastSuccessfulFetchResponse(Mt)),yield Promise.all(Jt),Mt})()}}function On(O=navigator){return O.languages&&O.languages[0]||O.language}class Bn{constructor(j,le,$e,ft,Mt,Jt){this.firebaseInstallations=j,this.sdkVersion=le,this.namespace=$e,this.projectId=ft,this.apiKey=Mt,this.appId=Jt}fetch(j){var le=this;return(0,U.Z)(function*(){const[$e,ft]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),Jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},Cr={sdk_version:le.sdkVersion,app_instance_id:$e,app_instance_id_token:ft,app_id:le.appId,language_code:On()},yr={method:"POST",headers:$n,body:JSON.stringify(Cr)},Xr=fetch(Jt,yr),Tr=new Promise((mo,oi)=>{j.signal.addEventListener(()=>{const Mu=new Error("The operation was aborted.");Mu.name="AbortError",oi(Mu)})});let js;try{yield Promise.race([Xr,Tr]),js=yield Xr}catch(mo){let oi="fetch-client-network";throw"AbortError"===mo.name&&(oi="fetch-timeout"),dr.create(oi,{originalErrorMessage:mo.message})}let os=js.status;const Ps=js.headers.get("ETag")||void 0;let fa,qo;if(200===js.status){let mo;try{mo=yield js.json()}catch(oi){throw dr.create("fetch-client-parse",{originalErrorMessage:oi.message})}fa=mo.entries,qo=mo.state}if("INSTANCE_STATE_UNSPECIFIED"===qo?os=500:"NO_CHANGE"===qo?os=304:("NO_TEMPLATE"===qo||"EMPTY_CONFIG"===qo)&&(fa={}),304!==os&&200!==os)throw dr.create("fetch-status",{httpStatus:os});return{status:os,eTag:Ps,config:fa}})()}}class qr{constructor(j,le){this.client=j,this.storage=le}fetch(j){var le=this;return(0,U.Z)(function*(){const $e=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(j,$e)})()}attemptFetch(j,{throttleEndTimeMillis:le,backoffCount:$e}){var ft=this;return(0,U.Z)(function*(){yield function cr(O,j){return new Promise((le,$e)=>{const ft=Math.max(j-Date.now(),0),Mt=setTimeout(le,ft);O.addEventListener(()=>{clearTimeout(Mt),$e(dr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,le);try{const Mt=yield ft.client.fetch(j);return yield ft.storage.deleteThrottleMetadata(),Mt}catch(Mt){if(!function Vr(O){if(!(O instanceof Ie.ZR&&O.customData))return!1;const j=Number(O.customData.httpStatus);return 429===j||500===j||503===j||504===j}(Mt))throw Mt;const Jt={throttleEndTimeMillis:Date.now()+(0,Ie.$s)($e),backoffCount:$e+1};return yield ft.storage.setThrottleMetadata(Jt),ft.attemptFetch(j,Jt)}})()}}class mt{constructor(j,le,$e,ft,Mt){this.app=j,this._client=le,this._storageCache=$e,this._storage=ft,this._logger=Mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bt(O,j){const le=O.target.error||void 0;return dr.create(j,{originalErrorMessage:le&&le.message})}const nn="app_namespace_store";class br{constructor(j,le,$e,ft=function $r(){return new Promise((O,j)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=$e=>{j(Bt($e,"storage-open"))},le.onsuccess=$e=>{O($e.target.result)},le.onupgradeneeded=$e=>{0===$e.oldVersion&&$e.target.result.createObjectStore(nn,{keyPath:"compositeKey"})}}catch(le){j(dr.create("storage-open",{originalErrorMessage:le}))}})}()){this.appId=j,this.appName=le,this.namespace=$e,this.openDbPromise=ft}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var le=this;return(0,U.Z)(function*(){const $e=yield le.openDbPromise;return new Promise((ft,Mt)=>{const $n=$e.transaction([nn],"readonly").objectStore(nn),Cr=le.createCompositeKey(j);try{const yr=$n.get(Cr);yr.onerror=Xr=>{Mt(Bt(Xr,"storage-get"))},yr.onsuccess=Xr=>{const Tr=Xr.target.result;ft(Tr?Tr.value:void 0)}}catch(yr){Mt(dr.create("storage-get",{originalErrorMessage:yr&&yr.message}))}})})()}set(j,le){var $e=this;return(0,U.Z)(function*(){const ft=yield $e.openDbPromise;return new Promise((Mt,Jt)=>{const Cr=ft.transaction([nn],"readwrite").objectStore(nn),yr=$e.createCompositeKey(j);try{const Xr=Cr.put({compositeKey:yr,value:le});Xr.onerror=Tr=>{Jt(Bt(Tr,"storage-set"))},Xr.onsuccess=()=>{Mt()}}catch(Xr){Jt(dr.create("storage-set",{originalErrorMessage:Xr&&Xr.message}))}})})()}delete(j){var le=this;return(0,U.Z)(function*(){const $e=yield le.openDbPromise;return new Promise((ft,Mt)=>{const $n=$e.transaction([nn],"readwrite").objectStore(nn),Cr=le.createCompositeKey(j);try{const yr=$n.delete(Cr);yr.onerror=Xr=>{Mt(Bt(Xr,"storage-delete"))},yr.onsuccess=()=>{ft()}}catch(yr){Mt(dr.create("storage-delete",{originalErrorMessage:yr&&yr.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class di{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,U.Z)(function*(){const le=j.storage.getLastFetchStatus(),$e=j.storage.getLastSuccessfulFetchTimestampMillis(),ft=j.storage.getActiveConfig(),Mt=yield le;Mt&&(j.lastFetchStatus=Mt);const Jt=yield $e;Jt&&(j.lastSuccessfulFetchTimestampMillis=Jt);const $n=yield ft;$n&&(j.activeConfig=$n)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function As(){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,U.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(O){return!1}})).apply(this,arguments)}!function Ri(){(0,Ce._registerComponent)(new K.wA("remote-config",function O(j,{instanceIdentifier:le}){const $e=j.getProvider("app").getImmediate(),ft=j.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw dr.create("registration-window");if(!(0,Ie.hl)())throw dr.create("indexed-db-unavailable");const{projectId:Mt,apiKey:Jt,appId:$n}=$e.options;if(!Mt)throw dr.create("registration-project-id");if(!Jt)throw dr.create("registration-api-key");if(!$n)throw dr.create("registration-app-id");const Cr=new br($n,$e.name,le=le||"firebase"),yr=new di(Cr),Xr=new he.Yd(Pr);Xr.logLevel=he.in.ERROR;const Tr=new Bn(ft,Ce.SDK_VERSION,le,Mt,Jt,$n),js=new qr(Tr,Cr),os=new yn(js,Cr,yr,Xr),Ps=new mt($e,os,yr,Cr,Xr);return function ee(O){const j=(0,Ie.m9)(O);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(Ps),Ps},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(Pr,"0.3.6"),(0,Ce.registerVersion)(Pr,"0.3.6","esm2017")}();const hi="/firebase-messaging-sw.js",zi="/firebase-cloud-messaging-push-scope",mi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wi="google.c.a.c_id",fs="google.c.a.c_l",ds="google.c.a.ts",yi="google.c.a.e";var Ii=(()=>{return(O=Ii||(Ii={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Ii;var O})();function vi(O){const j=new Uint8Array(O);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gs(O){const le=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$e=atob(le),ft=new Uint8Array($e.length);for(let Mt=0;Mt<$e.length;++Mt)ft[Mt]=$e.charCodeAt(Mt);return ft}const Y="fcm_token_details_db",Me="fcm_token_object_Store";function Ze(O){return yt.apply(this,arguments)}function yt(){return yt=(0,U.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Mt=>Mt.name).includes(Y))return null;let j=null;return(yield(0,Ie.X3)(Y,5,function(){var $e=(0,U.Z)(function*(ft,Mt,Jt,$n){var Cr;if(Mt<2||!ft.objectStoreNames.contains(Me))return;const yr=$n.objectStore(Me),Xr=yield yr.index("fcmSenderId").get(O);if(yield yr.clear(),Xr)if(2===Mt){const Tr=Xr;if(!Tr.auth||!Tr.p256dh||!Tr.endpoint)return;j={token:Tr.fcmToken,createTime:null!==(Cr=Tr.createTime)&&void 0!==Cr?Cr:Date.now(),subscriptionOptions:{auth:Tr.auth,p256dh:Tr.p256dh,endpoint:Tr.endpoint,swScope:Tr.swScope,vapidKey:"string"==typeof Tr.vapidKey?Tr.vapidKey:vi(Tr.vapidKey)}}}else if(3===Mt){const Tr=Xr;j={token:Tr.fcmToken,createTime:Tr.createTime,subscriptionOptions:{auth:vi(Tr.auth),p256dh:vi(Tr.p256dh),endpoint:Tr.endpoint,swScope:Tr.swScope,vapidKey:vi(Tr.vapidKey)}}}else if(4===Mt){const Tr=Xr;j={token:Tr.fcmToken,createTime:Tr.createTime,subscriptionOptions:{auth:vi(Tr.auth),p256dh:vi(Tr.p256dh),endpoint:Tr.endpoint,swScope:Tr.swScope,vapidKey:vi(Tr.vapidKey)}}}});return function(ft,Mt,Jt,$n){return $e.apply(this,arguments)}}())).close(),yield(0,Ie.Lj)(Y),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),Ot(j)?j:null}),yt.apply(this,arguments)}function Ot(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:j}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const fn="firebase-messaging-store";let ur=null;function Ir(){return ur||(ur=(0,Ie.X3)("firebase-messaging-database",1,(O,j)=>{0===j&&O.createObjectStore(fn)})),ur}function Ur(O){return k.apply(this,arguments)}function k(){return(k=(0,U.Z)(function*(O){const j=P(O),$e=yield(yield Ir()).transaction(fn).objectStore(fn).get(j);if($e)return $e;{const ft=yield Ze(O.appConfig.senderId);if(ft)return yield Q(O,ft),ft}})).apply(this,arguments)}function Q(O,j){return B.apply(this,arguments)}function B(){return(B=(0,U.Z)(function*(O,j){const le=P(O),ft=(yield Ir()).transaction(fn,"readwrite");return yield ft.objectStore(fn).put(j,le),yield ft.complete,j})).apply(this,arguments)}function ae(O){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,U.Z)(function*(O){const j=P(O),$e=(yield Ir()).transaction(fn,"readwrite");yield $e.objectStore(fn).delete(j),yield $e.complete})).apply(this,arguments)}function P({appConfig:O}){return O.appId}const N=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ce(O,j){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,U.Z)(function*(O,j){const le=yield L(O),$e=V(j),ft={method:"POST",headers:le,body:JSON.stringify($e)};let Mt;try{Mt=yield(yield fetch(g(O.appConfig),ft)).json()}catch(Jt){throw N.create("token-subscribe-failed",{errorInfo:Jt})}if(Mt.error)throw N.create("token-subscribe-failed",{errorInfo:Mt.error.message});if(!Mt.token)throw N.create("token-subscribe-no-token");return Mt.token})).apply(this,arguments)}function Pt(O,j){return zt.apply(this,arguments)}function zt(){return(zt=(0,U.Z)(function*(O,j){const le=yield L(O),$e=V(j.subscriptionOptions),ft={method:"PATCH",headers:le,body:JSON.stringify($e)};let Mt;try{Mt=yield(yield fetch(`${g(O.appConfig)}/${j.token}`,ft)).json()}catch(Jt){throw N.create("token-update-failed",{errorInfo:Jt})}if(Mt.error)throw N.create("token-update-failed",{errorInfo:Mt.error.message});if(!Mt.token)throw N.create("token-update-no-token");return Mt.token})).apply(this,arguments)}function Wn(O,j){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,U.Z)(function*(O,j){const $e={method:"DELETE",headers:yield L(O)};try{const Mt=yield(yield fetch(`${g(O.appConfig)}/${j}`,$e)).json();if(Mt.error)throw N.create("token-unsubscribe-failed",{errorInfo:Mt.error.message})}catch(ft){throw N.create("token-unsubscribe-failed",{errorInfo:ft})}})).apply(this,arguments)}function g({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function L(O){return m.apply(this,arguments)}function m(){return(m=(0,U.Z)(function*({appConfig:O,installations:j}){const le=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function V({p256dh:O,auth:j,endpoint:le,vapidKey:$e}){const ft={web:{endpoint:le,auth:j,p256dh:O}};return $e!==mi&&(ft.web.applicationPubKey=$e),ft}const de=6048e5;function S(O){return A.apply(this,arguments)}function A(){return(A=(0,U.Z)(function*(O){const j=yield Ci(O.swRegistration,O.vapidKey),le={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:j.endpoint,auth:vi(j.getKey("auth")),p256dh:vi(j.getKey("p256dh"))},$e=yield Ur(O.firebaseDependencies);if($e){if(xi($e.subscriptionOptions,le))return Date.now()>=$e.createTime+de?Tt(O,{token:$e.token,createTime:Date.now(),subscriptionOptions:le}):$e.token;try{yield Wn(O.firebaseDependencies,$e.token)}catch(ft){console.warn(ft)}return Er(O.firebaseDependencies,le)}return Er(O.firebaseDependencies,le)})).apply(this,arguments)}function T(O){return G.apply(this,arguments)}function G(){return(G=(0,U.Z)(function*(O){const j=yield Ur(O.firebaseDependencies);j&&(yield Wn(O.firebaseDependencies,j.token),yield ae(O.firebaseDependencies));const le=yield O.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()})).apply(this,arguments)}function Tt(O,j){return gn.apply(this,arguments)}function gn(){return(gn=(0,U.Z)(function*(O,j){try{const le=yield Pt(O.firebaseDependencies,j),$e=Object.assign(Object.assign({},j),{token:le,createTime:Date.now()});return yield Q(O.firebaseDependencies,$e),le}catch(le){throw yield T(O),le}})).apply(this,arguments)}function Er(O,j){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,U.Z)(function*(O,j){const $e={token:yield ce(O,j),createTime:Date.now(),subscriptionOptions:j};return yield Q(O,$e),$e.token})).apply(this,arguments)}function Ci(O,j){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,U.Z)(function*(O,j){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gs(j)})})).apply(this,arguments)}function xi(O,j){return j.vapidKey===O.vapidKey&&j.endpoint===O.endpoint&&j.auth===O.auth&&j.p256dh===O.p256dh}function Kt(O){const j={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function jr(O,j){if(!j.notification)return;O.notification={};const le=j.notification.title;le&&(O.notification.title=le);const $e=j.notification.body;$e&&(O.notification.body=$e);const ft=j.notification.image;ft&&(O.notification.image=ft)}(j,O),function Ka(O,j){!j.data||(O.data=j.data)}(j,O),function fi(O,j){if(!j.fcmOptions)return;O.fcmOptions={};const le=j.fcmOptions.link;le&&(O.fcmOptions.link=le);const $e=j.fcmOptions.analytics_label;$e&&(O.fcmOptions.analyticsLabel=$e)}(j,O),j}function Du(O){return"object"==typeof O&&!!O&&wi in O}function Gs(O,j){const le=[];for(let $e=0;$e<O.length;$e++)le.push(O.charAt($e)),$e<j.length&&le.push(j.charAt($e));return le.join("")}function uo(O){return N.create("missing-app-config-values",{valueName:O})}Gs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _s{constructor(j,le,$e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ft=function xs(O){if(!O||!O.options)throw uo("App Configuration Object");if(!O.name)throw uo("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:le}=O;for(const $e of j)if(!le[$e])throw uo($e);return{appName:O.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:ft,installations:le,analyticsProvider:$e}}_delete(){return Promise.resolve()}}function Ca(O){return bo.apply(this,arguments)}function bo(){return(bo=(0,U.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(hi,{scope:zi}),O.swRegistration.update().catch(()=>{})}catch(j){throw N.create("failed-service-worker-registration",{browserErrorMessage:j.message})}})).apply(this,arguments)}function na(O,j){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,U.Z)(function*(O,j){if(!j&&!O.swRegistration&&(yield Ca(O)),j||!O.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw N.create("invalid-sw-registration");O.swRegistration=j}})).apply(this,arguments)}function Fi(O,j){return bs.apply(this,arguments)}function bs(){return(bs=(0,U.Z)(function*(O,j){j?O.vapidKey=j:O.vapidKey||(O.vapidKey=mi)})).apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(O,j){if(!navigator)throw N.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw N.create("permission-blocked");return yield Fi(O,null==j?void 0:j.vapidKey),yield na(O,null==j?void 0:j.serviceWorkerRegistration),S(O)})).apply(this,arguments)}function ro(O,j,le){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,U.Z)(function*(O,j,le){const $e=Tu(j);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent($e,{message_id:le[wi],message_name:le[fs],message_time:le[ds],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tu(O){switch(O){case Ii.NOTIFICATION_CLICKED:return"notification_open";case Ii.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ra(){return(ra=(0,U.Z)(function*(O,j){const le=j.data;if(!le.isFirebaseMessaging)return;O.onMessageHandler&&le.messageType===Ii.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Kt(le)):O.onMessageHandler.next(Kt(le)));const $e=le.data;Du($e)&&"1"===$e[yi]&&(yield ro(O,le.messageType,$e))})).apply(this,arguments)}const Eo="@firebase/messaging",Bs=O=>{const j=new _s(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function Qu(O,j){return ra.apply(this,arguments)}(j,le)),j},Da=O=>{const j=O.getProvider("messaging").getImmediate();return{getToken:$e=>function Di(O,j){return Ls.apply(this,arguments)}(j,$e)}};function sa(){return wo.apply(this,arguments)}function wo(){return(wo=(0,U.Z)(function*(){try{yield(0,Ie.eu)()}catch(O){return!1}return"undefined"!=typeof window&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zs(){(0,Ce._registerComponent)(new K.wA("messaging",Bs,"PUBLIC")),(0,Ce._registerComponent)(new K.wA("messaging-internal",Da,"PRIVATE")),(0,Ce.registerVersion)(Eo,"0.9.11"),(0,Ce.registerVersion)(Eo,"0.9.11","esm2017")}();const Vs="analytics",gi="firebase_id",Xa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sa="https://www.googletagmanager.com/gtag/js",Li=new he.Yd("@firebase/analytics");function Ja(O){return Promise.all(O.map(j=>j.catch(le=>le)))}function io(O,j){const le=document.createElement("script");le.src=`${Sa}?l=${O}&id=${j}`,le.async=!0,document.head.appendChild(le)}function ua(O,j,le,$e,ft,Mt){return ms.apply(this,arguments)}function ms(){return(ms=(0,U.Z)(function*(O,j,le,$e,ft,Mt){const Jt=$e[ft];try{if(Jt)yield j[Jt];else{const Cr=(yield Ja(le)).find(yr=>yr.measurementId===ft);Cr&&(yield j[Cr.appId])}}catch($n){Li.error($n)}O("config",ft,Mt)})).apply(this,arguments)}function ts(O,j,le,$e,ft){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,U.Z)(function*(O,j,le,$e,ft){try{let Mt=[];if(ft&&ft.send_to){let Jt=ft.send_to;Array.isArray(Jt)||(Jt=[Jt]);const $n=yield Ja(le);for(const Cr of Jt){const yr=$n.find(Tr=>Tr.measurementId===Cr),Xr=yr&&j[yr.appId];if(!Xr){Mt=[];break}Mt.push(Xr)}}0===Mt.length&&(Mt=Object.values(j)),yield Promise.all(Mt),O("event",$e,ft||{})}catch(Mt){Li.error(Mt)}})).apply(this,arguments)}function $o(){const O=window.document.getElementsByTagName("script");for(const j of Object.values(O))if(j.src&&j.src.includes(Sa))return j;return null}const ns=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ho=new class xu{constructor(j={},le=1e3){this.throttleMetadata=j,this.intervalMillis=le}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,le){this.throttleMetadata[j]=le}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function Qa(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function _i(O){return eu.apply(this,arguments)}function eu(){return(eu=(0,U.Z)(function*(O){var j;const{appId:le,apiKey:$e}=O,ft={method:"GET",headers:Qa($e)},Mt=Xa.replace("{app-id}",le),Jt=yield fetch(Mt,ft);if(200!==Jt.status&&304!==Jt.status){let $n="";try{const Cr=yield Jt.json();(null===(j=Cr.error)||void 0===j?void 0:j.message)&&($n=Cr.error.message)}catch(Cr){}throw ns.create("config-fetch-failed",{httpStatus:Jt.status,responseMessage:$n})}return Jt.json()})).apply(this,arguments)}function Rs(O){return Co.apply(this,arguments)}function Co(){return(Co=(0,U.Z)(function*(O,j=Ho,le){const{appId:$e,apiKey:ft,measurementId:Mt}=O.options;if(!$e)throw ns.create("no-app-id");if(!ft){if(Mt)return{measurementId:Mt,appId:$e};throw ns.create("no-api-key")}const Jt=j.getThrottleMetadata($e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$n=new $s;return setTimeout((0,U.Z)(function*(){$n.abort()}),void 0!==le?le:6e4),ho({appId:$e,apiKey:ft,measurementId:Mt},Jt,$n,j)})).apply(this,arguments)}function ho(O,j,le){return xa.apply(this,arguments)}function xa(){return(xa=(0,U.Z)(function*(O,{throttleEndTimeMillis:j,backoffCount:le},$e,ft=Ho){const{appId:Mt,measurementId:Jt}=O;try{yield Do($e,j)}catch($n){if(Jt)return Li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${$n.message}]`),{appId:Mt,measurementId:Jt};throw $n}try{const $n=yield _i(O);return ft.deleteThrottleMetadata(Mt),$n}catch($n){if(!qi($n)){if(ft.deleteThrottleMetadata(Mt),Jt)return Li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${$n.message}]`),{appId:Mt,measurementId:Jt};throw $n}const Cr=503===Number($n.customData.httpStatus)?(0,Ie.$s)(le,ft.intervalMillis,30):(0,Ie.$s)(le,ft.intervalMillis),yr={throttleEndTimeMillis:Date.now()+Cr,backoffCount:le+1};return ft.setThrottleMetadata(Mt,yr),Li.debug(`Calling attemptFetch again in ${Cr} millis`),ho(O,yr,$e,ft)}})).apply(this,arguments)}function Do(O,j){return new Promise((le,$e)=>{const ft=Math.max(j-Date.now(),0),Mt=setTimeout(le,ft);O.addEventListener(()=>{clearTimeout(Mt),$e(ns.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function qi(O){if(!(O instanceof Ie.ZR&&O.customData))return!1;const j=Number(O.customData.httpStatus);return 429===j||500===j||503===j||504===j}class $s{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}function Es(){return qs.apply(this,arguments)}function qs(){return(qs=(0,U.Z)(function*(){if(!(0,Ie.hl)())return Li.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(O){return Li.warn(ns.create("indexeddb-unavailable",{errorInfo:O}).message),!1}return!0})).apply(this,arguments)}function hn(){return(hn=(0,U.Z)(function*(O,j,le,$e,ft,Mt,Jt){var $n;const Cr=Rs(O);Cr.then(os=>{le[os.measurementId]=os.appId,O.options.measurementId&&os.measurementId!==O.options.measurementId&&Li.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${os.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(os=>Li.error(os)),j.push(Cr);const yr=Es().then(os=>{if(os)return $e.getId()}),[Xr,Tr]=yield Promise.all([Cr,yr]);$o()||io(Mt,Xr.measurementId),ft("js",new Date);const js=null!==($n=null==Jt?void 0:Jt.config)&&void 0!==$n?$n:{};return js.origin="firebase",js.update=!0,null!=Tr&&(js[gi]=Tr),ft("config",Xr.measurementId,js),Xr.measurementId})).apply(this,arguments)}class Mi{constructor(j){this.app=j}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},la=[];const Ln={};let An,w,pr="dataLayer",v=!1;function H(O,j,le){!function F(){const O=[];if((0,Ie.ru)()&&O.push("This is a browser extension environment."),(0,Ie.zI)()||O.push("Cookies are not available."),O.length>0){const j=O.map(($e,ft)=>`(${ft+1}) ${$e}`).join(" "),le=ns.create("invalid-analytics-context",{errorInfo:j});Li.warn(le.message)}}();const $e=O.options.appId;if(!$e)throw ns.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw ns.create("no-api-key");Li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[$e])throw ns.create("already-exists",{id:$e});if(!v){!function co(O){let j=[];Array.isArray(window[O])?j=window[O]:window[O]=j}(pr);const{wrappedGtag:Mt,gtagCore:Jt}=function so(O,j,le,$e,ft){let Mt=function(...Jt){window[$e].push(arguments)};return window[ft]&&"function"==typeof window[ft]&&(Mt=window[ft]),window[ft]=function Ws(O,j,le,$e){function Mt(){return(Mt=(0,U.Z)(function*(Jt,$n,Cr){try{"event"===Jt?yield ts(O,j,le,$n,Cr):"config"===Jt?yield ua(O,j,le,$e,$n,Cr):O("set",$n)}catch(yr){Li.error(yr)}})).apply(this,arguments)}return function ft(Jt,$n,Cr){return Mt.apply(this,arguments)}}(Mt,O,j,le),{gtagCore:Mt,wrappedGtag:window[ft]}}(rs,la,Ln,pr,"gtag");w=Mt,An=Jt,v=!0}return rs[$e]=function Ma(O,j,le,$e,ft,Mt,Jt){return hn.apply(this,arguments)}(O,la,Ln,j,An,pr,le),new Mi(O)}function Be(){return(Be=(0,U.Z)(function*(O,j,le,$e,ft){if(ft&&ft.global)O("event",le,$e);else{const Mt=yield j;O("event",le,Object.assign(Object.assign({},$e),{send_to:Mt}))}})).apply(this,arguments)}function Zs(){return ti.apply(this,arguments)}function ti(){return(ti=(0,U.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(O){return!1}})).apply(this,arguments)}const Kr="@firebase/analytics";!function ss(){(0,Ce._registerComponent)(new K.wA(Vs,(j,{options:le})=>H(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,Ce._registerComponent)(new K.wA("analytics-internal",function O(j){try{const le=j.getProvider(Vs).getImmediate();return{logEvent:($e,ft,Mt)=>function tu(O,j,le,$e){O=(0,Ie.m9)(O),function ue(O,j,le,$e,ft){return Be.apply(this,arguments)}(w,rs[O.app.options.appId],j,le,$e).catch(ft=>Li.error(ft))}(le,$e,ft,Mt)}}catch(le){throw ns.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,Ce.registerVersion)(Kr,"0.7.7"),(0,Ce.registerVersion)(Kr,"0.7.7","esm2017")}();var ca=M(341),bd=M(353),Yi=M(2868),Ic=M(2102),To=M(8915);const Vi=new a.GfV("7.3.0"),ws="__angularfire_symbol__analyticsIsSupportedValue",da="__angularfire_symbol__analyticsIsSupported",Ti="__angularfire_symbol__remoteConfigIsSupportedValue",So="__angularfire_symbol__remoteConfigIsSupported",Ao="__angularfire_symbol__messagingIsSupportedValue",fo="__angularfire_symbol__messagingIsSupported";function nu(O,j,le){if(j){if(1===j.length)return j[0];const Mt=j.filter(Jt=>Jt.app===le);if(1===Mt.length)return Mt[0]}return le.container.getProvider(O).getImmediate({optional:!0})}globalThis[da]||(globalThis[da]=Zs().then(O=>globalThis[ws]=O).catch(()=>globalThis[ws]=!1)),globalThis[fo]||(globalThis[fo]=sa().then(O=>globalThis[Ao]=O).catch(()=>globalThis[Ao]=!1)),globalThis[So]||(globalThis[So]=As().then(O=>globalThis[Ti]=O).catch(()=>globalThis[Ti]=!1));const Wo=(O,j)=>{const le=j?[j]:(0,b.C6)(),$e=[];return le.forEach(ft=>{ft.container.getProvider(O).instances.forEach(Jt=>{$e.includes(Jt)||$e.push(Jt)})}),$e};function Os(){}class oo{constructor(j,le=ca.N){this.zone=j,this.delegate=le}now(){return this.delegate.now()}schedule(j,le,$e){const ft=this.zone;return this.delegate.schedule(function(Jt){ft.runGuarded(()=>{j.apply(this,[Jt])})},le,$e)}}class ru{constructor(j){this.zone=j,this.task=null}call(j,le){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),le.pipe((0,Yi.b)({next:$e,complete:$e,error:$e})).subscribe(j).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xo=(()=>{class O{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new oo(Zone.current)),this.insideAngular=le.run(()=>new oo(Zone.current,bd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(le){return new(le||O)(a.LFG(a.R0b))},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function ha(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function go(O){return O.pipe((0,Ic.QV)(ha().outsideAngular))}function iu(O){return ha(),function Oa(O){return function(le){return(le=le.lift(new ru(O.ngZone))).pipe((0,To.R)(O.outsideAngular),(0,Ic.QV)(O.insideAngular))}}(ha())(O)}},424:(an,ct,M)=>{"use strict";M.d(ct,{$:()=>S,A:()=>J,E:()=>mr,G:()=>kn,I:()=>qr,K:()=>we,L:()=>Oi,M:()=>Pi,N:()=>wi,P:()=>fo,Q:()=>fs,R:()=>ki,T:()=>mi,U:()=>Ii,V:()=>vi,W:()=>Ze,X:()=>$,Y:()=>ce,Z:()=>Pt,_:()=>g,a:()=>jo,a0:()=>T,a1:()=>Tt,a2:()=>Er,a3:()=>Ci,a4:()=>xi,a5:()=>jr,a6:()=>Ka,a7:()=>Du,a8:()=>Gs,a9:()=>Ca,aA:()=>mo,aB:()=>$e,aC:()=>wr,aG:()=>Ho,aJ:()=>yi,aa:()=>na,ab:()=>Fi,ae:()=>ro,af:()=>Tu,ag:()=>Qu,aj:()=>fn,ak:()=>lo,am:()=>Xa,an:()=>ua,ao:()=>Rn,ap:()=>ve,aq:()=>Jn,ar:()=>bn,as:()=>oe,at:()=>ul,au:()=>nl,av:()=>ut,aw:()=>He,ax:()=>me,ay:()=>Je,az:()=>pa,b:()=>Bi,c:()=>ru,d:()=>Ui,e:()=>ha,f:()=>Jt,g:()=>js,h:()=>yr,i:()=>F,j:()=>fa,k:()=>Dd,l:()=>Ic,m:()=>lu,o:()=>_e,r:()=>Vi,s:()=>bd,u:()=>So,z:()=>Ne});var a=M(5861),b=M(2090),U=M(9681),Ce=M(655),Ie=M(1877),K=M(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},J={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function Z(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new b.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new Ie.Yd("@firebase/auth");function ot(I,...f){ye.logLevel<=Ie.in.ERROR&&ye.error(`Auth (${U.SDK_VERSION}): ${I}`,...f)}function oe(I,...f){throw _t(I,...f)}function ut(I,...f){return _t(I,...f)}function ke(I,f,p){const D=Object.assign(Object.assign({},Xe()),{[f]:p});return new b.LL("auth","Firebase",D).create(f,{appName:I.name})}function at(I,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&oe(I,"argument-error"),ke(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(I,...f){if("string"!=typeof I){const p=f[0],D=[...f.slice(1)];return D[0]&&(D[0].appName=I.name),I._errorFactory.create(p,...D)}return fe.create(I,...f)}function He(I,f,...p){if(!I)throw _t(f,...p)}function wt(I){const f="INTERNAL ASSERTION FAILED: "+I;throw ot(f),new Error(f)}function ve(I,f){I||wt(f)}const Ve=new Map;function me(I){ve(I instanceof Function,"Expected a class definition");let f=Ve.get(I);return f?(ve(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,Ve.set(I,f),f)}function qe(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function qt(){return"http:"===tn()||"https:"===tn()}function tn(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class dt{constructor(f,p){this.shortDelay=f,this.longDelay=p,ve(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,b.uI)()||(0,b.b$)()}get(){return function bt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,b.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ze(I,f){ve(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class lt{static initialize(f,p,D){this.fetchImpl=f,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},et=new dt(3e4,6e4);function je(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function Oe(I,f,p,D){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(I,f,p,D,te={}){return Gt(I,te,(0,a.Z)(function*(){let Se={},St={};D&&("GET"===f?St=D:Se={body:JSON.stringify(D)});const un=(0,b.xO)(Object.assign({key:I.config.apiKey},St)).slice(1),ir=yield I._getAdditionalHeaders();return ir["Content-Type"]="application/json",I.languageCode&&(ir["X-Firebase-Locale"]=I.languageCode),lt.fetch()(or(I,I.config.apiHost,p,un),Object.assign({method:f,headers:ir,referrerPolicy:"no-referrer"},Se))}))})).apply(this,arguments)}function Gt(I,f,p){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(I,f,p){I._canInitEmulator=!1;const D=Object.assign(Object.assign({},gt),f);try{const te=new vn(I),Se=yield Promise.race([p(),te.promise]);te.clearNetworkTimeout();const St=yield Se.json();if("needConfirmation"in St)throw jn(I,"account-exists-with-different-credential",St);if(Se.ok&&!("errorMessage"in St))return St;{const un=Se.ok?St.errorMessage:St.error.message,[ir,vr]=un.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ir)throw jn(I,"credential-already-in-use",St);if("EMAIL_EXISTS"===ir)throw jn(I,"email-already-in-use",St);const zr=D[ir]||ir.toLowerCase().replace(/[_\s]+/g,"-");if(vr)throw ke(I,zr,vr);oe(I,zr)}}catch(te){if(te instanceof b.ZR)throw te;oe(I,"network-request-failed")}})).apply(this,arguments)}function ln(I,f,p,D){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(I,f,p,D,te={}){const Se=yield Oe(I,f,p,D,te);return"mfaPendingCredential"in Se&&oe(I,"multi-factor-auth-required",{_serverResponse:Se}),Se})).apply(this,arguments)}function or(I,f,p,D){const te=`${f}${p}?${D}`;return I.config.emulator?ze(I.config,te):`${I.config.apiScheme}://${te}`}class vn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(ut(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(I,f,p){const D={appName:I.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const te=ut(I,f,D);return te.customData._tokenResponse=p,te}function Pn(){return(Pn=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function nr(I,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gn(I,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function mn(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ye(){return(Ye=(0,a.Z)(function*(I,f=!1){const p=(0,b.m9)(I),D=yield p.getIdToken(f),te=xt(D);He(te&&te.exp&&te.auth_time&&te.iat,p.auth,"internal-error");const Se="object"==typeof te.firebase?te.firebase:void 0,St=null==Se?void 0:Se.sign_in_provider;return{claims:te,token:D,authTime:mn(jt(te.auth_time)),issuedAtTime:mn(jt(te.iat)),expirationTime:mn(jt(te.exp)),signInProvider:St||null,signInSecondFactor:(null==Se?void 0:Se.sign_in_second_factor)||null}})).apply(this,arguments)}function jt(I){return 1e3*Number(I)}function xt(I){const[f,p,D]=I.split(".");if(void 0===f||void 0===p||void 0===D)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,b.tV)(p);return te?JSON.parse(te):(ot("Failed to decode base64 JWT payload"),null)}catch(te){return ot("Caught error parsing JWT payload as JSON",te),null}}function Lt(I,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,a.Z)(function*(I,f,p=!1){if(p)return f;try{return yield f}catch(D){throw D instanceof b.ZR&&qn(D)&&I.auth.currentUser===I&&(yield I.auth.signOut()),D}})).apply(this,arguments)}function qn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class on{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const te=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,te)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield p.iteration()}),D)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class Fr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=mn(this.lastLoginAt),this.creationTime=mn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(I){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(I){var f;const p=I.auth,D=yield I.getIdToken(),te=yield Lt(I,Gn(p,{idToken:D}));He(null==te?void 0:te.users.length,p,"internal-error");const Se=te.users[0];I._notifyReloadListener(Se);const St=(null===(f=Se.providerUserInfo)||void 0===f?void 0:f.length)?cn(Se.providerUserInfo):[],un=Kn(I.providerData,St),zr=!!I.isAnonymous&&!(I.email&&Se.passwordHash||(null==un?void 0:un.length)),Jr={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:un,metadata:new Fr(Se.createdAt,Se.lastLoginAt),isAnonymous:zr};Object.assign(I,Jr)})).apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(I){const f=(0,b.m9)(I);yield fr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Kn(I,f){return[...I.filter(D=>!f.some(te=>te.providerId===D.providerId)),...f]}function cn(I){return I.map(f=>{var{providerId:p}=f,D=(0,Ce._T)(f,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Xt(){return(Xt=(0,a.Z)(function*(I,f){const p=yield Gt(I,{},(0,a.Z)(function*(){const D=(0,b.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:te,apiKey:Se}=I.config,St=or(I,te,"/v1/token",`key=${Se}`),un=yield I._getAdditionalHeaders();return un["Content-Type"]="application/x-www-form-urlencoded",lt.fetch()(St,{method:"POST",headers:un,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Cn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){He(f.idToken,"internal-error"),He(void 0!==f.idToken,"internal-error"),He(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Ut(I){const f=xt(I);return He(f,"internal-error"),He(void 0!==f.exp,"internal-error"),He(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var D=this;return(0,a.Z)(function*(){return He(!D.accessToken||D.refreshToken,f,"user-token-expired"),p||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(f,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var D=this;return(0,a.Z)(function*(){const{accessToken:te,refreshToken:Se,expiresIn:St}=yield function Ct(I,f){return Xt.apply(this,arguments)}(f,p);D.updateTokensAndExpiration(te,Se,Number(St))})()}updateTokensAndExpiration(f,p,D){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(f,p){const{refreshToken:D,accessToken:te,expirationTime:Se}=p,St=new Cn;return D&&(He("string"==typeof D,"internal-error",{appName:f}),St.refreshToken=D),te&&(He("string"==typeof te,"internal-error",{appName:f}),St.accessToken=te),Se&&(He("number"==typeof Se,"internal-error",{appName:f}),St.expirationTime=Se),St}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Cn,this.toJSON())}_performRefresh(){return wt("not implemented")}}function _n(I,f){He("string"==typeof I||void 0===I,"internal-error",{appName:f})}class Un{constructor(f){var{uid:p,auth:D,stsTokenManager:te}=f,Se=(0,Ce._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new on(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=Se.displayName||null,this.email=Se.email||null,this.emailVerified=Se.emailVerified||!1,this.phoneNumber=Se.phoneNumber||null,this.photoURL=Se.photoURL||null,this.isAnonymous=Se.isAnonymous||!1,this.tenantId=Se.tenantId||null,this.providerData=Se.providerData?[...Se.providerData]:[],this.metadata=new Fr(Se.createdAt||void 0,Se.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,a.Z)(function*(){const D=yield Lt(p,p.stsTokenManager.getToken(p.auth,f));return He(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(f){return function Ke(I){return Ye.apply(this,arguments)}(this,f)}reload(){return function In(I){return Mn.apply(this,arguments)}(this)}_assign(f){this!==f&&(He(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Un(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var D=this;return(0,a.Z)(function*(){let te=!1;f.idToken&&f.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(f),te=!0),p&&(yield fr(D)),yield D.auth._persistUserIfCurrent(D),te&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var f=this;return(0,a.Z)(function*(){const p=yield f.getIdToken();return yield Lt(f,function Ft(I,f){return Pn.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var D,te,Se,St,un,ir,vr,zr;const Jr=null!==(D=p.displayName)&&void 0!==D?D:void 0,as=null!==(te=p.email)&&void 0!==te?te:void 0,Ko=null!==(Se=p.phoneNumber)&&void 0!==Se?Se:void 0,ku=null!==(St=p.photoURL)&&void 0!==St?St:void 0,Gl=null!==(un=p.tenantId)&&void 0!==un?un:void 0,Nu=null!==(ir=p._redirectEventId)&&void 0!==ir?ir:void 0,Oc=null!==(vr=p.createdAt)&&void 0!==vr?vr:void 0,Lh=null!==(zr=p.lastLoginAt)&&void 0!==zr?zr:void 0,{uid:Ni,emailVerified:Qr,isAnonymous:cl,providerData:Pc,stsTokenManager:Fa}=p;He(Ni&&Fa,f,"internal-error");const Zi=Cn.fromJSON(this.name,Fa);He("string"==typeof Ni,f,"internal-error"),_n(Jr,f.name),_n(as,f.name),He("boolean"==typeof Qr,f,"internal-error"),He("boolean"==typeof cl,f,"internal-error"),_n(Ko,f.name),_n(ku,f.name),_n(Gl,f.name),_n(Nu,f.name),_n(Oc,f.name),_n(Lh,f.name);const Fu=new Un({uid:Ni,auth:f,email:as,emailVerified:Qr,displayName:Jr,isAnonymous:cl,photoURL:ku,phoneNumber:Ko,tenantId:Gl,stsTokenManager:Zi,createdAt:Oc,lastLoginAt:Lh});return Pc&&Array.isArray(Pc)&&(Fu.providerData=Pc.map(Cs=>Object.assign({},Cs))),Nu&&(Fu._redirectEventId=Nu),Fu}static _fromIdTokenResponse(f,p,D=!1){return(0,a.Z)(function*(){const te=new Cn;te.updateFromServerResponse(p);const Se=new Un({uid:p.localId,auth:f,stsTokenManager:te,isAnonymous:D});return yield fr(Se),Se})()}}const we=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(p,D){var te=this;return(0,a.Z)(function*(){te.storage[p]=D})()}_get(p){var D=this;return(0,a.Z)(function*(){const te=D.storage[p];return void 0===te?null:te})()}_remove(p){var D=this;return(0,a.Z)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return I.type="NONE",I})();function Je(I,f,p){return`firebase:${I}:${f}:${p}`}class It{constructor(f,p,D){this.persistence=f,this.auth=p,this.userKey=D;const{config:te,name:Se}=this.auth;this.fullUserKey=Je(this.userKey,te.apiKey,Se),this.fullPersistenceKey=Je("persistence",te.apiKey,Se),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Un._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,a.Z)(function*(){if(p.persistence===f)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,D="authUser"){return(0,a.Z)(function*(){if(!p.length)return new It(me(we),f,D);const te=(yield Promise.all(p.map(function(){var vr=(0,a.Z)(function*(zr){if(yield zr._isAvailable())return zr});return function(zr){return vr.apply(this,arguments)}}()))).filter(vr=>vr);let Se=te[0]||me(we);const St=Je(D,f.config.apiKey,f.name);let un=null;for(const vr of p)try{const zr=yield vr._get(St);if(zr){const Jr=Un._fromJSON(f,zr);vr!==Se&&(un=Jr),Se=vr;break}}catch(zr){}const ir=te.filter(vr=>vr._shouldAllowMigration);return Se._shouldAllowMigration&&ir.length?(Se=ir[0],un&&(yield Se._set(St,un.toJSON())),yield Promise.all(p.map(function(){var vr=(0,a.Z)(function*(zr){if(zr!==Se)try{yield zr._remove(St)}catch(Jr){}});return function(zr){return vr.apply(this,arguments)}}())),new It(Se,f,D)):new It(Se,f,D)})()}}function ge(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Zt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ee(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Xn(f))return"Blackberry";if(En(f))return"Webos";if(Ae(f))return"Safari";if((f.includes("chrome/")||We(f))&&!f.includes("edge/"))return"Chrome";if(bn(f))return"Android";{const D=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Ee(I=(0,b.z$)()){return/firefox\//i.test(I)}function Ae(I=(0,b.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function We(I=(0,b.z$)()){return/crios\//i.test(I)}function Zt(I=(0,b.z$)()){return/iemobile/i.test(I)}function bn(I=(0,b.z$)()){return/android/i.test(I)}function Xn(I=(0,b.z$)()){return/blackberry/i.test(I)}function En(I=(0,b.z$)()){return/webos/i.test(I)}function Jn(I=(0,b.z$)()){return/iphone|ipad|ipod/i.test(I)}function Rn(I=(0,b.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Rr(I=(0,b.z$)()){return Jn(I)||bn(I)||En(I)||Xn(I)||/windows phone/i.test(I)||Zt(I)}function Yr(I,f=[]){let p;switch(I){case"Browser":p=ge((0,b.z$)());break;case"Worker":p=`${ge((0,b.z$)())}-${I}`;break;default:p=I}const D=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${U.SDK_VERSION}/${D}`}class Wr{constructor(f,p,D){this.app=f,this.heartbeatServiceProvider=p,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(f,p){var D=this;return p&&(this._popupRedirectResolver=me(p)),this._initializationPromise=this.queue((0,a.Z)(function*(){var te,Se;if(!D._deleted&&(D.persistenceManager=yield It.create(D,f),!D._deleted)){if(null===(te=D._popupRedirectResolver)||void 0===te?void 0:te._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(St){}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(Se=D.currentUser)||void 0===Se?void 0:Se.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p)}})()}initializeCurrentUser(f){var p=this;return(0,a.Z)(function*(){var D;let te=yield p.assertedPersistence.getCurrentUser();if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Se=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,St=null==te?void 0:te._redirectEventId,un=yield p.tryRedirectSignIn(f);(!Se||Se===St)&&(null==un?void 0:un.user)&&(te=un.user)}return te?te._redirectEventId?(He(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===te._redirectEventId?p.directlySetCurrentUser(te):p.reloadAndSetCurrentUserOrClear(te)):p.reloadAndSetCurrentUserOrClear(te):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var p=this;return(0,a.Z)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(te){yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,a.Z)(function*(){try{yield fr(f)}catch(D){if("auth/network-request-failed"!==D.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function pt(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,a.Z)(function*(){const D=f?(0,b.m9)(f):null;return D&&He(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(f){var p=this;return(0,a.Z)(function*(){if(!p._deleted)return f&&He(p.tenantId===f.tenantId,p,"tenant-id-mismatch"),p.queue((0,a.Z)(function*(){yield p.directlySetCurrentUser(f),p.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var p=this;return this.queue((0,a.Z)(function*(){yield p.assertedPersistence.setPersistence(me(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new b.LL("auth","Firebase",f())}onAuthStateChanged(f,p,D){return this.registerStateListener(this.authStateSubscription,f,p,D)}onIdTokenChanged(f,p,D){return this.registerStateListener(this.idTokenSubscription,f,p,D)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var D=this;return(0,a.Z)(function*(){const te=yield D.getOrInitRedirectPersistenceManager(p);return null===f?te.removeCurrentUser():te.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,a.Z)(function*(){if(!p.redirectPersistenceManager){const D=f&&me(f)||p._popupRedirectResolver;He(D,p,"argument-error"),p.redirectPersistenceManager=yield It.create(p,[me(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,a.Z)(function*(){var D,te;return p._isInitialized&&(yield p.queue((0,a.Z)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===f?p._currentUser:(null===(te=p.redirectUser)||void 0===te?void 0:te._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,a.Z)(function*(){if(f===p.currentUser)return p.queue((0,a.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,D,te){if(this._deleted)return()=>{};const Se="function"==typeof p?p:p.next.bind(p),St=this._isInitialized?Promise.resolve():this._initializationPromise;return He(St,this,"internal-error"),St.then(()=>Se(this.currentUser)),"function"==typeof p?f.addObserver(p,D,te):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,a.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var p;const D={"X-Client-Version":f.clientVersion};f.app.options.appId&&(D["X-Firebase-gmpid"]=f.app.options.appId);const te=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return te&&(D["X-Firebase-Client"]=te),D})()}}function wr(I){return(0,b.m9)(I)}class rr{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,b.ne)(p=>this.observer=p)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mr(I,f,p){const D=wr(I);He(D._canInitEmulator,D,"emulator-config-failed"),He(/^https?:\/\//.test(f),D,"invalid-emulator-scheme");const te=!!(null==p?void 0:p.disableWarnings),Se=gr(f),{host:St,port:un}=function Pr(I){const f=gr(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",te=/^(\[[^\]]+\])(:|$)/.exec(D);if(te){const Se=te[1];return{host:Se,port:Lr(D.substr(Se.length+1))}}{const[Se,St]=D.split(":");return{host:Se,port:Lr(St)}}}(f);D.config.emulator={url:`${Se}//${St}${null===un?"":`:${un}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:St,port:un,protocol:Se.replace(":",""),options:Object.freeze({disableWarnings:te})}),te||function en(){function I(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function gr(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function Lr(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class kn{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return wt("not implemented")}_getIdTokenResponse(f){return wt("not implemented")}_linkToIdToken(f,p){return wt("not implemented")}_getReauthenticationResolver(f){return wt("not implemented")}}function _r(I,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:resetPassword",je(I,f))})).apply(this,arguments)}function ri(I,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function si(I,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:update",je(I,f))})).apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signInWithPassword",je(I,f))})).apply(this,arguments)}function zn(I,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:sendOobCode",je(I,f))})).apply(this,arguments)}function ii(I,f){return ee.apply(this,arguments)}function ee(){return(ee=(0,a.Z)(function*(I,f){return zn(I,f)})).apply(this,arguments)}function be(I,f){return ie.apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(I,f){return zn(I,f)})).apply(this,arguments)}function xe(I,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(I,f){return zn(I,f)})).apply(this,arguments)}function ht(I,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(I,f){return zn(I,f)})).apply(this,arguments)}function kt(){return(kt=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signInWithEmailLink",je(I,f))})).apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signInWithEmailLink",je(I,f))})).apply(this,arguments)}class On extends kn{constructor(f,p,D,te=null){super("password",D),this._email=f,this._password=p,this._tenantId=te}static _fromEmailAndPassword(f,p){return new On(f,p,"password")}static _fromEmailAndCode(f,p,D=null){return new On(f,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,a.Z)(function*(){switch(p.signInMethod){case"password":return function ci(I,f){return ni.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Nt(I,f){return kt.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:oe(f,"internal-error")}})()}_linkToIdToken(f,p){var D=this;return(0,a.Z)(function*(){switch(D.signInMethod){case"password":return ri(f,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function $t(I,f){return yn.apply(this,arguments)}(f,{idToken:p,email:D._email,oobCode:D._password});default:oe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Bn(I,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signInWithIdp",je(I,f))})).apply(this,arguments)}class qr extends kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new qr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):oe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:te}=p,Se=(0,Ce._T)(p,["providerId","signInMethod"]);if(!D||!te)return null;const St=new qr(D,te);return St.idToken=Se.idToken||void 0,St.accessToken=Se.accessToken||void 0,St.secret=Se.secret,St.nonce=Se.nonce,St.pendingToken=Se.pendingToken||null,St}_getIdTokenResponse(f){return Bn(f,this.buildRequest())}_linkToIdToken(f,p){const D=this.buildRequest();return D.idToken=p,Bn(f,D)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Bn(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,b.xO)(p)}return f}}function rt(I,f){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:sendVerificationCode",je(I,f))})).apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signInWithPhoneNumber",je(I,f))})).apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(I,f){const p=yield ln(I,"POST","/v1/accounts:signInWithPhoneNumber",je(I,f));if(p.temporaryProof)throw jn(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const xr={USER_NOT_FOUND:"user-not-found"};function br(){return(br=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signInWithPhoneNumber",je(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),xr)})).apply(this,arguments)}class di extends kn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new di({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new di({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function mt(I,f){return Bt.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function nn(I,f){return Dn.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function $r(I,f){return br.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:D,verificationCode:te}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:D,code:te}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:D,phoneNumber:te,temporaryProof:Se}=f;return D||p||te||Se?new di({verificationId:p,verificationCode:D,phoneNumber:te,temporaryProof:Se}):null}}class Ei{constructor(f){var p,D,te,Se,St,un;const ir=(0,b.zd)((0,b.pd)(f)),vr=null!==(p=ir.apiKey)&&void 0!==p?p:null,zr=null!==(D=ir.oobCode)&&void 0!==D?D:null,Jr=function Ri(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=ir.mode)&&void 0!==te?te:null);He(vr&&zr&&Jr,"argument-error"),this.apiKey=vr,this.operation=Jr,this.code=zr,this.continueUrl=null!==(Se=ir.continueUrl)&&void 0!==Se?Se:null,this.languageCode=null!==(St=ir.languageCode)&&void 0!==St?St:null,this.tenantId=null!==(un=ir.tenantId)&&void 0!==un?un:null}static parseLink(f){const p=function es(I){const f=(0,b.zd)((0,b.pd)(I)).link,p=f?(0,b.zd)((0,b.pd)(f)).deep_link_id:null,D=(0,b.zd)((0,b.pd)(I)).deep_link_id;return(D?(0,b.zd)((0,b.pd)(D)).link:null)||D||p||f||I}(f);try{return new Ei(p)}catch(D){return null}}}let Oi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,D){return On._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const te=Ei.parseLink(D);return He(te,"argument-error"),On._fromEmailAndCode(p,te.code,te.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class hi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class zi extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class mi extends zi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return He("providerId"in p&&"signInMethod"in p,"argument-error"),qr._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return He(f.idToken||f.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return mi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return mi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:D,oauthTokenSecret:te,pendingToken:Se,nonce:St,providerId:un}=f;if(!D&&!te&&!p&&!Se||!un)return null;try{return new mi(un)._credential({idToken:p,accessToken:D,nonce:St,pendingToken:Se})}catch(ir){return null}}}let Pi=(()=>{class I extends zi{constructor(){super("facebook.com")}static credential(p){return qr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch(D){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),wi=(()=>{class I extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,D){return qr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:D})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:D,oauthAccessToken:te}=p;if(!D&&!te)return null;try{return I.credential(D,te)}catch(Se){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),fs=(()=>{class I extends zi{constructor(){super("github.com")}static credential(p){return qr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch(D){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class yi extends kn{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Bn(f,this.buildRequest())}_linkToIdToken(f,p){const D=this.buildRequest();return D.idToken=p,Bn(f,D)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Bn(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:te,pendingToken:Se}=p;return D&&te&&Se&&D===te?new yi(D,Se):null}static _create(f,p){return new yi(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ii extends hi{constructor(f){He(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ii.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ii.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=yi.fromJSON(f);return He(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:D}=f;if(!p||!D)return null;try{return yi._create(D,p)}catch(te){return null}}}let vi=(()=>{class I extends zi{constructor(){super("twitter.com")}static credential(p,D){return qr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:D})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:D,oauthTokenSecret:te}=p;if(!D||!te)return null;try{return I.credential(D,te)}catch(Se){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function gs(I,f){return Y.apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signUp",je(I,f))})).apply(this,arguments)}class q{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,D,te=!1){return(0,a.Z)(function*(){const Se=yield Un._fromIdTokenResponse(f,D,te),St=Me(D);return new q({user:Se,providerId:St,_tokenResponse:D,operationType:p})})()}static _forOperation(f,p,D){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(D,!0);const te=Me(D);return new q({user:f,providerId:te,_tokenResponse:D,operationType:p})})()}}function Me(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ze(I){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(I){var f;const p=wr(I);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new q({user:p.currentUser,providerId:null,operationType:"signIn"});const D=yield gs(p,{returnSecureToken:!0}),te=yield q._fromIdTokenResponse(p,"signIn",D,!0);return yield p._updateCurrentUser(te.user),te})).apply(this,arguments)}class Ot extends b.ZR{constructor(f,p,D,te){var Se;super(p.code,p.message),this.operationType=D,this.user=te,Object.setPrototypeOf(this,Ot.prototype),this.customData={appName:f.name,tenantId:null!==(Se=f.tenantId)&&void 0!==Se?Se:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(f,p,D,te){return new Ot(f,p,D,te)}}function rn(I,f,p,D){return("reauthenticate"===f?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(Se=>{throw"auth/multi-factor-auth-required"===Se.code?Ot._fromErrorAndOperation(I,Se,f,D):Se})}function Tn(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function fn(I,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(I,f){const p=(0,b.m9)(I);yield k(!0,p,f);const{providerUserInfo:D}=yield nr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),te=Tn(D||[]);return p.providerData=p.providerData.filter(Se=>te.has(Se.providerId)),te.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ir(I,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(I,f,p=!1){const D=yield Lt(I,f._linkToIdToken(I.auth,yield I.getIdToken()),p);return q._forOperation(I,"link",D)})).apply(this,arguments)}function k(I,f,p){return Q.apply(this,arguments)}function Q(){return(Q=(0,a.Z)(function*(I,f,p){yield fr(f);const te=!1===I?"provider-already-linked":"no-such-provider";He(Tn(f.providerData).has(p)===I,f.auth,te)})).apply(this,arguments)}function B(I,f){return ae.apply(this,arguments)}function ae(){return(ae=(0,a.Z)(function*(I,f,p=!1){const{auth:D}=I,te="reauthenticate";try{const Se=yield Lt(I,rn(D,te,f,I),p);He(Se.idToken,D,"internal-error");const St=xt(Se.idToken);He(St,D,"internal-error");const{sub:un}=St;return He(I.uid===un,D,"user-mismatch"),q._forOperation(I,te,Se)}catch(Se){throw"auth/user-not-found"===(null==Se?void 0:Se.code)&&oe(D,"user-mismatch"),Se}})).apply(this,arguments)}function Fe(I,f){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)(function*(I,f,p=!1){const D="signIn",te=yield rn(I,D,f),Se=yield q._fromIdTokenResponse(I,D,te);return p||(yield I._updateCurrentUser(Se.user)),Se})).apply(this,arguments)}function $(I,f){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(function*(I,f){return Fe(wr(I),f)})).apply(this,arguments)}function ce(I,f){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*(I,f){const p=(0,b.m9)(I);return yield k(!1,p,f.providerId),Ir(p,f)})).apply(this,arguments)}function Pt(I,f){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(I,f){return B((0,b.m9)(I),f)})).apply(this,arguments)}function Wn(I,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(I,f){return ln(I,"POST","/v1/accounts:signInWithCustomToken",je(I,f))})).apply(this,arguments)}function g(I,f){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(I,f){const p=wr(I),D=yield Wn(p,{token:f,returnSecureToken:!0}),te=yield q._fromIdTokenResponse(p,"signIn",D);return yield p._updateCurrentUser(te.user),te})).apply(this,arguments)}class m{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?V._fromServerResponse(f,p):oe(f,"internal-error")}}class V extends m{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new V(p)}}function de(I,f,p){var D;He((null===(D=p.url)||void 0===D?void 0:D.length)>0,I,"invalid-continue-uri"),He(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(He(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(He(p.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function S(I,f,p){return A.apply(this,arguments)}function A(){return(A=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I),te={requestType:"PASSWORD_RESET",email:f};p&&de(D,te,p),yield be(D,te)})).apply(this,arguments)}function T(I,f,p){return G.apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(I,f,p){yield _r((0,b.m9)(I),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Tt(I,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(I,f){yield si((0,b.m9)(I),{oobCode:f})})).apply(this,arguments)}function Er(I,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,a.Z)(function*(I,f){const p=(0,b.m9)(I),D=yield _r(p,{oobCode:f}),te=D.requestType;switch(He(te,p,"internal-error"),te){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":He(D.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":He(D.mfaInfo,p,"internal-error");default:He(D.email,p,"internal-error")}let Se=null;return D.mfaInfo&&(Se=m._fromServerResponse(wr(p),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:Se},operation:te}})).apply(this,arguments)}function Ci(I,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(I,f){const{data:p}=yield Er((0,b.m9)(I),f);return p.email})).apply(this,arguments)}function xi(I,f,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(I,f,p){const D=wr(I),te=yield gs(D,{returnSecureToken:!0,email:f,password:p}),Se=yield q._fromIdTokenResponse(D,"signIn",te);return yield D._updateCurrentUser(Se.user),Se})).apply(this,arguments)}function jr(I,f,p){return $((0,b.m9)(I),Oi.credential(f,p))}function Ka(I,f,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I),te={requestType:"EMAIL_SIGNIN",email:f};He(p.handleCodeInApp,D,"argument-error"),p&&de(D,te,p),yield xe(D,te)})).apply(this,arguments)}function Du(I,f){const p=Ei.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function Gs(I,f,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I),te=Oi.credentialWithLink(f,p||qe());return He(te._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),$(D,te)})).apply(this,arguments)}function uo(I,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:createAuthUri",je(I,f))})).apply(this,arguments)}function Ca(I,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(I,f){const D={identifier:f,continueUri:qt()?qe():"http://localhost"},{signinMethods:te}=yield uo((0,b.m9)(I),D);return te||[]})).apply(this,arguments)}function na(I,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(I,f){const p=(0,b.m9)(I),te={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&de(p.auth,te,f);const{email:Se}=yield ii(p.auth,te);Se!==I.email&&(yield I.reload())})).apply(this,arguments)}function Fi(I,f,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I),Se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};p&&de(D.auth,Se,p);const{email:St}=yield ht(D.auth,Se);St!==I.email&&(yield I.reload())})).apply(this,arguments)}function Di(I,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(I,f){return Oe(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ro(I,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(I,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const D=(0,b.m9)(I),Se={idToken:yield D.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},St=yield Lt(D,Di(D.auth,Se));D.displayName=St.displayName||null,D.photoURL=St.photoUrl||null;const un=D.providerData.find(({providerId:ir})=>"password"===ir);un&&(un.displayName=D.displayName,un.photoURL=D.photoURL),yield D._updateTokensIfNecessary(St)})).apply(this,arguments)}function Tu(I,f){return ra((0,b.m9)(I),f,null)}function Qu(I,f){return ra((0,b.m9)(I),null,f)}function ra(I,f,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,a.Z)(function*(I,f,p){const{auth:D}=I,Se={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(Se.email=f),p&&(Se.password=p);const St=yield Lt(I,ri(D,Se));yield I._updateTokensIfNecessary(St,!0)})).apply(this,arguments)}class Bs{constructor(f,p,D={}){this.isNewUser=f,this.providerId=p,this.profile=D}}class Da extends Bs{constructor(f,p,D,te){super(f,p,D),this.username=te}}class zs extends Bs{constructor(f,p){super(f,"facebook.com",p)}}class sa extends Da{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class wo extends Bs{constructor(f,p){super(f,"google.com",p)}}class oa extends Da{constructor(f,p,D){super(f,"twitter.com",p,D)}}function lo(I){const{user:f,_tokenResponse:p}=I;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ia(I){var f,p;if(!I)return null;const{providerId:D}=I,te=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Se=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!D&&(null==I?void 0:I.idToken)){const St=null===(p=null===(f=xt(I.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(St)return new Bs(Se,"anonymous"!==St&&"custom"!==St?St:null)}if(!D)return null;switch(D){case"facebook.com":return new zs(Se,te);case"github.com":return new sa(Se,te);case"google.com":return new wo(Se,te);case"twitter.com":return new oa(Se,te,I.screenName||null);case"custom":case"anonymous":return new Bs(Se,null);default:return new Bs(Se,D,te)}}(p)}class Us{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new Us("enroll",f)}static _fromMfaPendingCredential(f){return new Us("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,D;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Us._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(D=f.multiFactorSession)||void 0===D?void 0:D.idToken)return Us._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Uo{constructor(f,p,D){this.session=f,this.hints=p,this.signInResolver=D}static _fromError(f,p){const D=wr(f),te=p.customData._serverResponse,Se=(te.mfaInfo||[]).map(un=>m._fromServerResponse(D,un));He(te.mfaPendingCredential,D,"internal-error");const St=Us._fromMfaPendingCredential(te.mfaPendingCredential);return new Uo(St,Se,function(){var un=(0,a.Z)(function*(ir){const vr=yield ir._process(D,St);delete te.mfaInfo,delete te.mfaPendingCredential;const zr=Object.assign(Object.assign({},te),{idToken:vr.idToken,refreshToken:vr.refreshToken});switch(p.operationType){case"signIn":const Jr=yield q._fromIdTokenResponse(D,p.operationType,zr);return yield D._updateCurrentUser(Jr.user),Jr;case"reauthenticate":return He(p.user,D,"internal-error"),q._forOperation(p.user,p.operationType,zr);default:oe(D,"internal-error")}});return function(ir){return un.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,a.Z)(function*(){return p.signInResolver(f)})()}}function Xa(I,f){var p;const D=(0,b.m9)(I),te=f;return He(f.customData.operationType,D,"argument-error"),He(null===(p=te.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,D,"argument-error"),Uo._fromError(D,te)}function Sa(I,f){return Oe(I,"POST","/v2/accounts/mfaEnrollment:start",je(I,f))}class io{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(D=>m._fromServerResponse(f.auth,D)))})}static _fromUser(f){return new io(f)}getSession(){var f=this;return(0,a.Z)(function*(){return Us._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var D=this;return(0,a.Z)(function*(){const te=f,Se=yield D.getSession(),St=yield Lt(D.user,te._process(D.user.auth,Se,p));return yield D.user._updateTokensIfNecessary(St),D.user.reload()})()}unenroll(f){var p=this;return(0,a.Z)(function*(){const D="string"==typeof f?f:f.uid,te=yield p.user.getIdToken(),Se=yield Lt(p.user,function Ja(I,f){return Oe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",je(I,f))}(p.user.auth,{idToken:te,mfaEnrollmentId:D}));p.enrolledFactors=p.enrolledFactors.filter(({uid:St})=>St!==D),yield p.user._updateTokensIfNecessary(Se);try{yield p.user.reload()}catch(St){if("auth/user-token-expired"!==St.code)throw St}})()}}const co=new WeakMap;function ua(I){const f=(0,b.m9)(I);return co.has(f)||co.set(f,io._fromUser(f)),co.get(f)}const ms="__sak";class ts{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ms,"1"),this.storage.removeItem(ms),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bi=(()=>{class I extends ts{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Aa(){const I=(0,b.z$)();return Ae(I)||Jn(I)}()&&function Or(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const te=this.storage.getItem(D),Se=this.localCache[D];te!==Se&&p(D,Se,te)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((un,ir,vr)=>{this.notifyListeners(un,vr)});const te=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const un=this.storage.getItem(te);if(p.newValue!==un)null!==p.newValue?this.storage.setItem(te,p.newValue):this.storage.removeItem(te);else if(this.localCache[te]===p.newValue&&!D)return}const Se=()=>{const un=this.storage.getItem(te);!D&&this.localCache[te]===un||this.notifyListeners(te,un)},St=this.storage.getItem(te);!function tr(){return(0,b.w1)()&&10===document.documentMode}()||St===p.newValue||p.newValue===p.oldValue?Se():setTimeout(Se,10)}notifyListeners(p,D){this.localCache[p]=D;const te=this.listeners[p];if(te)for(const Se of Array.from(te))Se(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,te)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:te}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var te=()=>super._set,Se=this;return(0,a.Z)(function*(){yield te().call(Se,p,D),Se.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,te=this;return(0,a.Z)(function*(){const Se=yield D().call(te,p);return te.localCache[p]=JSON.stringify(Se),Se})()}_remove(p){var D=()=>super._remove,te=this;return(0,a.Z)(function*(){yield D().call(te,p),delete te.localCache[p]})()}}return I.type="LOCAL",I})(),jo=(()=>{class I extends ts{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return I.type="SESSION",I})();let xu=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(Se=>Se.isListeningto(p));if(D)return D;const te=new I(p);return this.receivers.push(te),te}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,a.Z)(function*(){const te=p,{eventId:Se,eventType:St,data:un}=te.data,ir=D.handlersMap[St];if(!(null==ir?void 0:ir.size))return;te.ports[0].postMessage({status:"ack",eventId:Se,eventType:St});const vr=Array.from(ir).map(function(){var Jr=(0,a.Z)(function*(as){return as(te.origin,un)});return function(as){return Jr.apply(this,arguments)}}()),zr=yield function Io(I){return Promise.all(I.map(function(){var f=(0,a.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return f.apply(this,arguments)}}()))}(vr);te.ports[0].postMessage({status:"done",eventId:Se,eventType:St,response:zr})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ho(I="",f=10){let p="";for(let D=0;D<f;D++)p+=Math.floor(10*Math.random());return I+p}class Qa{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,D=50){var te=this;return(0,a.Z)(function*(){const Se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Se)throw new Error("connection_unavailable");let St,un;return new Promise((ir,vr)=>{const zr=Ho("",20);Se.port1.start();const Jr=setTimeout(()=>{vr(new Error("unsupported_event"))},D);un={messageChannel:Se,onMessage(as){const Ko=as;if(Ko.data.eventId===zr)switch(Ko.data.status){case"ack":clearTimeout(Jr),St=setTimeout(()=>{vr(new Error("timeout"))},3e3);break;case"done":clearTimeout(St),ir(Ko.data.response);break;default:clearTimeout(Jr),clearTimeout(St),vr(new Error("invalid_response"))}}},te.handlers.add(un),Se.port1.addEventListener("message",un.onMessage),te.target.postMessage({eventType:f,eventId:zr,data:p},[Se.port2])}).finally(()=>{un&&te.removeMessageHandler(un)})})()}}function _i(){return window}function Rs(){return void 0!==_i().WorkerGlobalScope&&"function"==typeof _i().importScripts}function ho(){return(ho=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const qi="firebaseLocalStorageDb",Es="firebaseLocalStorage",qs="fbase_key";class Ma{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function hn(I,f){return I.transaction([Es],f?"readwrite":"readonly").objectStore(Es)}function rs(){const I=indexedDB.open(qi,1);return new Promise((f,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const D=I.result;try{D.createObjectStore(Es,{keyPath:qs})}catch(te){p(te)}}),I.addEventListener("success",(0,a.Z)(function*(){const D=I.result;D.objectStoreNames.contains(Es)?f(D):(D.close(),yield function Mi(){const I=indexedDB.deleteDatabase(qi);return new Ma(I).toPromise()}(),f(yield rs()))}))})}function la(I,f,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(I,f,p){const D=hn(I,!0).put({[qs]:f,value:p});return new Ma(D).toPromise()})).apply(this,arguments)}function Go(){return(Go=(0,a.Z)(function*(I,f){const p=hn(I,!1).get(f),D=yield new Ma(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function An(I,f){const p=hn(I,!0).delete(f);return new Ma(p).toPromise()}const F=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.Z)(function*(){return p.db||(p.db=yield rs()),p.db})()}_withRetries(p){var D=this;return(0,a.Z)(function*(){let te=0;for(;;)try{const Se=yield D._openDb();return yield p(Se)}catch(Se){if(te++>3)throw Se;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.Z)(function*(){return Rs()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.Z)(function*(){p.receiver=xu._getInstance(function Do(){return Rs()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,a.Z)(function*(te,Se){return{keyProcessed:(yield p._poll()).includes(Se.key)}});return function(te,Se){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,a.Z)(function*(te,Se){return["keyChanged"]});return function(te,Se){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.Z)(function*(){var D,te;if(p.activeServiceWorker=yield function Co(){return ho.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Qa(p.activeServiceWorker);const Se=yield p.sender._send("ping",{},800);!Se||(null===(D=Se[0])||void 0===D?void 0:D.fulfilled)&&(null===(te=Se[0])||void 0===te?void 0:te.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,a.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function xa(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch(te){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const p=yield rs();return yield la(p,ms,"1"),yield An(p,ms),!0}catch(p){}return!1})()}_withPendingWrite(p){var D=this;return(0,a.Z)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var te=this;return(0,a.Z)(function*(){return te._withPendingWrite((0,a.Z)(function*(){return yield te._withRetries(Se=>la(Se,p,D)),te.localCache[p]=D,te.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,a.Z)(function*(){const te=yield D._withRetries(Se=>function pr(I,f){return Go.apply(this,arguments)}(Se,p));return D.localCache[p]=te,te})()}_remove(p){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(te=>An(te,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.Z)(function*(){const D=yield p._withRetries(St=>{const un=hn(St,!1).getAll();return new Ma(un).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const te=[],Se=new Set;for(const{fbase_key:St,value:un}of D)Se.add(St),JSON.stringify(p.localCache[St])!==JSON.stringify(un)&&(p.notifyListeners(St,un),te.push(St));for(const St of Object.keys(p.localCache))p.localCache[St]&&!Se.has(St)&&(p.notifyListeners(St,null),te.push(St));return te})()}notifyListeners(p,D){this.localCache[p]=D;const te=this.listeners[p];if(te)for(const Se of Array.from(te))Se(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function H(I,f){return Oe(I,"POST","/v2/accounts/mfaSignIn:start",je(I,f))}function nt(){return(nt=(0,a.Z)(function*(I){return(yield Oe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nn(I){return new Promise((f,p)=>{const D=document.createElement("script");D.setAttribute("src",I),D.onload=f,D.onerror=te=>{const Se=ut("internal-error");Se.customData=te,p(Se)},D.type="text/javascript",D.charset="UTF-8",function Vt(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(D)})}function Hr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Gr=1e12;class ys{constructor(f){this.auth=f,this.counter=Gr,this._widgets=new Map}render(f,p){const D=this.counter;return this._widgets.set(D,new Ar(f,this.auth.name,p||{})),this.counter++,D}reset(f){var p;const D=f||Gr;null===(p=this._widgets.get(D))||void 0===p||p.delete(),this._widgets.delete(D)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Gr))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,a.Z)(function*(){var D;return null===(D=p._widgets.get(f||Gr))||void 0===D||D.execute(),""})()}}class Ar{constructor(f,p,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const te="string"==typeof f?document.getElementById(f):f;He(te,"argument-error",{appName:p}),this.container=te,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ys(I){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<I;D++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zs=Hr("rcb"),ti=new dt(3e4,6e4);class Ul{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_i().grecaptcha}load(f,p=""){return He(function zo(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(_i().grecaptcha):new Promise((D,te)=>{const Se=_i().setTimeout(()=>{te(ut(f,"network-request-failed"))},ti.get());_i()[Zs]=()=>{_i().clearTimeout(Se),delete _i()[Zs];const un=_i().grecaptcha;if(!un)return void te(ut(f,"internal-error"));const ir=un.render;un.render=(vr,zr)=>{const Jr=ir(vr,zr);return this.counter++,Jr},this.hostLanguage=p,D(un)},Nn(`https://www.google.com/recaptcha/api.js??${(0,b.xO)({onload:Zs,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Se),te(ut(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!_i().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ra{load(f){return(0,a.Z)(function*(){return new ys(f)})()}clearedOneInstance(){}}const tu="recaptcha",Kr={theme:"light",type:"image"};class ki{constructor(f,p=Object.assign({},Kr),D){this.parameters=p,this.type=tu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(D),this.isInvisible="invisible"===this.parameters.size,He("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const te="string"==typeof f?document.getElementById(f):f;He(te,this.auth,"argument-error"),this.container=te,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ra:new Ul,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),D=f.getAssertedRecaptcha();return D.getResponse(p)||new Promise(Se=>{const St=un=>{!un||(f.tokenChangeListeners.delete(St),Se(un))};f.tokenChangeListeners.add(St),f.isInvisible&&D.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(D=>D(p)),"function"==typeof f)f(p);else if("string"==typeof f){const D=_i()[f];"function"==typeof D&&D(p)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const D=document.createElement("div");p.appendChild(D),p=D}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){He(qt()&&!Rs(),f.auth,"internal-error"),yield function ss(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Be(I){return nt.apply(this,arguments)}(f.auth);He(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ca{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=di._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function bd(I,f,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(I,f,p){const D=wr(I),te=yield da(D,f,(0,b.m9)(p));return new ca(te,Se=>$(D,Se))})).apply(this,arguments)}function Ic(I,f,p){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I);yield k(!1,D,"phone");const te=yield da(D.auth,f,(0,b.m9)(p));return new ca(te,Se=>ce(D,Se))})).apply(this,arguments)}function Vi(I,f,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I),te=yield da(D.auth,f,(0,b.m9)(p));return new ca(te,Se=>Pt(D,Se))})).apply(this,arguments)}function da(I,f,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(I,f,p){var D;const te=yield p.verify();try{let Se;if(He("string"==typeof te,I,"argument-error"),He(p.type===tu,I,"argument-error"),Se="string"==typeof f?{phoneNumber:f}:f,"session"in Se){const St=Se.session;if("phoneNumber"in Se)return He("enroll"===St.type,I,"internal-error"),(yield Sa(I,{idToken:St.credential,phoneEnrollmentInfo:{phoneNumber:Se.phoneNumber,recaptchaToken:te}})).phoneSessionInfo.sessionInfo;{He("signin"===St.type,I,"internal-error");const un=(null===(D=Se.multiFactorHint)||void 0===D?void 0:D.uid)||Se.multiFactorUid;return He(un,I,"missing-multi-factor-info"),(yield H(I,{mfaPendingCredential:St.credential,mfaEnrollmentId:un,phoneSignInInfo:{recaptchaToken:te}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:St}=yield rt(I,{phoneNumber:Se.phoneNumber,recaptchaToken:te});return St}}finally{p._reset()}})).apply(this,arguments)}function So(I,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(I,f){yield Ir((0,b.m9)(I),f)})).apply(this,arguments)}let fo=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=wr(p)}verifyPhoneNumber(p,D){return da(this.auth,p,(0,b.m9)(D))}static credential(p,D){return di._fromVerification(p,D)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:D,temporaryProof:te}=p;return D&&te?di._fromTokenResponse(D,te):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Is(I,f){return f?me(f):(He(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class hs extends kn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Bn(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Bn(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Bn(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function po(I){return Fe(I.auth,new hs(I),I.bypassAuthState)}function xn(I){const{auth:f,user:p}=I;return He(p,f,"internal-error"),B(p,new hs(I),I.bypassAuthState)}function nu(I){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(I){const{auth:f,user:p}=I;return He(p,f,"internal-error"),Ir(p,new hs(I),I.bypassAuthState)})).apply(this,arguments)}class Os{constructor(f,p,D,te,Se=!1){this.auth=f,this.resolver=D,this.user=te,this.bypassAuthState=Se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,a.Z)(function*(D,te){f.pendingPromise={resolve:D,reject:te};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Se){f.reject(Se)}});return function(D,te){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,a.Z)(function*(){const{urlResponse:D,sessionId:te,postBody:Se,tenantId:St,error:un,type:ir}=f;if(un)return void p.reject(un);const vr={auth:p.auth,requestUri:D,sessionId:te,tenantId:St||void 0,postBody:Se||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ir)(vr))}catch(zr){p.reject(zr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return po;case"linkViaPopup":case"linkViaRedirect":return nu;case"reauthViaPopup":case"reauthViaRedirect":return xn;default:oe(this.auth,"internal-error")}}resolve(f){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oo=new dt(2e3,1e4);function ru(I,f,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,a.Z)(function*(I,f,p){const D=wr(I);at(I,f,hi);const te=Is(D,p);return new Ro(D,"signInViaPopup",f,te).executeNotNull()})).apply(this,arguments)}function ha(I,f,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I);at(D.auth,f,hi);const te=Is(D.auth,p);return new Ro(D.auth,"reauthViaPopup",f,te,D).executeNotNull()})).apply(this,arguments)}function Ui(I,f,p){return go.apply(this,arguments)}function go(){return(go=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I);at(D.auth,f,hi);const te=Is(D.auth,p);return new Ro(D.auth,"linkViaPopup",f,te,D).executeNotNull()})).apply(this,arguments)}let Ro=(()=>{class I extends Os{constructor(p,D,te,Se,St){super(p,D,Se,St),this.provider=te,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.Z)(function*(){const D=yield p.execute();return He(D,p.auth,"internal-error"),D})()}onExecution(){var p=this;return(0,a.Z)(function*(){ve(1===p.filter.length,"Popup operations only handle one event");const D=Ho();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],D),p.authWindow.associatedEvent=D,p.resolver._originValidation(p.auth).catch(te=>{p.reject(te)}),p.resolver._isIframeWebStorageSupported(p.auth,te=>{te||p.reject(ut(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var D,te;this.pollId=(null===(te=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===te?void 0:te.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,oo.get())};p()}}return I.currentPopupAction=null,I})();const Oa=new Map;class $l extends Os{constructor(f,p,D=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,a.Z)(function*(){let D=Oa.get(p.auth._key());if(!D){try{const Se=(yield function tl(I,f){return O.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;D=()=>Promise.resolve(Se)}catch(te){D=()=>Promise.reject(te)}Oa.set(p.auth._key(),D)}return p.bypassAuthState||Oa.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,D=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(D,f);if("unknown"!==f.type){if(f.eventId){const te=yield D.auth._redirectUserForId(f.eventId);if(te)return D.user=te,p().call(D,f);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function O(){return(O=(0,a.Z)(function*(I,f){const p=Mt(f),D=ft(I);if(!(yield D._isAvailable()))return!1;const te="true"===(yield D._get(p));return yield D._remove(p),te})).apply(this,arguments)}function j(I,f){return le.apply(this,arguments)}function le(){return(le=(0,a.Z)(function*(I,f){return ft(I)._set(Mt(f),"true")})).apply(this,arguments)}function $e(){Oa.clear()}function ft(I){return me(I._redirectPersistence)}function Mt(I){return Je("pendingRedirect",I.config.apiKey,I.name)}function Jt(I,f,p){return function $n(I,f,p){return Cr.apply(this,arguments)}(I,f,p)}function Cr(){return(Cr=(0,a.Z)(function*(I,f,p){const D=wr(I);at(I,f,hi);const te=Is(D,p);return yield j(te,D),te._openRedirect(D,f,"signInViaRedirect")})).apply(this,arguments)}function yr(I,f,p){return function Xr(I,f,p){return Tr.apply(this,arguments)}(I,f,p)}function Tr(){return(Tr=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I);at(D.auth,f,hi);const te=Is(D.auth,p);yield j(te,D.auth);const Se=yield Mu(D);return te._openRedirect(D.auth,f,"reauthViaRedirect",Se)})).apply(this,arguments)}function js(I,f,p){return function os(I,f,p){return Ps.apply(this,arguments)}(I,f,p)}function Ps(){return(Ps=(0,a.Z)(function*(I,f,p){const D=(0,b.m9)(I);at(D.auth,f,hi);const te=Is(D.auth,p);yield k(!1,D,f.providerId),yield j(te,D.auth);const Se=yield Mu(D);return te._openRedirect(D.auth,f,"linkViaRedirect",Se)})).apply(this,arguments)}function fa(I,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(I,f){return yield wr(I)._initializationPromise,mo(I,f,!1)})).apply(this,arguments)}function mo(I,f){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(I,f,p=!1){const D=wr(I),te=Is(D,f),St=yield new $l(D,te,p).execute();return St&&!p&&(delete St.user._redirectEventId,yield D._persistUserIfCurrent(St.user),yield D._setRedirectUser(null,f)),St})).apply(this,arguments)}function Mu(I){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(I){const f=Ho(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class pa{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(f,D)&&(p=!0,this.sendToConsumer(f,D),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Oh(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ed(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var D;if(f.error&&!Ed(f)){const te=(null===(D=f.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(ut(this.auth,te))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const D=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&D}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(f))}saveEventToCache(f){this.cachedEventUids.add(vs(f)),this.lastProcessedEventTime=Date.now()}}function vs(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function Ed({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===(null==f?void 0:f.code)}function nl(I){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(I,f={}){return Oe(I,"GET","/v1/projects",f)})).apply(this,arguments)}const wd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rl=/^https?/;function jl(){return(jl=(0,a.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield nl(I);for(const p of f)try{if(Yo(p))return}catch(D){}oe(I,"unauthorized-domain")})).apply(this,arguments)}function Yo(I){const f=qe(),{protocol:p,hostname:D}=new URL(f);if(I.startsWith("chrome-extension://")){const St=new URL(I);return""===St.hostname&&""===D?"chrome-extension:"===p&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&St.hostname===D}if(!rl.test(p))return!1;if(wd.test(I))return D===I;const te=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+te+"|"+te+")$","i").test(D)}const ga=new dt(3e4,6e4);function Cc(){const I=_i().___jsl;if(null==I?void 0:I.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let il=null;function Ks(I){return il=il||function Id(I){return new Promise((f,p)=>{var D,te,Se;function St(){Cc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Cc(),p(ut(I,"network-request-failed"))},timeout:ga.get()})}if(null===(te=null===(D=_i().gapi)||void 0===D?void 0:D.iframes)||void 0===te?void 0:te.Iframe)f(gapi.iframes.getContext());else{if(!(null===(Se=_i().gapi)||void 0===Se?void 0:Se.load)){const un=Hr("iframefcb");return _i()[un]=()=>{gapi.load?St():p(ut(I,"network-request-failed"))},Nn(`https://apis.google.com/js/api.js?onload=${un}`).catch(ir=>p(ir))}St()}}).catch(f=>{throw il=null,f})}(I),il}const Ou=new dt(5e3,15e3),sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cd(I){const f=I.config;He(f.authDomain,I,"auth-domain-config-required");const p=f.emulator?ze(f,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,D={apiKey:f.apiKey,appName:I.name,v:U.SDK_VERSION},te=Tc.get(I.config.apiHost);te&&(D.eid=te);const Se=I._getFrameworks();return Se.length&&(D.fw=Se.join(",")),`${p}?${(0,b.xO)(D).slice(1)}`}function ka(){return ka=(0,a.Z)(function*(I){const f=yield Ks(I),p=_i().gapi;return He(p,I,"internal-error"),f.open({where:document.body,url:Cd(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sl,dontclear:!0},D=>new Promise(function(){var te=(0,a.Z)(function*(Se,St){yield D.restyle({setHideOnLeave:!1});const un=ut(I,"network-request-failed"),ir=_i().setTimeout(()=>{St(un)},Ou.get());function vr(){_i().clearTimeout(ir),Se(D)}D.ping(vr).then(vr,()=>{St(un)})});return function(Se,St){return te.apply(this,arguments)}}()))}),ka.apply(this,arguments)}const yo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ul(I,f,p,D,te,Se){He(I.config.authDomain,I,"auth-domain-config-required"),He(I.config.apiKey,I,"invalid-api-key");const St={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:D,v:U.SDK_VERSION,eventId:te};if(f instanceof hi){f.setDefaultLanguage(I.languageCode),St.providerId=f.providerId||"",(0,b.xb)(f.getCustomParameters())||(St.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ir,vr]of Object.entries(Se||{}))St[ir]=vr}if(f instanceof zi){const ir=f.getScopes().filter(vr=>""!==vr);ir.length>0&&(St.scopes=ir.join(","))}I.tenantId&&(St.tid=I.tenantId);const un=St;for(const ir of Object.keys(un))void 0===un[ir]&&delete un[ir];return`${function Rc({config:I}){return I.emulator?ze(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,b.xO)(un).slice(1)}`}const uu="webStorageSupport",Dd=class Nh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jo,this._completeRedirectFn=mo}_openPopup(f,p,D,te){var Se=this;return(0,a.Z)(function*(){var St;ve(null===(St=Se.eventManagers[f._key()])||void 0===St?void 0:St.manager,"_initialize() not called before _openPopup()");const un=ul(f,p,D,qe(),te);return function kh(I,f,p,D=500,te=600){const Se=Math.max((window.screen.availHeight-te)/2,0).toString(),St=Math.max((window.screen.availWidth-D)/2,0).toString();let un="";const ir=Object.assign(Object.assign({},yo),{width:D.toString(),height:te.toString(),top:Se,left:St}),vr=(0,b.z$)().toLowerCase();p&&(un=We(vr)?"_blank":p),Ee(vr)&&(f=f||"http://localhost",ir.scrollbars="yes");const zr=Object.entries(ir).reduce((as,[Ko,ku])=>`${as}${Ko}=${ku},`,"");if(function er(I=(0,b.z$)()){var f;return Jn(I)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(vr)&&"_self"!==un)return function al(I,f){const p=document.createElement("a");p.href=I,p.target=f;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(f||"",un),new Hl(null);const Jr=window.open(f||"",un,zr);He(Jr,I,"popup-blocked");try{Jr.focus()}catch(as){}return new Hl(Jr)}(f,un,Ho())})()}_openRedirect(f,p,D,te){var Se=this;return(0,a.Z)(function*(){return yield Se._originValidation(f),function eu(I){_i().location.href=I}(ul(f,p,D,qe(),te)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:te,promise:Se}=this.eventManagers[p];return te?Promise.resolve(te):(ve(Se,"If manager is not set, promise should be"),Se)}const D=this.initAndGetManager(f);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(f){var p=this;return(0,a.Z)(function*(){const D=yield function Sc(I){return ka.apply(this,arguments)}(f),te=new pa(f);return D.register("authEvent",Se=>(He(null==Se?void 0:Se.authEvent,f,"invalid-auth-event"),{status:te.onEvent(Se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:te},p.iframes[f._key()]=D,te})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(uu,{type:uu},te=>{var Se;const St=null===(Se=null==te?void 0:te[0])||void 0===Se?void 0:Se[uu];void 0!==St&&p(!!St),oe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ph(I){return jl.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Rr()||Ae()||Jn()}};class Na extends class Td{constructor(f){this.factorId=f}_process(f,p,D){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,D);case"signin":return this._finalizeSignIn(f,p.credential);default:return wt("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Na(f)}_finalizeEnroll(f,p,D){return function Li(I,f){return Oe(I,"POST","/v2/accounts/mfaEnrollment:finalize",je(I,f))}(f,{idToken:p,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function ue(I,f){return Oe(I,"POST","/v2/accounts/mfaSignIn:finalize",je(I,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lu=(()=>{class I{constructor(){}static assertion(p){return Na._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var Zo="@firebase/auth",vo="0.19.11";class Sd{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,a.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(D=>{var te;f((null===(te=D)||void 0===te?void 0:te.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Fh(I){(0,U._registerComponent)(new K.wA("auth",(f,{options:p})=>{const D=f.getProvider("app").getImmediate(),te=f.getProvider("heartbeat"),{apiKey:Se,authDomain:St}=D.options;return((un,ir)=>{He(Se&&!Se.includes(":"),"invalid-api-key",{appName:un.name}),He(!(null==St?void 0:St.includes(":")),"argument-error",{appName:un.name});const vr={apiKey:Se,authDomain:St,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yr(I)},zr=new Wr(un,ir,vr);return function De(I,f){const p=(null==f?void 0:f.persistence)||[],D=(Array.isArray(p)?p:[p]).map(me);(null==f?void 0:f.errorMap)&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(D,null==f?void 0:f.popupRedirectResolver)}(zr,p),zr})(D,te)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,D)=>{f.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new K.wA("auth-internal",f=>{const p=wr(f.getProvider("auth").getImmediate());return new Sd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Zo,vo,function ll(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,U.registerVersion)(Zo,vo,"esm2017")}("Browser")},6961:(an,ct,M)=>{"use strict";M.d(ct,{bm:()=>Yn,UJ:()=>Lt,gE:()=>Te,FN:()=>Lr,$Y:()=>en,IX:()=>ii,qm:()=>Zn,g6:()=>fs,gH:()=>He,y4:()=>ve,a1:()=>yi,oq:()=>Pi,Jt:()=>mi,sd:()=>As,cF:()=>ds,pb:()=>hi,aF:()=>zi,iH:()=>wi,Ym:()=>Oi,B0:()=>Ei});var a=M(5861),b=M(9681),U=M(2090),Ce=M(4859);const Ie="firebasestorage.googleapis.com",K="storageBucket";class pe extends U.ZR{constructor(q,Me){super(X(q),`Firebase Storage: ${Me} (${X(q)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pe.prototype)}_codeEquals(q){return X(q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(q){this.customData.serverResponse=q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function X(Y){return"storage/"+Y}function J(){return new pe("unknown","An unknown error occurred, please check the error payload for server response.")}function ye(){return new pe("canceled","User canceled the upload/download.")}function ke(){return new pe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function He(Y){return new pe("invalid-argument",Y)}function wt(){return new pe("app-deleted","The Firebase app was deleted.")}function ve(Y){return new pe("invalid-root-operation","The operation '"+Y+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ve(Y,q){return new pe("invalid-format","String does not match format '"+Y+"': "+q)}function me(Y){throw new pe("internal-error","Internal error: "+Y)}class Te{constructor(q,Me){this.bucket=q,this.path_=Me}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const q=encodeURIComponent;return"/b/"+q(this.bucket)+"/o/"+q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(q,Me){let Ze;try{Ze=Te.makeFromUrl(q,Me)}catch(yt){return new Te(q,"")}if(""===Ze.path)return Ze;throw function oe(Y){return new pe("invalid-default-bucket","Invalid default bucket '"+Y+"'.")}(q)}static makeFromUrl(q,Me){let Ze=null;const yt="([A-Za-z0-9.\\-_]+)",Tn=new RegExp("^gs://"+yt+"(/(.*))?$","i");function ur(ce){ce.path_=decodeURIComponent(ce.path)}const Ur=Me.replace(/[.]/g,"\\."),N=[{regex:Tn,indices:{bucket:1,path:3},postModify:function Ot(ce){"/"===ce.path.charAt(ce.path.length-1)&&(ce.path_=ce.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ur}/v[A-Za-z0-9_]+/b/${yt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ur},{regex:new RegExp(`^https?://${Me===Ie?"(?:storage.googleapis.com|storage.cloud.google.com)":Me}/${yt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ur}];for(let ce=0;ce<N.length;ce++){const Ge=N[ce],Pt=Ge.regex.exec(q);if(Pt){let Wn=Pt[Ge.indices.path];Wn||(Wn=""),Ze=new Te(Pt[Ge.indices.bucket],Wn),Ge.postModify(Ze);break}}if(null==Ze)throw function ot(Y){return new pe("invalid-url","Invalid URL '"+Y+"'.")}(q);return Ze}}class De{constructor(q){this.promise_=Promise.reject(q)}getPromise(){return this.promise_}cancel(q=!1){}}function dt(Y){return"string"==typeof Y||Y instanceof String}function ze(Y){return lt()&&Y instanceof Blob}function lt(){return"undefined"!=typeof Blob}function gt(Y,q,Me,Ze){if(Ze<q)throw He(`Invalid value for '${Y}'. Expected ${q} or greater.`);if(Ze>Me)throw He(`Invalid value for '${Y}'. Expected ${Me} or less.`)}function et(Y,q,Me){let Ze=q;return null==Me&&(Ze=`https://${q}`),`${Me}://${Ze}/v0${Y}`}function je(Y){const q=encodeURIComponent;let Me="?";for(const Ze in Y)Y.hasOwnProperty(Ze)&&(Me=Me+(q(Ze)+"=")+q(Y[Ze])+"&");return Me=Me.slice(0,-1),Me}var Oe=(()=>{return(Y=Oe||(Oe={}))[Y.NO_ERROR=0]="NO_ERROR",Y[Y.NETWORK_ERROR=1]="NETWORK_ERROR",Y[Y.ABORT=2]="ABORT",Oe;var Y})();class Dt{constructor(q,Me,Ze,yt,Ot,rn,Tn,fn,ur,Ir,Ur){this.url_=q,this.method_=Me,this.headers_=Ze,this.body_=yt,this.successCodes_=Ot,this.additionalRetryCodes_=rn,this.callback_=Tn,this.errorCallback_=fn,this.timeout_=ur,this.progressCallback_=Ir,this.connectionFactory_=Ur,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,Q)=>{this.resolve_=k,this.reject_=Q,this.start_()})}start_(){const Me=(Ze,yt)=>{const Ot=this.resolve_,rn=this.reject_,Tn=yt.connection;if(yt.wasSuccessCode)try{const fn=this.callback_(Tn,Tn.getResponse());!function tn(Y){return void 0!==Y}(fn)?Ot():Ot(fn)}catch(fn){rn(fn)}else if(null!==Tn){const fn=J();fn.serverResponse=Tn.getErrorText(),rn(this.errorCallback_?this.errorCallback_(Tn,fn):fn)}else rn(yt.canceled?this.appDelete_?wt():ye():function Pe(){return new pe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?Me(0,new Gt(!1,null,!0)):this.backoffId_=function qe(Y,q,Me){let Ze=1,yt=null,Ot=null,rn=!1,Tn=0;function fn(){return 2===Tn}let ur=!1;function Ir(...Fe){ur||(ur=!0,q.apply(null,Fe))}function Ur(Fe){yt=setTimeout(()=>{yt=null,Y(Q,fn())},Fe)}function k(){Ot&&clearTimeout(Ot)}function Q(Fe,...P){if(ur)return void k();if(Fe)return k(),void Ir.call(null,Fe,...P);if(fn()||rn)return k(),void Ir.call(null,Fe,...P);let N;Ze<64&&(Ze*=2),1===Tn?(Tn=2,N=0):N=1e3*(Ze+Math.random()),Ur(N)}let B=!1;function ae(Fe){B||(B=!0,k(),!ur&&(null!==yt?(Fe||(Tn=2),clearTimeout(yt),Ur(0)):Fe||(Tn=1)))}return Ur(0),Ot=setTimeout(()=>{rn=!0,ae(!0)},Me),ae}((Ze,yt)=>{if(yt)return void Ze(!1,new Gt(!1,null,!0));const Ot=this.connectionFactory_();this.pendingConnection_=Ot;const rn=Tn=>{null!==this.progressCallback_&&this.progressCallback_(Tn.loaded,Tn.lengthComputable?Tn.total:-1)};null!==this.progressCallback_&&Ot.addUploadProgressListener(rn),Ot.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ot.removeUploadProgressListener(rn),this.pendingConnection_=null;const Tn=Ot.getErrorCode()===Oe.NO_ERROR,fn=Ot.getStatus();if(!Tn||this.isRetryStatusCode_(fn)){const Ir=Ot.getErrorCode()===Oe.ABORT;return void Ze(!1,new Gt(!1,null,Ir))}const ur=-1!==this.successCodes_.indexOf(fn);Ze(!0,new Gt(ur,Ot))})},Me,this.timeout_)}getPromise(){return this.promise_}cancel(q){this.canceled_=!0,this.appDelete_=q||!1,null!==this.backoffId_&&function qt(Y){Y(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(q){const Me=q>=500&&q<600,yt=-1!==[408,429].indexOf(q),Ot=-1!==this.additionalRetryCodes_.indexOf(q);return Me||yt||Ot}}class Gt{constructor(q,Me,Ze){this.wasSuccessCode=q,this.connection=Me,this.canceled=!!Ze}}function Ft(...Y){const q=function jn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==q){const Me=new q;for(let Ze=0;Ze<Y.length;Ze++)Me.append(Y[Ze]);return Me.getBlob()}if(lt())return new Blob(Y);throw new pe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Yn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gn{constructor(q,Me){this.data=q,this.contentType=Me||null}}function Zn(Y,q){switch(Y){case Yn.RAW:return new Gn(mn(q));case Yn.BASE64:case Yn.BASE64URL:return new Gn(Ke(Y,q));case Yn.DATA_URL:return new Gn(function jt(Y){const q=new Ye(Y);return q.base64?Ke(Yn.BASE64,q.rest):function At(Y){let q;try{q=decodeURIComponent(Y)}catch(Me){throw Ve(Yn.DATA_URL,"Malformed data URL.")}return mn(q)}(q.rest)}(q),function xt(Y){return new Ye(Y).contentType}(q))}throw J()}function mn(Y){const q=[];for(let Me=0;Me<Y.length;Me++){let Ze=Y.charCodeAt(Me);Ze<=127?q.push(Ze):Ze<=2047?q.push(192|Ze>>6,128|63&Ze):55296==(64512&Ze)?Me<Y.length-1&&56320==(64512&Y.charCodeAt(Me+1))?(Ze=65536|(1023&Ze)<<10|1023&Y.charCodeAt(++Me),q.push(240|Ze>>18,128|Ze>>12&63,128|Ze>>6&63,128|63&Ze)):q.push(239,191,189):56320==(64512&Ze)?q.push(239,191,189):q.push(224|Ze>>12,128|Ze>>6&63,128|63&Ze)}return new Uint8Array(q)}function Ke(Y,q){switch(Y){case Yn.BASE64:{const yt=-1!==q.indexOf("-"),Ot=-1!==q.indexOf("_");if(yt||Ot)throw Ve(Y,"Invalid character '"+(yt?"-":"_")+"' found: is it base64url encoded?");break}case Yn.BASE64URL:{const yt=-1!==q.indexOf("+"),Ot=-1!==q.indexOf("/");if(yt||Ot)throw Ve(Y,"Invalid character '"+(yt?"+":"/")+"' found: is it base64 encoded?");q=q.replace(/-/g,"+").replace(/_/g,"/");break}}let Me;try{Me=function nr(Y){return atob(Y)}(q)}catch(yt){throw Ve(Y,"Invalid character found")}const Ze=new Uint8Array(Me.length);for(let yt=0;yt<Me.length;yt++)Ze[yt]=Me.charCodeAt(yt);return Ze}class Ye{constructor(q){this.base64=!1,this.contentType=null;const Me=q.match(/^data:([^,]+)?,/);if(null===Me)throw Ve(Yn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ze=Me[1]||null;null!=Ze&&(this.base64=function Ut(Y,q){return Y.length>=q.length&&Y.substring(Y.length-q.length)===q}(Ze,";base64"),this.contentType=this.base64?Ze.substring(0,Ze.length-7):Ze),this.rest=q.substring(q.indexOf(",")+1)}}class Lt{constructor(q,Me){let Ze=0,yt="";ze(q)?(this.data_=q,Ze=q.size,yt=q.type):q instanceof ArrayBuffer?(Me?this.data_=new Uint8Array(q):(this.data_=new Uint8Array(q.byteLength),this.data_.set(new Uint8Array(q))),Ze=this.data_.length):q instanceof Uint8Array&&(Me?this.data_=q:(this.data_=new Uint8Array(q.length),this.data_.set(q)),Ze=q.length),this.size_=Ze,this.type_=yt}size(){return this.size_}type(){return this.type_}slice(q,Me){if(ze(this.data_)){const yt=function Pn(Y,q,Me){return Y.webkitSlice?Y.webkitSlice(q,Me):Y.mozSlice?Y.mozSlice(q,Me):Y.slice?Y.slice(q,Me):null}(this.data_,q,Me);return null===yt?null:new Lt(yt)}{const Ze=new Uint8Array(this.data_.buffer,q,Me-q);return new Lt(Ze,!0)}}static getBlob(...q){if(lt()){const Me=q.map(Ze=>Ze instanceof Lt?Ze.data_:Ze);return new Lt(Ft.apply(null,Me))}{const Me=q.map(rn=>dt(rn)?Zn(Yn.RAW,rn).data:rn.data_);let Ze=0;Me.forEach(rn=>{Ze+=rn.byteLength});const yt=new Uint8Array(Ze);let Ot=0;return Me.forEach(rn=>{for(let Tn=0;Tn<rn.length;Tn++)yt[Ot++]=rn[Tn]}),new Lt(yt,!0)}}uploadData(){return this.data_}}function ar(Y){let q;try{q=JSON.parse(Y)}catch(Me){return null}return function pt(Y){return"object"==typeof Y&&!Array.isArray(Y)}(q)?q:null}function Fr(Y){const q=Y.lastIndexOf("/",Y.length-2);return-1===q?Y:Y.slice(q+1)}function fr(Y,q){return q}class Vn{constructor(q,Me,Ze,yt){this.server=q,this.local=Me||q,this.writable=!!Ze,this.xform=yt||fr}}let In=null;function Kn(){if(In)return In;const Y=[];Y.push(new Vn("bucket")),Y.push(new Vn("generation")),Y.push(new Vn("metageneration")),Y.push(new Vn("name","fullPath",!0));const Me=new Vn("name");Me.xform=function q(Ot,rn){return function Mn(Y){return!dt(Y)||Y.length<2?Y:Fr(Y)}(rn)},Y.push(Me);const yt=new Vn("size");return yt.xform=function Ze(Ot,rn){return void 0!==rn?Number(rn):rn},Y.push(yt),Y.push(new Vn("timeCreated")),Y.push(new Vn("updated")),Y.push(new Vn("md5Hash",null,!0)),Y.push(new Vn("cacheControl",null,!0)),Y.push(new Vn("contentDisposition",null,!0)),Y.push(new Vn("contentEncoding",null,!0)),Y.push(new Vn("contentLanguage",null,!0)),Y.push(new Vn("contentType",null,!0)),Y.push(new Vn("metadata","customMetadata",!0)),In=Y,In}function Xt(Y,q,Me){const Ze=ar(q);return null===Ze?null:function Ct(Y,q,Me){const Ze={type:"file"},yt=Me.length;for(let Ot=0;Ot<yt;Ot++){const rn=Me[Ot];Ze[rn.local]=rn.xform(Ze,q[rn.server])}return function cn(Y,q){Object.defineProperty(Y,"ref",{get:function Me(){const Ot=new Te(Y.bucket,Y.fullPath);return q._makeStorageReference(Ot)}})}(Ze,Y),Ze}(Y,Ze,Me)}function _n(Y,q){const Me={},Ze=q.length;for(let yt=0;yt<Ze;yt++){const Ot=q[yt];Ot.writable&&(Me[Ot.server]=Y[Ot.local])}return JSON.stringify(Me)}const Un="prefixes";class It{constructor(q,Me,Ze,yt){this.url=q,this.method=Me,this.handler=Ze,this.timeout=yt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ge(Y){if(!Y)throw J()}function Ee(Y,q){return function Me(Ze,yt){const Ot=Xt(Y,yt,q);return ge(null!==Ot),Ot}}function Zt(Y){return function q(Me,Ze){let yt;return yt=401===Me.getStatus()?Me.getErrorText().includes("Firebase App Check token is invalid")?function Xe(){return new pe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ne(){return new pe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Me.getStatus()?function Z(Y){return new pe("quota-exceeded","Quota for bucket '"+Y+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Y.bucket):403===Me.getStatus()?function fe(Y){return new pe("unauthorized","User does not have permission to access '"+Y+"'.")}(Y.path):Ze,yt.serverResponse=Ze.serverResponse,yt}}function bn(Y){const q=Zt(Y);return function Me(Ze,yt){let Ot=q(Ze,yt);return 404===Ze.getStatus()&&(Ot=function se(Y){return new pe("object-not-found","Object '"+Y+"' does not exist.")}(Y.path)),Ot.serverResponse=yt.serverResponse,Ot}}function Xn(Y,q,Me){const yt=et(q.fullServerUrl(),Y.host,Y._protocol),rn=Y.maxOperationRetryTime,Tn=new It(yt,"GET",Ee(Y,Me),rn);return Tn.errorHandler=bn(q),Tn}function En(Y,q,Me,Ze,yt){const Ot={};Ot.prefix=q.isRoot?"":q.path+"/",Me&&Me.length>0&&(Ot.delimiter=Me),Ze&&(Ot.pageToken=Ze),yt&&(Ot.maxResults=yt);const Tn=et(q.bucketOnlyServerUrl(),Y.host,Y._protocol),ur=Y.maxOperationRetryTime,Ir=new It(Tn,"GET",function Ae(Y,q){return function Me(Ze,yt){const Ot=function Je(Y,q,Me){const Ze=ar(Me);return null===Ze?null:function we(Y,q,Me){const Ze={prefixes:[],items:[],nextPageToken:Me.nextPageToken};if(Me[Un])for(const yt of Me[Un]){const Ot=yt.replace(/\/$/,""),rn=Y._makeStorageReference(new Te(q,Ot));Ze.prefixes.push(rn)}if(Me.items)for(const yt of Me.items){const Ot=Y._makeStorageReference(new Te(q,yt.name));Ze.items.push(Ot)}return Ze}(Y,q,Ze)}(Y,q,yt);return ge(null!==Ot),Ot}}(Y,q.bucket),ur);return Ir.urlParams=Ot,Ir.errorHandler=Zt(q),Ir}function Or(Y,q,Me){const Ze=Object.assign({},Me);return Ze.fullPath=Y.path,Ze.size=q.size(),Ze.contentType||(Ze.contentType=function Rr(Y,q){return Y&&Y.contentType||q&&q.type()||"application/octet-stream"}(null,q)),Ze}class Wr{constructor(q,Me,Ze,yt){this.current=q,this.total=Me,this.finalized=!!Ze,this.metadata=yt||null}}function wr(Y,q){let Me=null;try{Me=Y.getResponseHeader("X-Goog-Upload-Status")}catch(yt){ge(!1)}return ge(!!Me&&-1!==(q||["active"]).indexOf(Me)),Me}const Lr={STATE_CHANGED:"state_changed"},en={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kn(Y){switch(Y){case"running":case"pausing":case"canceling":return en.RUNNING;case"paused":return en.PAUSED;case"success":return en.SUCCESS;case"canceled":return en.CANCELED;default:return en.ERROR}}class _r{constructor(q,Me,Ze){if(function bt(Y){return"function"==typeof Y}(q)||null!=Me||null!=Ze)this.next=q,this.error=null!=Me?Me:void 0,this.complete=null!=Ze?Ze:void 0;else{const Ot=q;this.next=Ot.next,this.error=Ot.error,this.complete=Ot.complete}}}function dr(Y){return(...q)=>{Promise.resolve().then(()=>Y(...q))}}class si extends class Br{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oe.NO_ERROR,this.sendPromise_=new Promise(q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oe.ABORT,q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oe.NETWORK_ERROR,q()}),this.xhr_.addEventListener("load",()=>{q()})})}send(q,Me,Ze,yt){if(this.sent_)throw me("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Me,q,!0),void 0!==yt)for(const Ot in yt)yt.hasOwnProperty(Ot)&&this.xhr_.setRequestHeader(Ot,yt[Ot].toString());return void 0!==Ze?this.xhr_.send(Ze):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw me("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw me("cannot .getStatus() before sending");try{return this.xhr_.status}catch(q){return-1}}getResponse(){if(!this.sent_)throw me("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw me("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(q){return this.xhr_.getResponseHeader(q)}addUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",q)}removeUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",q)}}{initXhr(){this.xhr_.responseType="text"}}function Hn(){return new si}class ii{constructor(q,Me,Ze=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=q,this._blob=Me,this._metadata=Ze,this._mappings=Kn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=yt=>{this._request=void 0,this._chunkMultiplier=1,yt._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=yt,this._transition("error"))},this._metadataErrorHandler=yt=>{this._request=void 0,yt._codeEquals("canceled")?this.completeTransitions_():(this._error=yt,this._transition("error"))},this._promise=new Promise((yt,Ot)=>{this._resolve=yt,this._reject=Ot,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const q=this._transferred;return Me=>this._updateProgress(q+Me)}_shouldDoResumable(q){return q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Me,Ze])=>{switch(this._state){case"running":q(Me,Ze);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((q,Me)=>{const Ze=function rr(Y,q,Me,Ze,yt){const Ot=q.bucketOnlyServerUrl(),rn=Or(q,Ze,yt),Tn={name:rn.fullPath},fn=et(Ot,Y.host,Y._protocol),Ir={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ze.size()}`,"X-Goog-Upload-Header-Content-Type":rn.contentType,"Content-Type":"application/json; charset=utf-8"},Ur=_n(rn,Me),B=new It(fn,"POST",function Q(ae){let Fe;wr(ae);try{Fe=ae.getResponseHeader("X-Goog-Upload-URL")}catch(P){ge(!1)}return ge(dt(Fe)),Fe},Y.maxUploadRetryTime);return B.urlParams=Tn,B.headers=Ir,B.body=Ur,B.errorHandler=Zt(q),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),yt=this._ref.storage._makeRequest(Ze,Hn,q,Me);this._request=yt,yt.getPromise().then(Ot=>{this._request=void 0,this._uploadUrl=Ot,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const q=this._uploadUrl;this._resolveToken((Me,Ze)=>{const yt=function mr(Y,q,Me,Ze){const fn=new It(Me,"POST",function Ot(ur){const Ir=wr(ur,["active","final"]);let Ur=null;try{Ur=ur.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Q){ge(!1)}Ur||ge(!1);const k=Number(Ur);return ge(!isNaN(k)),new Wr(k,Ze.size(),"final"===Ir)},Y.maxUploadRetryTime);return fn.headers={"X-Goog-Upload-Command":"query"},fn.errorHandler=Zt(q),fn}(this._ref.storage,this._ref._location,q,this._blob),Ot=this._ref.storage._makeRequest(yt,Hn,Me,Ze);this._request=Ot,Ot.getPromise().then(rn=>{rn=rn,this._request=void 0,this._updateProgress(rn.current),this._needToFetchStatus=!1,rn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const q=262144*this._chunkMultiplier,Me=new Wr(this._transferred,this._blob.size()),Ze=this._uploadUrl;this._resolveToken((yt,Ot)=>{let rn;try{rn=function Pr(Y,q,Me,Ze,yt,Ot,rn,Tn){const fn=new Wr(0,0);if(rn?(fn.current=rn.current,fn.total=rn.total):(fn.current=0,fn.total=Ze.size()),Ze.size()!==fn.total)throw function at(){return new pe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const ur=fn.total-fn.current;let Ir=ur;yt>0&&(Ir=Math.min(Ir,yt));const Ur=fn.current,B={"X-Goog-Upload-Command":Ir===ur?"upload, finalize":"upload","X-Goog-Upload-Offset":`${fn.current}`},ae=Ze.slice(Ur,Ur+Ir);if(null===ae)throw ke();const N=new It(Me,"POST",function Fe(ce,Ge){const Pt=wr(ce,["active","final"]),zt=fn.current+Ir,Wn=Ze.size();let Sn;return Sn="final"===Pt?Ee(q,Ot)(ce,Ge):null,new Wr(zt,Wn,"final"===Pt,Sn)},q.maxUploadRetryTime);return N.headers=B,N.body=ae.uploadData(),N.progressCallback=Tn||null,N.errorHandler=Zt(Y),N}(this._ref._location,this._ref.storage,Ze,this._blob,q,this._mappings,Me,this._makeProgressCallback())}catch(fn){return this._error=fn,void this._transition("error")}const Tn=this._ref.storage._makeRequest(rn,Hn,yt,Ot);this._request=Tn,Tn.getPromise().then(fn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(fn.current),fn.finalized?(this._metadata=fn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((q,Me)=>{const Ze=Xn(this._ref.storage,this._ref._location,this._mappings),yt=this._ref.storage._makeRequest(Ze,Hn,q,Me);this._request=yt,yt.getPromise().then(Ot=>{this._request=void 0,this._metadata=Ot,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((q,Me)=>{const Ze=function Yr(Y,q,Me,Ze,yt){const Ot=q.bucketOnlyServerUrl(),rn={"X-Goog-Upload-Protocol":"multipart"},fn=function Tn(){let N="";for(let ce=0;ce<2;ce++)N+=Math.random().toString().slice(2);return N}();rn["Content-Type"]="multipart/related; boundary="+fn;const ur=Or(q,Ze,yt),Ir=_n(ur,Me),Q=Lt.getBlob("--"+fn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ir+"\r\n--"+fn+"\r\nContent-Type: "+ur.contentType+"\r\n\r\n",Ze,"\r\n--"+fn+"--");if(null===Q)throw ke();const B={name:ur.fullPath},ae=et(Ot,Y.host,Y._protocol),P=Y.maxUploadRetryTime,$=new It(ae,"POST",Ee(Y,Me),P);return $.urlParams=B,$.headers=rn,$.body=Q.uploadData(),$.errorHandler=Zt(q),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),yt=this._ref.storage._makeRequest(Ze,Hn,q,Me);this._request=yt,yt.getPromise().then(Ot=>{this._request=void 0,this._metadata=Ot,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(q){const Me=this._transferred;this._transferred=q,this._transferred!==Me&&this._notifyObservers()}_transition(q){if(this._state!==q)switch(q){case"canceling":case"pausing":this._state=q,void 0!==this._request&&this._request.cancel();break;case"running":const Me="paused"===this._state;this._state=q,Me&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=q,this._notifyObservers();break;case"canceled":this._error=ye(),this._state=q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const q=kn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:q,metadata:this._metadata,task:this,ref:this._ref}}on(q,Me,Ze,yt){const Ot=new _r(Me||void 0,Ze||void 0,yt||void 0);return this._addObserver(Ot),()=>{this._removeObserver(Ot)}}then(q,Me){return this._promise.then(q,Me)}catch(q){return this.then(null,q)}_addObserver(q){this._observers.push(q),this._notifyObserver(q)}_removeObserver(q){const Me=this._observers.indexOf(q);-1!==Me&&this._observers.splice(Me,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Me=>{this._notifyObserver(Me)})}_finishPromise(){if(void 0!==this._resolve){let q=!0;switch(kn(this._state)){case en.SUCCESS:dr(this._resolve.bind(null,this.snapshot))();break;case en.CANCELED:case en.ERROR:dr(this._reject.bind(null,this._error))();break;default:q=!1}q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(q){switch(kn(this._state)){case en.RUNNING:case en.PAUSED:q.next&&dr(q.next.bind(q,this.snapshot))();break;case en.SUCCESS:q.complete&&dr(q.complete.bind(q))();break;default:q.error&&dr(q.error.bind(q,this._error))()}}resume(){const q="paused"===this._state||"pausing"===this._state;return q&&this._transition("running"),q}pause(){const q="running"===this._state;return q&&this._transition("pausing"),q}cancel(){const q="running"===this._state||"pausing"===this._state;return q&&this._transition("canceling"),q}}class ee{constructor(q,Me){this._service=q,this._location=Me instanceof Te?Me:Te.makeFromUrl(Me,q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(q,Me){return new ee(q,Me)}get root(){const q=new Te(this._location.bucket,"");return this._newRef(this._service,q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fr(this._location.path)}get storage(){return this._service}get parent(){const q=function qn(Y){if(0===Y.length)return null;const q=Y.lastIndexOf("/");return-1===q?"":Y.slice(0,q)}(this._location.path);if(null===q)return null;const Me=new Te(this._location.bucket,q);return new ee(this._service,Me)}_throwIfRoot(q){if(""===this._location.path)throw ve(q)}}function Nt(Y,q,Me){return kt.apply(this,arguments)}function kt(){return(kt=(0,a.Z)(function*(Y,q,Me){const yt=yield $t(Y,{pageToken:Me});q.prefixes.push(...yt.prefixes),q.items.push(...yt.items),null!=yt.nextPageToken&&(yield Nt(Y,q,yt.nextPageToken))})).apply(this,arguments)}function $t(Y,q){null!=q&&"number"==typeof q.maxResults&&gt("options.maxResults",1,1e3,q.maxResults);const Me=q||{},Ze=En(Y.storage,Y._location,"/",Me.pageToken,Me.maxResults);return Y.storage.makeRequestWithTokens(Ze,Hn)}function Bn(Y){Y._throwIfRoot("getDownloadURL");const q=function Rn(Y,q,Me){const yt=et(q.fullServerUrl(),Y.host,Y._protocol),rn=Y.maxOperationRetryTime,Tn=new It(yt,"GET",function We(Y,q){return function Me(Ze,yt){const Ot=Xt(Y,yt,q);return ge(null!==Ot),function Cn(Y,q,Me,Ze){const yt=ar(q);if(null===yt||!dt(yt.downloadTokens))return null;const Ot=yt.downloadTokens;if(0===Ot.length)return null;const rn=encodeURIComponent;return Ot.split(",").map(ur=>{const Ur=Y.fullPath;return et("/b/"+rn(Y.bucket)+"/o/"+rn(Ur),Me,Ze)+je({alt:"media",token:ur})})[0]}(Ot,yt,Y.host,Y._protocol)}}(Y,Me),rn);return Tn.errorHandler=bn(q),Tn}(Y.storage,Y._location,Kn());return Y.storage.makeRequestWithTokens(q,Hn).then(Me=>{if(null===Me)throw function _t(){return new pe("no-download-url","The given file does not have any download URLs.")}();return Me})}function Vr(Y,q){const Me=function on(Y,q){const Me=q.split("/").filter(Ze=>Ze.length>0).join("/");return 0===Y.length?Me:Y+"/"+Me}(Y._location.path,q),Ze=new Te(Y._location.bucket,Me);return new ee(Y.storage,Ze)}function tt(Y,q){if(Y instanceof Dn){const Me=Y;if(null==Me._bucket)throw function ut(){return new pe("no-default-bucket","No default bucket found. Did you set the '"+K+"' property when initializing the app?")}();const Ze=new ee(Me,Me._bucket);return null!=q?tt(Ze,q):Ze}return void 0!==q?Vr(Y,q):Y}function mt(Y,q){if(q&&function qr(Y){return/^[A-Za-z]+:\/\//.test(Y)}(q)){if(Y instanceof Dn)return function rt(Y,q){return new ee(Y,q)}(Y,q);throw He("To use ref(service, url), the first argument must be a Storage instance.")}return tt(Y,q)}function Bt(Y,q){const Me=null==q?void 0:q[K];return null==Me?null:Te.makeFromBucketSpec(Me,Y)}class Dn{constructor(q,Me,Ze,yt,Ot){this.app=q,this._authProvider=Me,this._appCheckProvider=Ze,this._url=yt,this._firebaseVersion=Ot,this._bucket=null,this._host=Ie,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=yt?Te.makeFromBucketSpec(yt,this._host):Bt(this._host,this.app.options)}get host(){return this._host}set host(q){this._host=q,this._bucket=null!=this._url?Te.makeFromBucketSpec(this._url,q):Bt(q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(q){gt("time",0,Number.POSITIVE_INFINITY,q),this._maxUploadRetryTime=q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(q){gt("time",0,Number.POSITIVE_INFINITY,q),this._maxOperationRetryTime=q}_getAuthToken(){var q=this;return(0,a.Z)(function*(){if(q._overrideAuthToken)return q._overrideAuthToken;const Me=q._authProvider.getImmediate({optional:!0});if(Me){const Ze=yield Me.getToken();if(null!==Ze)return Ze.accessToken}return null})()}_getAppCheckToken(){var q=this;return(0,a.Z)(function*(){const Me=q._appCheckProvider.getImmediate({optional:!0});return Me?(yield Me.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(q=>q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(q){return new ee(this,q)}_makeRequest(q,Me,Ze,yt){if(this._deleted)return new De(wt());{const Ot=function vn(Y,q,Me,Ze,yt,Ot){const rn=je(Y.urlParams),Tn=Y.url+rn,fn=Object.assign({},Y.headers);return function pn(Y,q){q&&(Y["X-Firebase-GMPID"]=q)}(fn,q),function Yt(Y,q){null!==q&&q.length>0&&(Y.Authorization="Firebase "+q)}(fn,Me),function ln(Y,q){Y["X-Firebase-Storage-Version"]="webjs/"+(null!=q?q:"AppManager")}(fn,Ot),function or(Y,q){null!==q&&(Y["X-Firebase-AppCheck"]=q)}(fn,Ze),new Dt(Tn,Y.method,fn,Y.body,Y.successCodes,Y.additionalRetryCodes,Y.handler,Y.errorHandler,Y.timeout,Y.progressCallback,yt)}(q,this._appId,Ze,yt,Me,this._firebaseVersion);return this._requests.add(Ot),Ot.getPromise().then(()=>this._requests.delete(Ot),()=>this._requests.delete(Ot)),Ot}}makeRequestWithTokens(q,Me){var Ze=this;return(0,a.Z)(function*(){const[yt,Ot]=yield Promise.all([Ze._getAuthToken(),Ze._getAppCheckToken()]);return Ze._makeRequest(q,Me,yt,Ot).getPromise()})()}}const xr="@firebase/storage",br="storage";function Ei(Y,q,Me){return function Qe(Y,q,Me){return Y._throwIfRoot("uploadBytesResumable"),new ii(Y,new Lt(q),Me)}(Y=(0,U.m9)(Y),q,Me)}function As(Y){return function yn(Y){Y._throwIfRoot("getMetadata");const q=Xn(Y.storage,Y._location,Kn());return Y.storage.makeRequestWithTokens(q,Hn)}(Y=(0,U.m9)(Y))}function Oi(Y,q){return function On(Y,q){Y._throwIfRoot("updateMetadata");const Me=function er(Y,q,Me,Ze){const Ot=et(q.fullServerUrl(),Y.host,Y._protocol),Tn=_n(Me,Ze),ur=Y.maxOperationRetryTime,Ir=new It(Ot,"PATCH",Ee(Y,Ze),ur);return Ir.headers={"Content-Type":"application/json; charset=utf-8"},Ir.body=Tn,Ir.errorHandler=bn(q),Ir}(Y.storage,Y._location,q,Kn());return Y.storage.makeRequestWithTokens(Me,Hn)}(Y=(0,U.m9)(Y),q)}function hi(Y,q){return $t(Y=(0,U.m9)(Y),q)}function zi(Y){return function vt(Y){const q={prefixes:[],items:[]};return Nt(Y,q).then(()=>q)}(Y=(0,U.m9)(Y))}function mi(Y){return Bn(Y=(0,U.m9)(Y))}function Pi(Y){return function cr(Y){Y._throwIfRoot("deleteObject");const q=function tr(Y,q){const Ze=et(q.fullServerUrl(),Y.host,Y._protocol),Tn=new It(Ze,"DELETE",function rn(fn,ur){},Y.maxOperationRetryTime);return Tn.successCodes=[200,204],Tn.errorHandler=bn(q),Tn}(Y.storage,Y._location);return Y.storage.makeRequestWithTokens(q,Hn)}(Y=(0,U.m9)(Y))}function wi(Y,q){return mt(Y=(0,U.m9)(Y),q)}function fs(Y,q){return Vr(Y,q)}function ds(Y=(0,b.getApp)(),q){return Y=(0,U.m9)(Y),(0,b._getProvider)(Y,br).getImmediate({identifier:q})}function yi(Y,q,Me,Ze={}){!function nn(Y,q,Me,Ze={}){Y.host=`${q}:${Me}`,Y._protocol="http";const{mockUserToken:yt}=Ze;yt&&(Y._overrideAuthToken="string"==typeof yt?yt:(0,U.Sg)(yt,Y.app.options.projectId))}(Y,q,Me,Ze)}function vi(Y,{instanceIdentifier:q}){const Me=Y.getProvider("app").getImmediate(),Ze=Y.getProvider("auth-internal"),yt=Y.getProvider("app-check-internal");return new Dn(Me,Ze,yt,q,b.SDK_VERSION)}!function gs(){(0,b._registerComponent)(new Ce.wA(br,vi,"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(xr,"0.9.4",""),(0,b.registerVersion)(xr,"0.9.4","esm2017")}()},2090:(an,ct,M)=>{"use strict";M.d(ct,{BH:()=>Ne,LL:()=>qt,ZR:()=>qe,zI:()=>me,US:()=>he,tV:()=>X,L:()=>pe,$s:()=>Fr,r3:()=>Oe,Sg:()=>Xe,ne:()=>Pn,vZ:()=>ln,ZB:()=>se,Lj:()=>_n,pd:()=>jn,m9:()=>In,z$:()=>fe,jU:()=>ot,ru:()=>oe,d:()=>ke,xb:()=>Gt,w1:()=>at,hl:()=>ve,uI:()=>Pe,UG:()=>ye,b$:()=>ut,G6:()=>wt,Mn:()=>_t,X3:()=>Cn,xO:()=>or,zd:()=>vn,eu:()=>Ve});var a=M(5861);const Ie=function(Le){const we=[];let Je=0;for(let It=0;It<Le.length;It++){let ge=Le.charCodeAt(It);ge<128?we[Je++]=ge:ge<2048?(we[Je++]=ge>>6|192,we[Je++]=63&ge|128):55296==(64512&ge)&&It+1<Le.length&&56320==(64512&Le.charCodeAt(It+1))?(ge=65536+((1023&ge)<<10)+(1023&Le.charCodeAt(++It)),we[Je++]=ge>>18|240,we[Je++]=ge>>12&63|128,we[Je++]=ge>>6&63|128,we[Je++]=63&ge|128):(we[Je++]=ge>>12|224,we[Je++]=ge>>6&63|128,we[Je++]=63&ge|128)}return we},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Le,we){if(!Array.isArray(Le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Je=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,It=[];for(let ge=0;ge<Le.length;ge+=3){const Ee=Le[ge],Ae=ge+1<Le.length,We=Ae?Le[ge+1]:0,Zt=ge+2<Le.length,bn=Zt?Le[ge+2]:0;let Jn=(15&We)<<2|bn>>6,Rn=63&bn;Zt||(Rn=64,Ae||(Jn=64)),It.push(Je[Ee>>2],Je[(3&Ee)<<4|We>>4],Je[Jn],Je[Rn])}return It.join("")},encodeString(Le,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Le):this.encodeByteArray(Ie(Le),we)},decodeString(Le,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Le):function(Le){const we=[];let Je=0,It=0;for(;Je<Le.length;){const ge=Le[Je++];if(ge<128)we[It++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const Ee=Le[Je++];we[It++]=String.fromCharCode((31&ge)<<6|63&Ee)}else if(ge>239&&ge<365){const Zt=((7&ge)<<18|(63&Le[Je++])<<12|(63&Le[Je++])<<6|63&Le[Je++])-65536;we[It++]=String.fromCharCode(55296+(Zt>>10)),we[It++]=String.fromCharCode(56320+(1023&Zt))}else{const Ee=Le[Je++],Ae=Le[Je++];we[It++]=String.fromCharCode((15&ge)<<12|(63&Ee)<<6|63&Ae)}}return we.join("")}(this.decodeStringToByteArray(Le,we))},decodeStringToByteArray(Le,we){this.init_();const Je=we?this.charToByteMapWebSafe_:this.charToByteMap_,It=[];for(let ge=0;ge<Le.length;){const Ee=Je[Le.charAt(ge++)],We=ge<Le.length?Je[Le.charAt(ge)]:0;++ge;const bn=ge<Le.length?Je[Le.charAt(ge)]:64;++ge;const En=ge<Le.length?Je[Le.charAt(ge)]:64;if(++ge,null==Ee||null==We||null==bn||null==En)throw Error();It.push(Ee<<2|We>>4),64!==bn&&(It.push(We<<4&240|bn>>2),64!==En&&It.push(bn<<6&192|En))}return It},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Le=0;Le<this.ENCODED_VALS.length;Le++)this.byteToCharMap_[Le]=this.ENCODED_VALS.charAt(Le),this.charToByteMap_[this.byteToCharMap_[Le]]=Le,this.byteToCharMapWebSafe_[Le]=this.ENCODED_VALS_WEBSAFE.charAt(Le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Le]]=Le,Le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Le)]=Le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Le)]=Le)}}},pe=function(Le){return function(Le){const we=Ie(Le);return he.encodeByteArray(we,!0)}(Le).replace(/\./g,"")},X=function(Le){try{return he.decodeString(Le,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function se(Le,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Le&&(Le={});break;case Array:Le=[];break;default:return we}for(const Je in we)!we.hasOwnProperty(Je)||!Z(Je)||(Le[Je]=se(Le[Je],we[Je]));return Le}function Z(Le){return"__proto__"!==Le}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,Je)=>{this.resolve=we,this.reject=Je})}wrapCallback(we){return(Je,It)=>{Je?this.reject(Je):this.resolve(It),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(Je):we(Je,It))}}}function Xe(Le,we){if(Le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const It=we||"demo-project",ge=Le.iat||0,Ee=Le.sub||Le.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ae=Object.assign({iss:`https://securetoken.google.com/${It}`,aud:It,iat:ge,exp:ge+3600,auth_time:ge,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},Le);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Ae)),""].join(".")}function fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Le){return!1}}function ot(){return"object"==typeof self&&self.self===self}function oe(){const Le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Le&&void 0!==Le.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return fe().indexOf("Electron/")>=0}function at(){const Le=fe();return Le.indexOf("MSIE ")>=0||Le.indexOf("Trident/")>=0}function _t(){return fe().indexOf("MSAppHost/")>=0}function wt(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ve(){return"object"==typeof indexedDB}function Ve(){return new Promise((Le,we)=>{try{let Je=!0;const It="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(It);ge.onsuccess=()=>{ge.result.close(),Je||self.indexedDB.deleteDatabase(It),Le(!0)},ge.onupgradeneeded=()=>{Je=!1},ge.onerror=()=>{var Ee;we((null===(Ee=ge.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(Je){we(Je)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class qe extends Error{constructor(we,Je,It){super(Je),this.code=we,this.customData=It,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(we,Je,It){this.service=we,this.serviceName=Je,this.errors=It}create(we,...Je){const It=Je[0]||{},ge=`${this.service}/${we}`,Ee=this.errors[we],Ae=Ee?function tn(Le,we){return Le.replace(bt,(Je,It)=>{const ge=we[It];return null!=ge?String(ge):`<${It}?>`})}(Ee,It):"Error";return new qe(ge,`${this.serviceName}: ${Ae} (${ge}).`,It)}}const bt=/\{\$([^}]+)}/g;function Oe(Le,we){return Object.prototype.hasOwnProperty.call(Le,we)}function Gt(Le){for(const we in Le)if(Object.prototype.hasOwnProperty.call(Le,we))return!1;return!0}function ln(Le,we){if(Le===we)return!0;const Je=Object.keys(Le),It=Object.keys(we);for(const ge of Je){if(!It.includes(ge))return!1;const Ee=Le[ge],Ae=we[ge];if(pn(Ee)&&pn(Ae)){if(!ln(Ee,Ae))return!1}else if(Ee!==Ae)return!1}for(const ge of It)if(!Je.includes(ge))return!1;return!0}function pn(Le){return null!==Le&&"object"==typeof Le}function or(Le){const we=[];for(const[Je,It]of Object.entries(Le))Array.isArray(It)?It.forEach(ge=>{we.push(encodeURIComponent(Je)+"="+encodeURIComponent(ge))}):we.push(encodeURIComponent(Je)+"="+encodeURIComponent(It));return we.length?"&"+we.join("&"):""}function vn(Le){const we={};return Le.replace(/^\?/,"").split("&").forEach(It=>{if(It){const[ge,Ee]=It.split("=");we[decodeURIComponent(ge)]=decodeURIComponent(Ee)}}),we}function jn(Le){const we=Le.indexOf("?");if(!we)return"";const Je=Le.indexOf("#",we);return Le.substring(we,Je>0?Je:void 0)}function Pn(Le,we){const Je=new nr(Le,we);return Je.subscribe.bind(Je)}class nr{constructor(we,Je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Je,this.task.then(()=>{we(this)}).catch(It=>{this.error(It)})}next(we){this.forEachObserver(Je=>{Je.next(we)})}error(we){this.forEachObserver(Je=>{Je.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,Je,It){let ge;if(void 0===we&&void 0===Je&&void 0===It)throw new Error("Missing Observer.");ge=function Gn(Le,we){if("object"!=typeof Le||null===Le)return!1;for(const Je of we)if(Je in Le&&"function"==typeof Le[Je])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:Je,complete:It},void 0===ge.next&&(ge.next=Zn),void 0===ge.error&&(ge.error=Zn),void 0===ge.complete&&(ge.complete=Zn);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch(Ae){}}),this.observers.push(ge),Ee}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let Je=0;Je<this.observers.length;Je++)this.sendOne(Je,we)}sendOne(we,Je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{Je(this.observers[we])}catch(It){"undefined"!=typeof console&&console.error&&console.error(It)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}function Fr(Le,we=1e3,Je=2){const It=we*Math.pow(Je,Le),ge=Math.round(.5*It*(Math.random()-.5)*2);return Math.min(144e5,It+ge)}function In(Le){return Le&&Le._delegate?Le._delegate:Le}function Mn(Le,we){return new Promise((Je,It)=>{Le.onsuccess=ge=>{Je(ge.target.result)},Le.onerror=ge=>{var Ee;It(`${we}: ${null===(Ee=ge.target.error)||void 0===Ee?void 0:Ee.message}`)}})}class Kn{constructor(we){this._db=we,this.objectStoreNames=this._db.objectStoreNames}transaction(we,Je){return new cn(this._db.transaction.call(this._db,we,Je))}createObjectStore(we,Je){return new Ct(this._db.createObjectStore(we,Je))}close(){this._db.close()}}class cn{constructor(we){this._transaction=we,this.complete=new Promise((Je,It)=>{this._transaction.oncomplete=function(){Je()},this._transaction.onerror=()=>{It(this._transaction.error)},this._transaction.onabort=()=>{It(this._transaction.error)}})}objectStore(we){return new Ct(this._transaction.objectStore(we))}}class Ct{constructor(we){this._store=we}index(we){return new Xt(this._store.index(we))}createIndex(we,Je,It){return new Xt(this._store.createIndex(we,Je,It))}get(we){return Mn(this._store.get(we),"Error reading from IndexedDB")}put(we,Je){return Mn(this._store.put(we,Je),"Error writing to IndexedDB")}delete(we){return Mn(this._store.delete(we),"Error deleting from IndexedDB")}clear(){return Mn(this._store.clear(),"Error clearing IndexedDB object store")}}class Xt{constructor(we){this._index=we}get(we){return Mn(this._index.get(we),"Error reading from IndexedDB")}}function Cn(Le,we,Je){return new Promise((It,ge)=>{try{const Ee=indexedDB.open(Le,we);Ee.onsuccess=Ae=>{It(new Kn(Ae.target.result))},Ee.onerror=Ae=>{var We;ge(`Error opening indexedDB: ${null===(We=Ae.target.error)||void 0===We?void 0:We.message}`)},Ee.onupgradeneeded=Ae=>{Je(new Kn(Ee.result),Ae.oldVersion,Ae.newVersion,new cn(Ee.transaction))}}catch(Ee){ge(`Error opening indexedDB: ${Ee.message}`)}})}function _n(Le){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(Le){return new Promise((we,Je)=>{try{const It=indexedDB.deleteDatabase(Le);It.onsuccess=()=>{we()},It.onerror=ge=>{var Ee;Je(`Error deleting indexedDB database "${Le}": ${null===(Ee=ge.target.error)||void 0===Ee?void 0:Ee.message}`)}}catch(It){Je(`Error deleting indexedDB database "${Le}": ${It.message}`)}})})).apply(this,arguments)}},8962:(an,ct,M)=>{"use strict";M.d(ct,{Br:()=>Ur,dr:()=>Yn,YG:()=>jt,Sm:()=>xt,PM:()=>Ut,wI:()=>Vn,W2:()=>In,fr:()=>Xt,jY:()=>Cn,Gu:()=>_n,gu:()=>Un,Xz:()=>Le,pK:()=>It,Ie:()=>ge,Q$:()=>Xn,q_:()=>En,z0:()=>Rn,fG:()=>er,zc:()=>tr,jP:()=>ps,Nd:()=>_r,cJ:()=>ri,GO:()=>Br,t9:()=>si,n0:()=>Hn,jI:()=>ii,wd:()=>ht,sr:()=>Nt,Pc:()=>Sn,r4:()=>Pt,HT:()=>k,_q:()=>Q,IN:()=>ae,as:()=>Dt,t4:()=>zi,YI:()=>q,QI:()=>Yt,j9:()=>ln,yF:()=>P});var a=M(6435),b=M(4182),U=M(655),Ce=M(3753),Ie=M(8929),K=M(591),he=M(2589),J=(M(5797),M(6409),M(1363),M(8686)),se=M(206),Z=M(358),Ne=M(5970),Xe=M(3986),Pe=(M(2733),M(2361)),at=M(2198),_t=M(7545),He=M(5778),wt=M(9808);const Ve=J.i,De=["*"],dt=g=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(g):"function"==typeof requestAnimationFrame?requestAnimationFrame(g):setTimeout(g);let ze=(()=>{class g{constructor(m,V){this.injector=m,this.el=V,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(m){this.el.nativeElement.value=this.lastValue=null==m?"":m,lt(this.el)}handleChangeEvent(m,V){m===this.el.nativeElement&&(V!==this.lastValue&&(this.lastValue=V,this.onChange(V)),lt(this.el))}_handleBlurEvent(m){m===this.el.nativeElement&&(this.onTouched(),lt(this.el))}registerOnChange(m){this.onChange=m}registerOnTouched(m){this.onTouched=m}setDisabledState(m){this.el.nativeElement.disabled=m}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let m;try{m=this.injector.get(b.a5)}catch(de){}if(!m)return;m.statusChanges&&(this.statusChanges=m.statusChanges.subscribe(()=>lt(this.el)));const V=m.control;V&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(S=>{if(void 0!==V[S]){const A=V[S].bind(V);V[S]=(...T)=>{A(...T),lt(this.el)}}})}}return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.zs3),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,hostBindings:function(m,V){1&m&&a.NdJ("ionBlur",function(S){return V._handleBlurEvent(S.target)})}}),g})();const lt=g=>{dt(()=>{const L=g.nativeElement,m=gt(L);et(L,m);const V=L.closest("ion-item");V&&et(V,m)})},gt=g=>{const L=g.classList,m=[];for(let V=0;V<L.length;V++){const de=L.item(V);null!==de&&je(de,"ng-")&&m.push(`ion-${de.substr(3)}`)}return m},et=(g,L)=>{const m=g.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(V=>m.remove(V)),L.forEach(V=>m.add(V))},je=(g,L)=>g.substr(0,L.length)===L;let Dt=(()=>{class g extends ze{constructor(m,V){super(m,V)}_handleIonChange(m){this.handleChangeEvent(m,m.value)}registerOnChange(m){super.registerOnChange(V=>{m(""===V?null:parseFloat(V))})}}return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.zs3),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["ion-input","type","number"]],hostBindings:function(m,V){1&m&&a.NdJ("ionChange",function(S){return V._handleIonChange(S.target)})},features:[a._Bn([{provide:b.JU,useExisting:g,multi:!0}]),a.qOj]}),g})(),Yt=(()=>{class g extends ze{constructor(m,V){super(m,V)}_handleChangeEvent(m){this.handleChangeEvent(m,m.value)}}return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.zs3),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(m,V){1&m&&a.NdJ("ionChange",function(S){return V._handleChangeEvent(S.target)})},features:[a._Bn([{provide:b.JU,useExisting:g,multi:!0}]),a.qOj]}),g})(),ln=(()=>{class g extends ze{constructor(m,V){super(m,V)}_handleInputEvent(m){this.handleChangeEvent(m,m.value)}}return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.zs3),a.Y36(a.SBq))},g.\u0275dir=a.lG2({type:g,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(m,V){1&m&&a.NdJ("ionChange",function(S){return V._handleInputEvent(S.target)})},features:[a._Bn([{provide:b.JU,useExisting:g,multi:!0}]),a.qOj]}),g})();const pn=(g,L)=>{const m=g.prototype;L.forEach(V=>{Object.defineProperty(m,V,{get(){return this.el[V]},set(de){this.z.runOutsideAngular(()=>this.el[V]=de)}})})},or=(g,L)=>{const m=g.prototype;L.forEach(V=>{m[V]=function(){const de=arguments;return this.z.runOutsideAngular(()=>this.el[V].apply(this.el,de))}})},vn=(g,L,m)=>{m.forEach(V=>g[V]=(0,Ce.R)(L,V))};function Ft(g){return function(m){const{defineCustomElementFn:V,inputs:de,methods:S}=g;return void 0!==V&&V(),de&&pn(m,de),S&&or(m,S),m}}let Yn=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-app"]],ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0})],g),g})(),jt=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionFocus","ionBlur"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],g),g})(),xt=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["collapse"]})],g),g})(),Ut=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],g),g})(),Vn=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],g),g})(),In=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],g),g})(),Xt=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],g),g})(),Cn=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["fixed"]})],g),g})(),_n=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],g),g})(),Un=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],g),g})(),Le=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["alt","src"]})],g),g})(),It=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],g),g})(),ge=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],g),g})(),Xn=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],g),g})(),En=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],g),g})(),Rn=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],g),g})(),er=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],g),g})(),tr=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],g),g})(),_r=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-row"]],ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0})],g),g})(),ri=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionChange"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],g),g})(),Br=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],g),g})(),si=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],g),g})(),Hn=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["disabled","value"]})],g),g})(),ii=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement,vn(this,this.el,["ionSplitPaneVisible"])}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],g),g})(),ht=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","size"]})],g),g})(),Nt=(()=>{let g=class{constructor(m,V,de){this.z=de,m.detach(),this.el=V.nativeElement}};return g.\u0275fac=function(m){return new(m||g)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},g.\u0275cmp=a.Xpm({type:g,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:De,decls:1,vars:0,template:function(m,V){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),g=(0,U.gn)([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],g),g})();class kt{constructor(L={}){this.data=L}get(L){return this.data[L]}}let $t=(()=>{class g{constructor(m,V){this.zone=m,this.appRef=V}create(m,V,de){return new yn(m,V,de,this.appRef,this.zone)}}return g.\u0275fac=function(m){return new(m||g)(a.LFG(a.R0b),a.LFG(a.z2F))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})();class yn{constructor(L,m,V,de,S){this.resolver=L,this.injector=m,this.location=V,this.appRef=de,this.zone=S,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(L,m,V,de){return this.zone.run(()=>new Promise(S=>{S(On(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,L,m,V,de))}))}removeViewFromDom(L,m){return this.zone.run(()=>new Promise(V=>{const de=this.elRefMap.get(m);if(de){de.destroy(),this.elRefMap.delete(m);const S=this.elEventsMap.get(m);S&&(S(),this.elEventsMap.delete(m))}V()}))}}const On=(g,L,m,V,de,S,A,T,G,Tt,gn)=>{const Er=L.resolveComponentFactory(G),Zr=a.zs3.create({providers:qr(Tt),parent:m}),Ci=V?V.createComponent(Er,V.length,Zr):Er.create(Zr),Ai=Ci.instance,xi=Ci.location.nativeElement;if(Tt&&Object.assign(Ai,Tt),gn)for(const jr of gn)xi.classList.add(jr);const Kt=cr(g,Ai,xi);return T.appendChild(xi),V||de.attachView(Ci.hostView),Ci.changeDetectorRef.reattach(),S.set(xi,Ci),A.set(xi,Kt),xi},Bn=[Z.L,Z.a,Z.b,Z.c,Z.d],cr=(g,L,m)=>g.run(()=>{const V=Bn.filter(de=>"function"==typeof L[de]).map(de=>{const S=A=>L[de](A.detail);return m.addEventListener(de,S),()=>m.removeEventListener(de,S)});return()=>V.forEach(de=>de())}),Vr=new a.OlP("NavParamsToken"),qr=g=>[{provide:Vr,useValue:g},{provide:kt,useFactory:rt,deps:[Vr]}],rt=g=>new kt(g),mt=(g,L)=>((g=g.filter(m=>m.stackId!==L.stackId)).push(L),g),Dn=(g,L)=>{const m=g.createUrlTree(["."],{relativeTo:L});return g.serializeUrl(m)},$r=(g,L)=>{if(!g)return;const m=br(L);for(let V=0;V<m.length;V++){if(V>=g.length)return m[V];if(m[V]!==g[V])return}},br=g=>g.split("/").map(L=>L.trim()).filter(L=>""!==L),di=g=>{g&&(g.ref.destroy(),g.unlistenEvents())};class Ri{constructor(L,m,V,de,S,A){this.containerEl=m,this.router=V,this.navCtrl=de,this.zone=S,this.location=A,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==L?br(L):void 0}createView(L,m){var V;const de=Dn(this.router,m),S=null===(V=null==L?void 0:L.location)||void 0===V?void 0:V.nativeElement,A=cr(this.zone,L.instance,S);return{id:this.nextId++,stackId:$r(this.tabsPrefix,de),unlistenEvents:A,element:S,ref:L,url:de}}getExistingView(L){const m=Dn(this.router,L),V=this.views.find(de=>de.url===m);return V&&V.ref.changeDetectorRef.reattach(),V}setActive(L){var m,V;const de=this.navCtrl.consumeTransition();let{direction:S,animation:A,animationBuilder:T}=de;const G=this.activeView,Tt=((g,L)=>!L||g.stackId!==L.stackId)(L,G);Tt&&(S="back",A=void 0);const gn=this.views.slice();let Er;const Zr=this.router;Zr.getCurrentNavigation?Er=Zr.getCurrentNavigation():(null===(m=Zr.navigations)||void 0===m?void 0:m.value)&&(Er=Zr.navigations.value),(null===(V=null==Er?void 0:Er.extras)||void 0===V?void 0:V.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Ci=this.views.includes(L),Ai=this.insertView(L,S);Ci||L.ref.changeDetectorRef.detectChanges();const xi=L.animationBuilder;return void 0===T&&"back"===S&&!Tt&&void 0!==xi&&(T=xi),G&&(G.animationBuilder=T),this.zone.runOutsideAngular(()=>this.wait(()=>(G&&G.ref.changeDetectorRef.detach(),L.ref.changeDetectorRef.reattach(),this.transition(L,G,A,this.canGoBack(1),!1,T).then(()=>es(L,Ai,gn,this.location,this.zone)).then(()=>({enteringView:L,direction:S,animation:A,tabSwitch:Tt})))))}canGoBack(L,m=this.getActiveStackId()){return this.getStack(m).length>L}pop(L,m=this.getActiveStackId()){return this.zone.run(()=>{var V,de;const S=this.getStack(m);if(S.length<=L)return Promise.resolve(!1);const A=S[S.length-L-1];let T=A.url;const G=A.savedData;if(G){const gn=G.get("primary");(null===(de=null===(V=null==gn?void 0:gn.route)||void 0===V?void 0:V._routerState)||void 0===de?void 0:de.snapshot.url)&&(T=gn.route._routerState.snapshot.url)}const{animationBuilder:Tt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(T,Object.assign(Object.assign({},A.savedExtras),{animation:Tt})).then(()=>!0)})}startBackTransition(){const L=this.activeView;if(L){const m=this.getStack(L.stackId),V=m[m.length-2],de=V.animationBuilder;return this.wait(()=>this.transition(V,L,"back",this.canGoBack(2),!0,de))}return Promise.resolve()}endBackTransition(L){L?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ei(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(L){const m=this.getStack(L);return m.length>0?m[m.length-1]:void 0}getRootUrl(L){const m=this.getStack(L);return m.length>0?m[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(di),this.activeView=void 0,this.views=[]}getStack(L){return this.views.filter(m=>m.stackId===L)}insertView(L,m){return this.activeView=L,this.views=((g,L,m)=>"root"===m?mt(g,L):"forward"===m?((g,L)=>(g.indexOf(L)>=0?g=g.filter(V=>V.stackId!==L.stackId||V.id<=L.id):g.push(L),g))(g,L):((g,L)=>g.indexOf(L)>=0?g.filter(V=>V.stackId!==L.stackId||V.id<=L.id):mt(g,L))(g,L))(this.views,L,m),this.views.slice()}transition(L,m,V,de,S,A){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(m===L)return Promise.resolve(!1);const T=L?L.element:void 0,G=m?m.element:void 0,Tt=this.containerEl;return T&&T!==G&&(T.classList.add("ion-page"),T.classList.add("ion-page-invisible"),T.parentElement!==Tt&&Tt.appendChild(T),Tt.commit)?Tt.commit(T,G,{deepWait:!0,duration:void 0===V?0:void 0,direction:V,showGoBack:de,progressAnimation:S,animationBuilder:A}):Promise.resolve(!1)}wait(L){return(0,U.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const m=this.runningTask=L();return m.finally(()=>this.runningTask=void 0),m})}}const es=(g,L,m,V,de)=>"function"==typeof requestAnimationFrame?new Promise(S=>{requestAnimationFrame(()=>{Ei(g,L,m,V,de),S()})}):Promise.resolve(),Ei=(g,L,m,V,de)=>{de.run(()=>m.filter(S=>!L.includes(S)).forEach(di)),L.forEach(S=>{const T=V.path().split("?")[0].split("#")[0];if(S!==g&&S.url!==T){const G=S.element;G.setAttribute("aria-hidden","true"),G.classList.add("ion-page-hidden"),S.ref.changeDetectorRef.detach()}})};let As=(()=>{class g{get(m,V){const de=hi();return de?de.get(m,V):null}getBoolean(m,V){const de=hi();return!!de&&de.getBoolean(m,V)}getNumber(m,V){const de=hi();return de?de.getNumber(m,V):0}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Oi=new a.OlP("USERCONFIG"),hi=()=>{if("undefined"!=typeof window){const g=window.Ionic;if(null==g?void 0:g.config)return g.config}return null};let zi=(()=>{class g{constructor(m,V){this.doc=m,this.backButton=new Ie.xQ,this.keyboardDidShow=new Ie.xQ,this.keyboardDidHide=new Ie.xQ,this.pause=new Ie.xQ,this.resume=new Ie.xQ,this.resize=new Ie.xQ,V.run(()=>{var de;let S;this.win=m.defaultView,this.backButton.subscribeWithPriority=function(A,T){return this.subscribe(G=>G.register(A,Tt=>V.run(()=>T(Tt))))},Pi(this.pause,m,"pause"),Pi(this.resume,m,"resume"),Pi(this.backButton,m,"ionBackButton"),Pi(this.resize,this.win,"resize"),Pi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Pi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(A=>{S=A}),(null===(de=this.win)||void 0===de?void 0:de.cordova)?m.addEventListener("deviceready",()=>{S("cordova")},{once:!0}):S("dom")})}is(m){return(0,J.a)(this.win,m)}platforms(){return(0,J.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(m){return mi(this.win.location.href,m)}isLandscape(){return!this.isPortrait()}isPortrait(){var m,V;return null===(V=(m=this.win).matchMedia)||void 0===V?void 0:V.call(m,"(orientation: portrait)").matches}testUserAgent(m){const V=this.win.navigator;return!!((null==V?void 0:V.userAgent)&&V.userAgent.indexOf(m)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return g.\u0275fac=function(m){return new(m||g)(a.LFG(wt.K0),a.LFG(a.R0b))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const mi=(g,L)=>{L=L.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const V=new RegExp("[\\?&]"+L+"=([^&#]*)").exec(g);return V?decodeURIComponent(V[1].replace(/\+/g," ")):null},Pi=(g,L,m)=>{L&&L.addEventListener(m,V=>{g.next(null!=V?V.detail:void 0)})};let wi=(()=>{class g{constructor(m,V,de,S){this.location=V,this.serializer=de,this.router=S,this.direction=ds,this.animated=yi,this.guessDirection="forward",this.lastNavId=-1,S&&S.events.subscribe(A=>{if(A instanceof he.OD){const T=A.restoredState?A.restoredState.navigationId:A.id;this.guessDirection=T<this.lastNavId?"back":"forward",this.guessAnimation=A.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?A.id:T}}),m.backButton.subscribeWithPriority(0,A=>{this.pop(),A()})}navigateForward(m,V={}){return this.setDirection("forward",V.animated,V.animationDirection,V.animation),this.navigate(m,V)}navigateBack(m,V={}){return this.setDirection("back",V.animated,V.animationDirection,V.animation),this.navigate(m,V)}navigateRoot(m,V={}){return this.setDirection("root",V.animated,V.animationDirection,V.animation),this.navigate(m,V)}back(m={animated:!0,animationDirection:"back"}){return this.setDirection("back",m.animated,m.animationDirection,m.animation),this.location.back()}pop(){return(0,U.mG)(this,void 0,void 0,function*(){let m=this.topOutlet;for(;m&&!(yield m.pop());)m=m.parentOutlet})}setDirection(m,V,de,S){this.direction=m,this.animated=fs(m,V,de),this.animationBuilder=S}setTopOutlet(m){this.topOutlet=m}consumeTransition(){let V,m="root";const de=this.animationBuilder;return"auto"===this.direction?(m=this.guessDirection,V=this.guessAnimation):(V=this.animated,m=this.direction),this.direction=ds,this.animated=yi,this.animationBuilder=void 0,{direction:m,animation:V,animationBuilder:de}}navigate(m,V){if(Array.isArray(m))return this.router.navigate(m,V);{const de=this.serializer.parse(m.toString());return void 0!==V.queryParams&&(de.queryParams=Object.assign({},V.queryParams)),void 0!==V.fragment&&(de.fragment=V.fragment),this.router.navigateByUrl(de,V)}}}return g.\u0275fac=function(m){return new(m||g)(a.LFG(zi),a.LFG(wt.Ye),a.LFG(he.Hx),a.LFG(he.F0,8))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const fs=(g,L,m)=>{if(!1!==L){if(void 0!==m)return m;if("forward"===g||"back"===g)return g;if("root"===g&&!0===L)return"forward"}},ds="auto",yi=void 0;let ps=(()=>{class g{constructor(m,V,de,S,A,T,G,Tt,gn,Er,Zr,Ci,Ai){this.parentContexts=m,this.location=V,this.resolver=de,this.config=T,this.navCtrl=G,this.parentOutlet=Ai,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new K.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=gn.nativeElement,this.name=S||he.eC,this.tabsPrefix="true"===A?Dn(Er,Ci):void 0,this.stackCtrl=new Ri(this.tabsPrefix,this.nativeEl,Er,G,Zr,Tt),m.onChildOutletCreated(this.name,this)}set animation(m){this.nativeEl.animation=m}set animated(m){this.nativeEl.animated=m}set swipeGesture(m){this._swipeGesture=m,this.nativeEl.swipeHandler=m?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:V=>this.stackCtrl.endBackTransition(V)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const m=this.getContext();(null==m?void 0:m.route)&&this.activateWith(m.route,m.resolver||null)}new Promise(m=>(0,se.c)(this.nativeEl,m)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(m,V){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const V=this.getContext();this.activatedView.savedData=new Map(V.children.contexts);const de=this.activatedView.savedData.get("primary");if(de&&V.route&&(de.route=Object.assign({},V.route)),this.activatedView.savedExtras={},V.route){const S=V.route.snapshot;this.activatedView.savedExtras.queryParams=S.queryParams,this.activatedView.savedExtras.fragment=S.fragment}}const m=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=m;let de,S=this.stackCtrl.getExistingView(m);if(S){de=this.activated=S.ref;const A=S.savedData;A&&(this.getContext().children.contexts=A),this.updateActivatedRouteProxy(de.instance,m)}else{const G=(V=V||this.resolver).resolveComponentFactory(m._futureSnapshot.routeConfig.component),Tt=this.parentContexts.getOrCreateContext(this.name).children,gn=new K.X(null),Er=this.createActivatedRouteProxy(gn,m),Zr=new Ii(Er,Tt,this.location.injector);de=this.activated=this.location.createComponent(G,this.location.length,Zr),gn.next(de.instance),S=this.stackCtrl.createView(this.activated,m),this.proxyMap.set(de.instance,Er),this.currentActivatedRoute$.next({component:de.instance,activatedRoute:m})}this.activatedView=S,this.stackCtrl.setActive(S).then(A=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(de.instance),this.stackEvents.emit(A)})}canGoBack(m=1,V){return this.stackCtrl.canGoBack(m,V)}pop(m=1,V){return this.stackCtrl.pop(m,V)}getLastUrl(m){const V=this.stackCtrl.getLastUrl(m);return V?V.url:void 0}getLastRouteView(m){return this.stackCtrl.getLastUrl(m)}getRootView(m){return this.stackCtrl.getRootUrl(m)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(m,V){const de=new he.gz;return de._futureSnapshot=V._futureSnapshot,de._routerState=V._routerState,de.snapshot=V.snapshot,de.outlet=V.outlet,de.component=V.component,de._paramMap=this.proxyObservable(m,"paramMap"),de._queryParamMap=this.proxyObservable(m,"queryParamMap"),de.url=this.proxyObservable(m,"url"),de.params=this.proxyObservable(m,"params"),de.queryParams=this.proxyObservable(m,"queryParams"),de.fragment=this.proxyObservable(m,"fragment"),de.data=this.proxyObservable(m,"data"),de}proxyObservable(m,V){return m.pipe((0,at.h)(de=>!!de),(0,_t.w)(de=>this.currentActivatedRoute$.pipe((0,at.h)(S=>null!==S&&S.component===de),(0,_t.w)(S=>S&&S.activatedRoute[V]),(0,He.x)())))}updateActivatedRouteProxy(m,V){const de=this.proxyMap.get(m);if(!de)throw new Error("Could not find activated route proxy for view");de._futureSnapshot=V._futureSnapshot,de._routerState=V._routerState,de.snapshot=V.snapshot,de.outlet=V.outlet,de.component=V.component,this.currentActivatedRoute$.next({component:m,activatedRoute:V})}}return g.\u0275fac=function(m){return new(m||g)(a.Y36(he.y6),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.$8M("tabs"),a.Y36(As),a.Y36(wi),a.Y36(wt.Ye),a.Y36(a.SBq),a.Y36(he.F0),a.Y36(a.R0b),a.Y36(he.gz),a.Y36(g,12))},g.\u0275dir=a.lG2({type:g,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),g})();class Ii{constructor(L,m,V){this.route=L,this.childContexts=m,this.parent=V}get(L,m){return L===he.gz?this.route:L===he.y6?this.childContexts:this.parent.get(L,m)}}let q=(()=>{class g{constructor(m,V,de,S,A){this.locationStrategy=m,this.navCtrl=V,this.elementRef=de,this.router=S,this.routerLink=A,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var m;if(null===(m=this.routerLink)||void 0===m?void 0:m.urlTree){const V=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=V}}onClick(m){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),m.preventDefault()}}return g.\u0275fac=function(m){return new(m||g)(a.Y36(wt.S$),a.Y36(wi),a.Y36(a.SBq),a.Y36(he.F0),a.Y36(he.rH,8))},g.\u0275dir=a.lG2({type:g,selectors:[["","routerLink",""]],hostBindings:function(m,V){1&m&&a.NdJ("click",function(S){return V.onClick(S)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),g})();class ur{constructor(L){this.ctrl=L}create(L){return this.ctrl.create(L||{})}dismiss(L,m,V){return this.ctrl.dismiss(L,m,V)}getTop(){return this.ctrl.getTop()}}let Ur=(()=>{class g extends ur{constructor(){super(Xe.a)}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),k=(()=>{class g extends ur{constructor(){super(Xe.l)}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Q=(()=>{class g{open(m){return Ne.m.open(m)}close(m){return Ne.m.close(m)}toggle(m){return Ne.m.toggle(m)}enable(m,V){return Ne.m.enable(m,V)}swipeGesture(m,V){return Ne.m.swipeGesture(m,V)}isOpen(m){return Ne.m.isOpen(m)}isEnabled(m){return Ne.m.isEnabled(m)}get(m){return Ne.m.get(m)}getOpen(){return Ne.m.getOpen()}getMenus(){return Ne.m.getMenus()}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),ae=(()=>{class g extends ur{constructor(m,V,de){super(Xe.m),this.angularDelegate=m,this.resolver=V,this.injector=de}create(m){return super.create(Object.assign(Object.assign({},m),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return g.\u0275fac=function(m){return new(m||g)(a.LFG($t),a.LFG(a._Vd),a.LFG(a.zs3))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),Fe=(()=>{class g extends ur{constructor(m,V,de){super(Xe.c),this.angularDelegate=m,this.resolver=V,this.injector=de}create(m){return super.create(Object.assign(Object.assign({},m),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return g.\u0275fac=function(m){return new(m||g)(a.LFG($t),a.LFG(a._Vd),a.LFG(a.zs3))},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac}),g})(),P=(()=>{class g extends ur{constructor(){super(Xe.t)}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();class Pt{shouldDetach(L){return!1}shouldAttach(L){return!1}store(L,m){}retrieve(L){return null}shouldReuseRoute(L,m){if(L.routeConfig!==m.routeConfig)return!1;const V=L.params,de=m.params,S=Object.keys(V),A=Object.keys(de);if(S.length!==A.length)return!1;for(const T of S)if(de[T]!==V[T])return!1;return!0}}const zt=(g,L,m)=>()=>{if(L.defaultView&&"undefined"!=typeof window){(g=>{const L=window,m=L.Ionic;m&&m.config&&"Object"!==m.config.constructor.name||(L.Ionic=L.Ionic||{},L.Ionic.config=Object.assign(Object.assign({},L.Ionic.config),g))})(Object.assign(Object.assign({},g),{_zoneGate:S=>m.run(S)}));const de="__zone_symbol__addEventListener"in L.body?"__zone_symbol__addEventListener":"addEventListener";return function ve(){var g=[];if("undefined"!=typeof window){var L=window;(!L.customElements||L.Element&&(!L.Element.prototype.closest||!L.Element.prototype.matches||!L.Element.prototype.remove||!L.Element.prototype.getRootNode))&&g.push(M.e(6748).then(M.t.bind(M,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||L.NodeList&&!L.NodeList.prototype.forEach||!L.fetch||!function(){try{var V=new URL("b","http://a");return V.pathname="c%20d","http://a/c%20d"===V.href&&V.searchParams}catch(de){return!1}}()||"undefined"==typeof WeakMap)&&g.push(M.e(2214).then(M.t.bind(M,4144,23)))}return Promise.all(g)}().then(()=>((g,L)=>"undefined"==typeof window?Promise.resolve():(0,Pe.p)().then(()=>(Ve(),(0,Pe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),L))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:dt,jmp:S=>m.runOutsideAngular(S),ael(S,A,T,G){S[de](A,T,G)},rel(S,A,T,G){S.removeEventListener(A,T,G)}}))}};let Sn=(()=>{class g{static forRoot(m){return{ngModule:g,providers:[{provide:Oi,useValue:m},{provide:a.ip1,useFactory:zt,multi:!0,deps:[Oi,wt.K0,a.R0b]}]}}}return g.\u0275fac=function(m){return new(m||g)},g.\u0275mod=a.oAB({type:g}),g.\u0275inj=a.cJS({providers:[$t,ae,Fe],imports:[[wt.ez]]}),g})()},6304:(an,ct,M)=>{"use strict";M.d(ct,{c:()=>Xe});var a=M(206);let b;const Ce=fe=>fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ie=fe=>{if(void 0===b){const ye=void 0!==fe.style.webkitAnimationName;b=void 0===fe.style.animationName&&ye?"-webkit-":""}return b},K=(fe,Pe,ye)=>{const ot=Pe.startsWith("animation")?Ie(fe):"";fe.style.setProperty(ot+Pe,ye)},he=(fe,Pe)=>{const ye=Pe.startsWith("animation")?Ie(fe):"";fe.style.removeProperty(ye+Pe)},X=[],Ne=(fe=[],Pe)=>{if(void 0!==Pe){const ye=Array.isArray(Pe)?Pe:[Pe];return[...fe,...ye]}return fe},Xe=fe=>{let Pe,ye,ot,oe,ut,ke,ve,bt,pt,dt,ze,je,Oe,at=[],_t=[],He=[],wt=!1,Ve={},me=[],Te=[],De={},qe=0,qt=!1,tn=!1,lt=!0,gt=!1,et=!0;const Dt=fe,Gt=[],Yt=[],ln=[],pn=[],or=[],vn=[],jn=[],Ft=[],Pn=[],nr=[],Yn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Gn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Yn,mn=()=>nr,jt=(ie,xe)=>((xe&&xe.oneTimeCallback?Yt:Gt).push({c:ie,o:xe}),Oe),Ut=()=>{if(Gn)nr.forEach(ie=>{ie.cancel()}),nr.length=0;else{const ie=ln.slice();(0,a.r)(()=>{ie.forEach(xe=>{he(xe,"animation-name"),he(xe,"animation-duration"),he(xe,"animation-timing-function"),he(xe,"animation-iteration-count"),he(xe,"animation-delay"),he(xe,"animation-play-state"),he(xe,"animation-fill-mode"),he(xe,"animation-direction")})})}},Lt=()=>{or.forEach(ie=>{ie&&ie.parentNode&&ie.parentNode.removeChild(ie)}),or.length=0},Cn=()=>void 0!==ut?ut:ve?ve.getFill():"both",_n=()=>void 0!==pt?pt:void 0!==ke?ke:ve?ve.getDirection():"normal",Un=()=>qt?"linear":void 0!==ot?ot:ve?ve.getEasing():"linear",Le=()=>tn?0:void 0!==dt?dt:void 0!==ye?ye:ve?ve.getDuration():0,we=()=>void 0!==oe?oe:ve?ve.getIterations():1,Je=()=>void 0!==ze?ze:void 0!==Pe?Pe:ve?ve.getDelay():0,Or=()=>{0!==qe&&(qe--,0===qe&&((()=>{Br(),Ft.forEach(vt=>vt()),Pn.forEach(vt=>vt());const ie=lt?1:0,xe=me,Qe=Te,ht=De;ln.forEach(vt=>{const Nt=vt.classList;xe.forEach(kt=>Nt.add(kt)),Qe.forEach(kt=>Nt.remove(kt));for(const kt in ht)ht.hasOwnProperty(kt)&&K(vt,kt,ht[kt])}),Gt.forEach(vt=>vt.c(ie,Oe)),Yt.forEach(vt=>vt.c(ie,Oe)),Yt.length=0,et=!0,lt&&(gt=!0),lt=!0})(),ve&&ve.animationFinish()))},Yr=(ie=!0)=>{Lt();const xe=(fe=>(fe.forEach(Pe=>{for(const ye in Pe)if(Pe.hasOwnProperty(ye)){const ot=Pe[ye];if("easing"===ye)Pe["animation-timing-function"]=ot,delete Pe[ye];else{const oe=Ce(ye);oe!==ye&&(Pe[oe]=ot,delete Pe[ye])}}}),fe))(at);ln.forEach(Qe=>{if(xe.length>0){const ht=((fe=[])=>fe.map(Pe=>{const ye=Pe.offset,ot=[];for(const oe in Pe)Pe.hasOwnProperty(oe)&&"offset"!==oe&&ot.push(`${oe}: ${Pe[oe]};`);return`${100*ye}% { ${ot.join(" ")} }`}).join(" "))(xe);je=void 0!==fe?fe:(fe=>{let Pe=X.indexOf(fe);return Pe<0&&(Pe=X.push(fe)-1),`ion-animation-${Pe}`})(ht);const vt=((fe,Pe,ye)=>{const ot=(fe=>{const Pe=fe.getRootNode();return Pe.head||Pe})(ye),oe=Ie(ye),ut=ot.querySelector("#"+fe);if(ut)return ut;const ke=(ye.ownerDocument||document).createElement("style");return ke.id=fe,ke.textContent=`@${oe}keyframes ${fe} { ${Pe} } @${oe}keyframes ${fe}-alt { ${Pe} }`,ot.appendChild(ke),ke})(je,ht,Qe);or.push(vt),K(Qe,"animation-duration",`${Le()}ms`),K(Qe,"animation-timing-function",Un()),K(Qe,"animation-delay",`${Je()}ms`),K(Qe,"animation-fill-mode",Cn()),K(Qe,"animation-direction",_n());const Nt=we()===1/0?"infinite":we().toString();K(Qe,"animation-iteration-count",Nt),K(Qe,"animation-play-state","paused"),ie&&K(Qe,"animation-name",`${vt.id}-alt`),(0,a.r)(()=>{K(Qe,"animation-name",vt.id||null)})}})},wr=(ie=!0)=>{(()=>{vn.forEach(ht=>ht()),jn.forEach(ht=>ht());const ie=_t,xe=He,Qe=Ve;ln.forEach(ht=>{const vt=ht.classList;ie.forEach(Nt=>vt.add(Nt)),xe.forEach(Nt=>vt.remove(Nt));for(const Nt in Qe)Qe.hasOwnProperty(Nt)&&K(ht,Nt,Qe[Nt])})})(),at.length>0&&(Gn?(ln.forEach(ie=>{const xe=ie.animate(at,{id:Dt,delay:Je(),duration:Le(),easing:Un(),iterations:we(),fill:Cn(),direction:_n()});xe.pause(),nr.push(xe)}),nr.length>0&&(nr[0].onfinish=()=>{Or()})):Yr(ie)),wt=!0},rr=ie=>{if(ie=Math.min(Math.max(ie,0),.9999),Gn)nr.forEach(xe=>{xe.currentTime=xe.effect.getComputedTiming().delay+Le()*ie,xe.pause()});else{const xe=`-${Le()*ie}ms`;ln.forEach(Qe=>{at.length>0&&(K(Qe,"animation-delay",xe),K(Qe,"animation-play-state","paused"))})}},mr=ie=>{nr.forEach(xe=>{xe.effect.updateTiming({delay:Je(),duration:Le(),easing:Un(),iterations:we(),fill:Cn(),direction:_n()})}),void 0!==ie&&rr(ie)},gr=(ie=!0,xe)=>{(0,a.r)(()=>{ln.forEach(Qe=>{K(Qe,"animation-name",je||null),K(Qe,"animation-duration",`${Le()}ms`),K(Qe,"animation-timing-function",Un()),K(Qe,"animation-delay",void 0!==xe?`-${xe*Le()}ms`:`${Je()}ms`),K(Qe,"animation-fill-mode",Cn()||null),K(Qe,"animation-direction",_n()||null);const ht=we()===1/0?"infinite":we().toString();K(Qe,"animation-iteration-count",ht),ie&&K(Qe,"animation-name",`${je}-alt`),(0,a.r)(()=>{K(Qe,"animation-name",je||null)})})})},Pr=(ie=!1,xe=!0,Qe)=>(ie&&pn.forEach(ht=>{ht.update(ie,xe,Qe)}),Gn?mr(Qe):gr(xe,Qe),Oe),_r=()=>{wt&&(Gn?nr.forEach(ie=>{ie.pause()}):ln.forEach(ie=>{K(ie,"animation-play-state","paused")}))},ri=()=>{bt=void 0,Or()},Br=()=>{bt&&clearTimeout(bt)},zn=ie=>new Promise(xe=>{ie&&ie.sync&&(tn=!0,jt(()=>tn=!1,{oneTimeCallback:!0})),wt||wr(),gt&&(Gn?(rr(0),mr()):gr(),gt=!1),et&&(qe=pn.length+1,et=!1),jt(()=>xe(),{oneTimeCallback:!0}),pn.forEach(Qe=>{Qe.play()}),Gn?(nr.forEach(ie=>{ie.play()}),(0===at.length||0===ln.length)&&Or()):(()=>{if(Br(),(0,a.r)(()=>{ln.forEach(ie=>{at.length>0&&K(ie,"animation-play-state","running")})}),0===at.length||0===ln.length)Or();else{const ie=Je()||0,xe=Le()||0,Qe=we()||1;isFinite(Qe)&&(bt=setTimeout(ri,ie+xe*Qe+100)),((fe,Pe)=>{let ye;const ot={passive:!0},ut=ke=>{fe===ke.target&&(ye&&ye(),Br(),(0,a.r)(()=>{ln.forEach(ie=>{he(ie,"animation-duration"),he(ie,"animation-delay"),he(ie,"animation-play-state")}),(0,a.r)(Or)}))};fe&&(fe.addEventListener("webkitAnimationEnd",ut,ot),fe.addEventListener("animationend",ut,ot),ye=()=>{fe.removeEventListener("webkitAnimationEnd",ut,ot),fe.removeEventListener("animationend",ut,ot)})})(ln[0])}})()}),ii=(ie,xe)=>{const Qe=at[0];return void 0===Qe||void 0!==Qe.offset&&0!==Qe.offset?at=[{offset:0,[ie]:xe},...at]:Qe[ie]=xe,Oe};return Oe={parentAnimation:ve,elements:ln,childAnimations:pn,id:Dt,animationFinish:Or,from:ii,to:(ie,xe)=>{const Qe=at[at.length-1];return void 0===Qe||void 0!==Qe.offset&&1!==Qe.offset?at=[...at,{offset:1,[ie]:xe}]:Qe[ie]=xe,Oe},fromTo:(ie,xe,Qe)=>ii(ie,xe).to(ie,Qe),parent:ie=>(ve=ie,Oe),play:zn,pause:()=>(pn.forEach(ie=>{ie.pause()}),_r(),Oe),stop:()=>{pn.forEach(ie=>{ie.stop()}),wt&&(Ut(),wt=!1),qt=!1,tn=!1,et=!0,pt=void 0,dt=void 0,ze=void 0,qe=0,gt=!1,lt=!0},destroy:ie=>(pn.forEach(xe=>{xe.destroy(ie)}),(ie=>{Ut(),ie&&Lt()})(ie),ln.length=0,pn.length=0,at.length=0,Gt.length=0,Yt.length=0,wt=!1,et=!0,Oe),keyframes:ie=>{const xe=at!==ie;return at=ie,xe&&(ie=>{Gn?mn().forEach(xe=>{if(xe.effect.setKeyframes)xe.effect.setKeyframes(ie);else{const Qe=new KeyframeEffect(xe.effect.target,ie,xe.effect.getTiming());xe.effect=Qe}}):Yr()})(at),Oe},addAnimation:ie=>{if(null!=ie)if(Array.isArray(ie))for(const xe of ie)xe.parent(Oe),pn.push(xe);else ie.parent(Oe),pn.push(ie);return Oe},addElement:ie=>{if(null!=ie)if(1===ie.nodeType)ln.push(ie);else if(ie.length>=0)for(let xe=0;xe<ie.length;xe++)ln.push(ie[xe]);else console.error("Invalid addElement value");return Oe},update:Pr,fill:ie=>(ut=ie,Pr(!0),Oe),direction:ie=>(ke=ie,Pr(!0),Oe),iterations:ie=>(oe=ie,Pr(!0),Oe),duration:ie=>(!Gn&&0===ie&&(ie=1),ye=ie,Pr(!0),Oe),easing:ie=>(ot=ie,Pr(!0),Oe),delay:ie=>(Pe=ie,Pr(!0),Oe),getWebAnimations:mn,getKeyframes:()=>at,getFill:Cn,getDirection:_n,getDelay:Je,getIterations:we,getEasing:Un,getDuration:Le,afterAddRead:ie=>(Ft.push(ie),Oe),afterAddWrite:ie=>(Pn.push(ie),Oe),afterClearStyles:(ie=[])=>{for(const xe of ie)De[xe]="";return Oe},afterStyles:(ie={})=>(De=ie,Oe),afterRemoveClass:ie=>(Te=Ne(Te,ie),Oe),afterAddClass:ie=>(me=Ne(me,ie),Oe),beforeAddRead:ie=>(vn.push(ie),Oe),beforeAddWrite:ie=>(jn.push(ie),Oe),beforeClearStyles:(ie=[])=>{for(const xe of ie)Ve[xe]="";return Oe},beforeStyles:(ie={})=>(Ve=ie,Oe),beforeRemoveClass:ie=>(He=Ne(He,ie),Oe),beforeAddClass:ie=>(_t=Ne(_t,ie),Oe),onFinish:jt,progressStart:(ie=!1,xe)=>(pn.forEach(Qe=>{Qe.progressStart(ie,xe)}),_r(),qt=ie,wt||wr(),Pr(!1,!0,xe),Oe),progressStep:ie=>(pn.forEach(xe=>{xe.progressStep(ie)}),rr(ie),Oe),progressEnd:(ie,xe,Qe)=>(qt=!1,pn.forEach(ht=>{ht.progressEnd(ie,xe,Qe)}),void 0!==Qe&&(dt=Qe),gt=!1,lt=!0,0===ie?(pt="reverse"===_n()?"normal":"reverse","reverse"===pt&&(lt=!1),Gn?(Pr(),rr(1-xe)):(ze=(1-xe)*Le()*-1,Pr(!1,!1))):1===ie&&(Gn?(Pr(),rr(xe)):(ze=xe*Le()*-1,Pr(!1,!1))),void 0!==ie&&(jt(()=>{dt=void 0,pt=void 0,ze=void 0},{oneTimeCallback:!0}),ve||zn()),Oe)}}},2733:(an,ct,M)=>{"use strict";M.d(ct,{G:()=>Ie});class b{constructor(he,_e,pe,X,J){this.id=_e,this.name=pe,this.disableScroll=J,this.priority=1e6*X+_e,this.ctrl=he}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const he=this.ctrl.capture(this.name,this.id,this.priority);return he&&this.disableScroll&&this.ctrl.disableScroll(this.id),he}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class U{constructor(he,_e,pe,X){this.id=_e,this.disable=pe,this.disableScroll=X,this.ctrl=he}block(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.disableGesture(he,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.enableGesture(he,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ce="backdrop-no-scroll",Ie=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(he){return new b(this,this.newID(),he.name,he.priority||0,!!he.disableScroll)}createBlocker(he={}){return new U(this,this.newID(),he.disable,!!he.disableScroll)}start(he,_e,pe){return this.canStart(he)?(this.requestedStart.set(_e,pe),!0):(this.requestedStart.delete(_e),!1)}capture(he,_e,pe){if(!this.start(he,_e,pe))return!1;const X=this.requestedStart;let J=-1e4;if(X.forEach(se=>{J=Math.max(J,se)}),J===pe){this.capturedId=_e,X.clear();const se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:he}});return document.dispatchEvent(se),!0}return X.delete(_e),!1}release(he){this.requestedStart.delete(he),this.capturedId===he&&(this.capturedId=void 0)}disableGesture(he,_e){let pe=this.disabledGestures.get(he);void 0===pe&&(pe=new Set,this.disabledGestures.set(he,pe)),pe.add(_e)}enableGesture(he,_e){const pe=this.disabledGestures.get(he);void 0!==pe&&pe.delete(_e)}disableScroll(he){this.disabledScroll.add(he),1===this.disabledScroll.size&&document.body.classList.add(Ce)}enableScroll(he){this.disabledScroll.delete(he),0===this.disabledScroll.size&&document.body.classList.remove(Ce)}canStart(he){return!(void 0!==this.capturedId||this.isDisabled(he))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(he){const _e=this.disabledGestures.get(he);return!!(_e&&_e.size>0)}newID(){return this.gestureId++,this.gestureId}}},527:(an,ct,M)=>{"use strict";M.r(ct),M.d(ct,{MENU_BACK_BUTTON_PRIORITY:()=>Ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ce,blockHardwareBackButton:()=>b,startHardwareBackButton:()=>U});var a=M(5861);const b=()=>{document.addEventListener("backbutton",()=>{})},U=()=>{const K=document;let he=!1;K.addEventListener("backbutton",()=>{if(he)return;let _e=0,pe=[];const X=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Z,Ne){pe.push({priority:Z,handler:Ne,id:_e++})}}});K.dispatchEvent(X);const J=function(){var Z=(0,a.Z)(function*(Ne){try{if(Ne&&Ne.handler){const Xe=Ne.handler(se);null!=Xe&&(yield Xe)}}catch(Xe){console.error(Xe)}});return function(Xe){return Z.apply(this,arguments)}}(),se=()=>{if(pe.length>0){let Z={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};pe.forEach(Ne=>{Ne.priority>=Z.priority&&(Z=Ne)}),he=!0,pe=pe.filter(Ne=>Ne.id!==Z.id),J(Z).then(()=>he=!1)}};se()})},Ce=100,Ie=99},206:(an,ct,M)=>{"use strict";M.d(ct,{a:()=>Ie,b:()=>K,c:()=>U,d:()=>se,e:()=>Z,f:()=>J,g:()=>he,h:()=>ot,i:()=>Ce,j:()=>X,k:()=>Ne,l:()=>pe,m:()=>Xe,n:()=>ye,o:()=>oe,p:()=>Pe,q:()=>fe,r:()=>_e,s:()=>ut,t:()=>a});const a=(ke,at=0)=>new Promise(_t=>{b(ke,at,_t)}),b=(ke,at=0,_t)=>{let He,wt;const ve={passive:!0},me=()=>{He&&He()},Te=De=>{(void 0===De||ke===De.target)&&(me(),_t(De))};return ke&&(ke.addEventListener("webkitTransitionEnd",Te,ve),ke.addEventListener("transitionend",Te,ve),wt=setTimeout(Te,at+500),He=()=>{wt&&(clearTimeout(wt),wt=void 0),ke.removeEventListener("webkitTransitionEnd",Te,ve),ke.removeEventListener("transitionend",Te,ve)}),me},U=(ke,at)=>{ke.componentOnReady?ke.componentOnReady().then(_t=>at(_t)):_e(()=>at(ke))},Ce=(ke,at=[])=>{const _t={};return at.forEach(He=>{ke.hasAttribute(He)&&(null!==ke.getAttribute(He)&&(_t[He]=ke.getAttribute(He)),ke.removeAttribute(He))}),_t},Ie=(ke,at,_t,He)=>{if("undefined"!=typeof window){const wt=window,ve=wt&&wt.Ionic&&wt.Ionic.config;if(ve){const Ve=ve.get("_ael");if(Ve)return Ve(ke,at,_t,He);if(ve._ael)return ve._ael(ke,at,_t,He)}}return ke.addEventListener(at,_t,He)},K=(ke,at,_t,He)=>{if("undefined"!=typeof window){const wt=window,ve=wt&&wt.Ionic&&wt.Ionic.config;if(ve){const Ve=ve.get("_rel");if(Ve)return Ve(ke,at,_t,He);if(ve._rel)return ve._rel(ke,at,_t,He)}}return ke.removeEventListener(at,_t,He)},he=(ke,at=ke)=>ke.shadowRoot||at,_e=ke=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):setTimeout(ke),pe=ke=>!!ke.shadowRoot&&!!ke.attachShadow,X=ke=>{const at=ke.closest("ion-item");return at?at.querySelector("ion-label"):null},J=ke=>{if(ke.focus(),ke.classList.contains("ion-focusable")){const at=ke.closest("ion-app");at&&at.setFocus([ke])}},se=(ke,at)=>{let _t;const He=ke.getAttribute("aria-labelledby"),wt=ke.id;let ve=null!==He&&""!==He.trim()?He:at+"-lbl",Ve=null!==He&&""!==He.trim()?document.getElementById(He):X(ke);return Ve?(null===He&&(Ve.id=ve),_t=Ve.textContent,Ve.setAttribute("aria-hidden","true")):""!==wt.trim()&&(Ve=document.querySelector(`label[for="${wt}"]`),Ve&&(""!==Ve.id?ve=Ve.id:Ve.id=ve=`${wt}-lbl`,_t=Ve.textContent)),{label:Ve,labelId:ve,labelText:_t}},Z=(ke,at,_t,He,wt)=>{if(ke||pe(at)){let ve=at.querySelector("input.aux-input");ve||(ve=at.ownerDocument.createElement("input"),ve.type="hidden",ve.classList.add("aux-input"),at.appendChild(ve)),ve.disabled=wt,ve.name=_t,ve.value=He||""}},Ne=(ke,at,_t)=>Math.max(ke,Math.min(at,_t)),Xe=(ke,at)=>{if(!ke){const _t="ASSERT: "+at;throw console.error(_t),new Error(_t)}},fe=ke=>ke.timeStamp||Date.now(),Pe=ke=>{if(ke){const at=ke.changedTouches;if(at&&at.length>0){const _t=at[0];return{x:_t.clientX,y:_t.clientY}}if(void 0!==ke.pageX)return{x:ke.pageX,y:ke.pageY}}return{x:0,y:0}},ye=ke=>{const at="rtl"===document.dir;switch(ke){case"start":return at;case"end":return!at;default:throw new Error(`"${ke}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ot=(ke,at)=>{const _t=ke._original||ke;return{_original:ke,emit:oe(_t.emit.bind(_t),at)}},oe=(ke,at=0)=>{let _t;return(...He)=>{clearTimeout(_t),_t=setTimeout(ke,at,...He)}},ut=(ke,at)=>{if(null!=ke||(ke={}),null!=at||(at={}),ke===at)return!0;const _t=Object.keys(ke);if(_t.length!==Object.keys(at).length)return!1;for(const He of _t)if(!(He in at)||ke[He]!==at[He])return!1;return!0}},1363:(an,ct,M)=>{"use strict";M.r(ct),M.d(ct,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>pe});var a=M(2733);const b=(Z,Ne,Xe,fe)=>{const Pe=U(Z)?{capture:!!fe.capture,passive:!!fe.passive}:!!fe.capture;let ye,ot;return Z.__zone_symbol__addEventListener?(ye="__zone_symbol__addEventListener",ot="__zone_symbol__removeEventListener"):(ye="addEventListener",ot="removeEventListener"),Z[ye](Ne,Xe,Pe),()=>{Z[ot](Ne,Xe,Pe)}},U=Z=>{if(void 0===Ce)try{const Ne=Object.defineProperty({},"passive",{get:()=>{Ce=!0}});Z.addEventListener("optsTest",()=>{},Ne)}catch(Ne){Ce=!1}return!!Ce};let Ce;const he=Z=>Z instanceof Document?Z:Z.ownerDocument,pe=Z=>{let Ne=!1,Xe=!1,fe=!0,Pe=!1;const ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Z),ot=ye.canStart,oe=ye.onWillStart,ut=ye.onStart,ke=ye.onEnd,at=ye.notCaptured,_t=ye.onMove,He=ye.threshold,wt=ye.passive,ve=ye.blurOnStart,Ve={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},me=((Z,Ne,Xe)=>{const fe=Xe*(Math.PI/180),Pe="x"===Z,ye=Math.cos(fe),ot=Ne*Ne;let oe=0,ut=0,ke=!1,at=0;return{start(_t,He){oe=_t,ut=He,at=0,ke=!0},detect(_t,He){if(!ke)return!1;const wt=_t-oe,ve=He-ut,Ve=wt*wt+ve*ve;if(Ve<ot)return!1;const me=Math.sqrt(Ve),Te=(Pe?wt:ve)/me;return at=Te>ye?1:Te<-ye?-1:0,ke=!1,!0},isGesture:()=>0!==at,getDirection:()=>at}})(ye.direction,ye.threshold,ye.maxAngle),Te=a.G.createGesture({name:Z.gestureName,priority:Z.gesturePriority,disableScroll:Z.disableScroll}),qt=()=>{!Ne||(Pe=!1,_t&&_t(Ve))},tn=()=>!(Te&&!Te.capture()||(Ne=!0,fe=!1,Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime,oe?oe(Ve).then(pt):pt(),0)),pt=()=>{ve&&(()=>{if("undefined"!=typeof document){const et=document.activeElement;null!==et&&et.blur&&et.blur()}})(),ut&&ut(Ve),fe=!0},dt=()=>{Ne=!1,Xe=!1,Pe=!1,fe=!0,Te.release()},ze=et=>{const je=Ne,Oe=fe;if(dt(),Oe){if(X(Ve,et),je)return void(ke&&ke(Ve));at&&at(Ve)}},lt=((Z,Ne,Xe,fe,Pe)=>{let ye,ot,oe,ut,ke,at,_t,He=0;const wt=bt=>{He=Date.now()+2e3,Ne(bt)&&(!ot&&Xe&&(ot=b(Z,"touchmove",Xe,Pe)),oe||(oe=b(bt.target,"touchend",Ve,Pe)),ut||(ut=b(bt.target,"touchcancel",Ve,Pe)))},ve=bt=>{He>Date.now()||!Ne(bt)||(!at&&Xe&&(at=b(he(Z),"mousemove",Xe,Pe)),_t||(_t=b(he(Z),"mouseup",me,Pe)))},Ve=bt=>{Te(),fe&&fe(bt)},me=bt=>{De(),fe&&fe(bt)},Te=()=>{ot&&ot(),oe&&oe(),ut&&ut(),ot=oe=ut=void 0},De=()=>{at&&at(),_t&&_t(),at=_t=void 0},qe=()=>{Te(),De()},qt=(bt=!0)=>{bt?(ye||(ye=b(Z,"touchstart",wt,Pe)),ke||(ke=b(Z,"mousedown",ve,Pe))):(ye&&ye(),ke&&ke(),ye=ke=void 0,qe())};return{enable:qt,stop:qe,destroy:()=>{qt(!1),fe=Xe=Ne=void 0}}})(ye.el,et=>{const je=se(et);return!(Xe||!fe||(J(et,Ve),Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime=je,Ve.velocityX=Ve.velocityY=Ve.deltaX=Ve.deltaY=0,Ve.event=et,ot&&!1===ot(Ve))||(Te.release(),!Te.start()))&&(Xe=!0,0===He?tn():(me.start(Ve.startX,Ve.startY),!0))},et=>{Ne?!Pe&&fe&&(Pe=!0,X(Ve,et),requestAnimationFrame(qt)):(X(Ve,et),me.detect(Ve.currentX,Ve.currentY)&&(!me.isGesture()||!tn())&&gt())},ze,{capture:!1,passive:wt}),gt=()=>{dt(),lt.stop(),at&&at(Ve)};return{enable(et=!0){et||(Ne&&ze(void 0),dt()),lt.enable(et)},destroy(){Te.destroy(),lt.destroy()}}},X=(Z,Ne)=>{if(!Ne)return;const Xe=Z.currentX,fe=Z.currentY,Pe=Z.currentTime;J(Ne,Z);const ye=Z.currentX,ot=Z.currentY,ut=(Z.currentTime=se(Ne))-Pe;if(ut>0&&ut<100){const at=(ot-fe)/ut;Z.velocityX=(ye-Xe)/ut*.7+.3*Z.velocityX,Z.velocityY=.7*at+.3*Z.velocityY}Z.deltaX=ye-Z.startX,Z.deltaY=ot-Z.startY,Z.event=Ne},J=(Z,Ne)=>{let Xe=0,fe=0;if(Z){const Pe=Z.changedTouches;if(Pe&&Pe.length>0){const ye=Pe[0];Xe=ye.clientX,fe=ye.clientY}else void 0!==Z.pageX&&(Xe=Z.pageX,fe=Z.pageY)}Ne.currentX=Xe,Ne.currentY=fe},se=Z=>Z.timeStamp||Date.now()},2361:(an,ct,M)=>{"use strict";M.d(ct,{B:()=>ii,H:()=>or,a:()=>gt,b:()=>Yr,c:()=>ui,e:()=>Kn,f:()=>zn,g:()=>et,h:()=>ln,i:()=>Mn,j:()=>we,k:()=>Wr,p:()=>fe,r:()=>mr,s:()=>Ne});var a=M(5861);let U,Ce,Ie,K=!1,he=!1,_e=!1,pe=!1,X=!1;const J="undefined"!=typeof window?window:{},se=J.document||{head:{}},Z={$flags$:0,$resourcesUrl$:"",jmp:ee=>ee(),raf:ee=>requestAnimationFrame(ee),ael:(ee,be,ie,xe)=>ee.addEventListener(be,ie,xe),rel:(ee,be,ie,xe)=>ee.removeEventListener(be,ie,xe),ce:(ee,be)=>new CustomEvent(ee,be)},Ne=ee=>{Object.assign(Z,ee)},fe=ee=>Promise.resolve(ee),Pe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(ee){}return!1})(),ye=(ee,be,ie,xe)=>{ie&&ie.map(([Qe,ht,vt])=>{const Nt=oe(ee,Qe),kt=ot(be,vt),$t=ut(Qe);Z.ael(Nt,ht,kt,$t),(be.$rmListeners$=be.$rmListeners$||[]).push(()=>Z.rel(Nt,ht,kt,$t))})},ot=(ee,be)=>ie=>{try{256&ee.$flags$?ee.$lazyInstance$[be](ie):(ee.$queuedListeners$=ee.$queuedListeners$||[]).push([be,ie])}catch(xe){Lr(xe)}},oe=(ee,be)=>4&be?se:8&be?J:16&be?se.body:ee,ut=ee=>0!=(2&ee),wt="s-id",ve="sty-id",Te="http://www.w3.org/1999/xlink",qt=new WeakMap,tn=(ee,be,ie)=>{let xe=_r.get(ee);Pe&&ie?(xe=xe||new CSSStyleSheet,xe.replace(be)):xe=be,_r.set(ee,xe)},bt=(ee,be,ie,xe)=>{let Qe=dt(be,ie),ht=_r.get(Qe);if(ee=11===ee.nodeType?ee:se,ht)if("string"==typeof ht){let Nt,vt=qt.get(ee=ee.head||ee);vt||qt.set(ee,vt=new Set),vt.has(Qe)||(ee.host&&(Nt=ee.querySelector(`[${ve}="${Qe}"]`))?Nt.innerHTML=ht:(Nt=se.createElement("style"),Nt.innerHTML=ht,ee.insertBefore(Nt,ee.querySelector("link"))),vt&&vt.add(Qe))}else ee.adoptedStyleSheets.includes(ht)||(ee.adoptedStyleSheets=[...ee.adoptedStyleSheets,ht]);return Qe},dt=(ee,be)=>"sc-"+(be&&32&ee.$flags$?ee.$tagName$+"-"+be:ee.$tagName$),ze=ee=>ee.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),gt=ee=>dr.push(ee),et=ee=>rr(ee).$modeName$,je={},Yt=ee=>"object"==(ee=typeof ee)||"function"===ee,ln=(ee,be,...ie)=>{let xe=null,Qe=null,ht=null,vt=!1,Nt=!1,kt=[];const $t=On=>{for(let Bn=0;Bn<On.length;Bn++)xe=On[Bn],Array.isArray(xe)?$t(xe):null!=xe&&"boolean"!=typeof xe&&((vt="function"!=typeof ee&&!Yt(xe))&&(xe=String(xe)),vt&&Nt?kt[kt.length-1].$text$+=xe:kt.push(vt?pn(null,xe):xe),Nt=vt)};if($t(ie),be){be.key&&(Qe=be.key),be.name&&(ht=be.name);{const On=be.className||be.class;On&&(be.class="object"!=typeof On?On:Object.keys(On).filter(Bn=>On[Bn]).join(" "))}}if("function"==typeof ee)return ee(null===be?{}:be,kt,jn);const yn=pn(ee,null);return yn.$attrs$=be,kt.length>0&&(yn.$children$=kt),yn.$key$=Qe,yn.$name$=ht,yn},pn=(ee,be)=>({$flags$:0,$tag$:ee,$text$:be,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),or={},jn={forEach:(ee,be)=>ee.map(Ft).forEach(be),map:(ee,be)=>ee.map(Ft).map(be).map(Pn)},Ft=ee=>({vattrs:ee.$attrs$,vchildren:ee.$children$,vkey:ee.$key$,vname:ee.$name$,vtag:ee.$tag$,vtext:ee.$text$}),Pn=ee=>{if("function"==typeof ee.vtag){const ie=Object.assign({},ee.vattrs);return ee.vkey&&(ie.key=ee.vkey),ee.vname&&(ie.name=ee.vname),ln(ee.vtag,ie,...ee.vchildren||[])}const be=pn(ee.vtag,ee.vtext);return be.$attrs$=ee.vattrs,be.$children$=ee.vchildren,be.$key$=ee.vkey,be.$name$=ee.vname,be},nr=(ee,be,ie,xe,Qe,ht)=>{if(ie!==xe){let vt=Pr(ee,be),Nt=be.toLowerCase();if("class"===be){const kt=ee.classList,$t=Gn(ie),yn=Gn(xe);kt.remove(...$t.filter(On=>On&&!yn.includes(On))),kt.add(...yn.filter(On=>On&&!$t.includes(On)))}else if("style"===be){for(const kt in ie)(!xe||null==xe[kt])&&(kt.includes("-")?ee.style.removeProperty(kt):ee.style[kt]="");for(const kt in xe)(!ie||xe[kt]!==ie[kt])&&(kt.includes("-")?ee.style.setProperty(kt,xe[kt]):ee.style[kt]=xe[kt])}else if("key"!==be)if("ref"===be)xe&&xe(ee);else if(vt||"o"!==be[0]||"n"!==be[1]){const kt=Yt(xe);if((vt||kt&&null!==xe)&&!Qe)try{if(ee.tagName.includes("-"))ee[be]=xe;else{let yn=null==xe?"":xe;"list"===be?vt=!1:(null==ie||ee[be]!=yn)&&(ee[be]=yn)}}catch(yn){}let $t=!1;Nt!==(Nt=Nt.replace(/^xlink\:?/,""))&&(be=Nt,$t=!0),null==xe||!1===xe?(!1!==xe||""===ee.getAttribute(be))&&($t?ee.removeAttributeNS(Te,be):ee.removeAttribute(be)):(!vt||4&ht||Qe)&&!kt&&(xe=!0===xe?"":xe,$t?ee.setAttributeNS(Te,be,xe):ee.setAttribute(be,xe))}else be="-"===be[2]?be.slice(3):Pr(J,Nt)?Nt.slice(2):Nt[2]+be.slice(3),ie&&Z.rel(ee,be,ie,!1),xe&&Z.ael(ee,be,xe,!1)}},Yn=/\s/,Gn=ee=>ee?ee.split(Yn):[],Zn=(ee,be,ie,xe)=>{const Qe=11===be.$elm$.nodeType&&be.$elm$.host?be.$elm$.host:be.$elm$,ht=ee&&ee.$attrs$||je,vt=be.$attrs$||je;for(xe in ht)xe in vt||nr(Qe,xe,ht[xe],void 0,ie,be.$flags$);for(xe in vt)nr(Qe,xe,ht[xe],vt[xe],ie,be.$flags$)},mn=(ee,be,ie,xe)=>{let vt,Nt,kt,Qe=be.$children$[ie],ht=0;if(K||(_e=!0,"slot"===Qe.$tag$&&(U&&xe.classList.add(U+"-s"),Qe.$flags$|=Qe.$children$?2:1)),null!==Qe.$text$)vt=Qe.$elm$=se.createTextNode(Qe.$text$);else if(1&Qe.$flags$)vt=Qe.$elm$=se.createTextNode("");else{if(pe||(pe="svg"===Qe.$tag$),vt=Qe.$elm$=se.createElementNS(pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Qe.$flags$?"slot-fb":Qe.$tag$),pe&&"foreignObject"===Qe.$tag$&&(pe=!1),Zn(null,Qe,pe),(ee=>null!=ee)(U)&&vt["s-si"]!==U&&vt.classList.add(vt["s-si"]=U),Qe.$children$)for(ht=0;ht<Qe.$children$.length;++ht)Nt=mn(ee,Qe,ht,vt),Nt&&vt.appendChild(Nt);"svg"===Qe.$tag$?pe=!1:"foreignObject"===vt.tagName&&(pe=!0)}return vt["s-hn"]=Ie,3&Qe.$flags$&&(vt["s-sr"]=!0,vt["s-cr"]=Ce,vt["s-sn"]=Qe.$name$||"",kt=ee&&ee.$children$&&ee.$children$[ie],kt&&kt.$tag$===Qe.$tag$&&ee.$elm$&&At(ee.$elm$,!1)),vt},At=(ee,be)=>{Z.$flags$|=1;const ie=ee.childNodes;for(let xe=ie.length-1;xe>=0;xe--){const Qe=ie[xe];Qe["s-hn"]!==Ie&&Qe["s-ol"]&&(Lt(Qe).insertBefore(Qe,Ut(Qe)),Qe["s-ol"].remove(),Qe["s-ol"]=void 0,_e=!0),be&&At(Qe,be)}Z.$flags$&=-2},Ke=(ee,be,ie,xe,Qe,ht)=>{let Nt,vt=ee["s-cr"]&&ee["s-cr"].parentNode||ee;for(vt.shadowRoot&&vt.tagName===Ie&&(vt=vt.shadowRoot);Qe<=ht;++Qe)xe[Qe]&&(Nt=mn(null,ie,Qe,ee),Nt&&(xe[Qe].$elm$=Nt,vt.insertBefore(Nt,Ut(be))))},Ye=(ee,be,ie,xe,Qe)=>{for(;be<=ie;++be)(xe=ee[be])&&(Qe=xe.$elm$,Vn(xe),he=!0,Qe["s-ol"]?Qe["s-ol"].remove():At(Qe,!0),Qe.remove())},xt=(ee,be)=>ee.$tag$===be.$tag$&&("slot"===ee.$tag$?ee.$name$===be.$name$:ee.$key$===be.$key$),Ut=ee=>ee&&ee["s-ol"]||ee,Lt=ee=>(ee["s-ol"]?ee["s-ol"]:ee).parentNode,ar=(ee,be)=>{const ie=be.$elm$=ee.$elm$,xe=ee.$children$,Qe=be.$children$,ht=be.$tag$,vt=be.$text$;let Nt;null===vt?(pe="svg"===ht||"foreignObject"!==ht&&pe,"slot"===ht||Zn(ee,be,pe),null!==xe&&null!==Qe?((ee,be,ie,xe)=>{let Vr,qr,Qe=0,ht=0,vt=0,Nt=0,kt=be.length-1,$t=be[0],yn=be[kt],On=xe.length-1,Bn=xe[0],cr=xe[On];for(;Qe<=kt&&ht<=On;)if(null==$t)$t=be[++Qe];else if(null==yn)yn=be[--kt];else if(null==Bn)Bn=xe[++ht];else if(null==cr)cr=xe[--On];else if(xt($t,Bn))ar($t,Bn),$t=be[++Qe],Bn=xe[++ht];else if(xt(yn,cr))ar(yn,cr),yn=be[--kt],cr=xe[--On];else if(xt($t,cr))("slot"===$t.$tag$||"slot"===cr.$tag$)&&At($t.$elm$.parentNode,!1),ar($t,cr),ee.insertBefore($t.$elm$,yn.$elm$.nextSibling),$t=be[++Qe],cr=xe[--On];else if(xt(yn,Bn))("slot"===$t.$tag$||"slot"===cr.$tag$)&&At(yn.$elm$.parentNode,!1),ar(yn,Bn),ee.insertBefore(yn.$elm$,$t.$elm$),yn=be[--kt],Bn=xe[++ht];else{for(vt=-1,Nt=Qe;Nt<=kt;++Nt)if(be[Nt]&&null!==be[Nt].$key$&&be[Nt].$key$===Bn.$key$){vt=Nt;break}vt>=0?(qr=be[vt],qr.$tag$!==Bn.$tag$?Vr=mn(be&&be[ht],ie,vt,ee):(ar(qr,Bn),be[vt]=void 0,Vr=qr.$elm$),Bn=xe[++ht]):(Vr=mn(be&&be[ht],ie,ht,ee),Bn=xe[++ht]),Vr&&Lt($t.$elm$).insertBefore(Vr,Ut($t.$elm$))}Qe>kt?Ke(ee,null==xe[On+1]?null:xe[On+1].$elm$,ie,xe,ht,On):ht>On&&Ye(be,Qe,kt)})(ie,xe,be,Qe):null!==Qe?(null!==ee.$text$&&(ie.textContent=""),Ke(ie,null,be,Qe,0,Qe.length-1)):null!==xe&&Ye(xe,0,xe.length-1),pe&&"svg"===ht&&(pe=!1)):(Nt=ie["s-cr"])?Nt.parentNode.textContent=vt:ee.$text$!==vt&&(ie.data=vt)},qn=ee=>{let ie,xe,Qe,ht,vt,Nt,be=ee.childNodes;for(xe=0,Qe=be.length;xe<Qe;xe++)if(ie=be[xe],1===ie.nodeType){if(ie["s-sr"])for(vt=ie["s-sn"],ie.hidden=!1,ht=0;ht<Qe;ht++)if(Nt=be[ht].nodeType,be[ht]["s-hn"]!==ie["s-hn"]||""!==vt){if(1===Nt&&vt===be[ht].getAttribute("slot")){ie.hidden=!0;break}}else if(1===Nt||3===Nt&&""!==be[ht].textContent.trim()){ie.hidden=!0;break}qn(ie)}},on=[],Fr=ee=>{let be,ie,xe,Qe,ht,vt,Nt=0,kt=ee.childNodes,$t=kt.length;for(;Nt<$t;Nt++){if(be=kt[Nt],be["s-sr"]&&(ie=be["s-cr"])&&ie.parentNode)for(xe=ie.parentNode.childNodes,Qe=be["s-sn"],vt=xe.length-1;vt>=0;vt--)ie=xe[vt],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==be["s-hn"]&&(fr(ie,Qe)?(ht=on.find(yn=>yn.$nodeToRelocate$===ie),he=!0,ie["s-sn"]=ie["s-sn"]||Qe,ht?ht.$slotRefNode$=be:on.push({$slotRefNode$:be,$nodeToRelocate$:ie}),ie["s-sr"]&&on.map(yn=>{fr(yn.$nodeToRelocate$,ie["s-sn"])&&(ht=on.find(On=>On.$nodeToRelocate$===ie),ht&&!yn.$slotRefNode$&&(yn.$slotRefNode$=ht.$slotRefNode$))})):on.some(yn=>yn.$nodeToRelocate$===ie)||on.push({$nodeToRelocate$:ie}));1===be.nodeType&&Fr(be)}},fr=(ee,be)=>1===ee.nodeType?null===ee.getAttribute("slot")&&""===be||ee.getAttribute("slot")===be:ee["s-sn"]===be||""===be,Vn=ee=>{ee.$attrs$&&ee.$attrs$.ref&&ee.$attrs$.ref(null),ee.$children$&&ee.$children$.map(Vn)},Mn=ee=>rr(ee).$hostElement$,Kn=(ee,be,ie)=>{const xe=Mn(ee);return{emit:Qe=>cn(xe,be,{bubbles:!!(4&ie),composed:!!(2&ie),cancelable:!!(1&ie),detail:Qe})}},cn=(ee,be,ie)=>{const xe=Z.ce(be,ie);return ee.dispatchEvent(xe),xe},Ct=(ee,be)=>{be&&!ee.$onRenderResolve$&&be["s-p"]&&be["s-p"].push(new Promise(ie=>ee.$onRenderResolve$=ie))},Xt=(ee,be)=>{if(ee.$flags$|=16,!(4&ee.$flags$))return Ct(ee,ee.$ancestorComponent$),ui(()=>Cn(ee,be));ee.$flags$|=512},Cn=(ee,be)=>{const xe=ee.$lazyInstance$;let Qe;return be&&(ee.$flags$|=256,ee.$queuedListeners$&&(ee.$queuedListeners$.map(([ht,vt])=>It(xe,ht,vt)),ee.$queuedListeners$=null),Qe=It(xe,"componentWillLoad")),Qe=ge(Qe,()=>It(xe,"componentWillRender")),ge(Qe,()=>_n(ee,xe,be))},_n=function(){var ee=(0,a.Z)(function*(be,ie,xe){const Qe=be.$hostElement$,vt=Qe["s-rc"];xe&&(ee=>{const be=ee.$cmpMeta$,ie=ee.$hostElement$,xe=be.$flags$,ht=bt(ie.shadowRoot?ie.shadowRoot:ie.getRootNode(),be,ee.$modeName$);10&xe&&(ie["s-sc"]=ht,ie.classList.add(ht+"-h"),2&xe&&ie.classList.add(ht+"-s"))})(be);Un(be,ie),vt&&(vt.map(kt=>kt()),Qe["s-rc"]=void 0);{const kt=Qe["s-p"],$t=()=>Le(be);0===kt.length?$t():(Promise.all(kt).then($t),be.$flags$|=4,kt.length=0)}});return function(ie,xe,Qe){return ee.apply(this,arguments)}}(),Un=(ee,be,ie)=>{try{be=be.render&&be.render(),ee.$flags$&=-17,ee.$flags$|=2,((ee,be)=>{const ie=ee.$hostElement$,xe=ee.$cmpMeta$,Qe=ee.$vnode$||pn(null,null),ht=(ee=>ee&&ee.$tag$===or)(be)?be:ln(null,null,be);if(Ie=ie.tagName,xe.$attrsToReflect$&&(ht.$attrs$=ht.$attrs$||{},xe.$attrsToReflect$.map(([vt,Nt])=>ht.$attrs$[Nt]=ie[vt])),ht.$tag$=null,ht.$flags$|=4,ee.$vnode$=ht,ht.$elm$=Qe.$elm$=ie.shadowRoot||ie,U=ie["s-sc"],Ce=ie["s-cr"],K=0!=(1&xe.$flags$),he=!1,ar(Qe,ht),Z.$flags$|=1,_e){Fr(ht.$elm$);let vt,Nt,kt,$t,yn,On,Bn=0;for(;Bn<on.length;Bn++)vt=on[Bn],Nt=vt.$nodeToRelocate$,Nt["s-ol"]||(kt=se.createTextNode(""),kt["s-nr"]=Nt,Nt.parentNode.insertBefore(Nt["s-ol"]=kt,Nt));for(Bn=0;Bn<on.length;Bn++)if(vt=on[Bn],Nt=vt.$nodeToRelocate$,vt.$slotRefNode$){for($t=vt.$slotRefNode$.parentNode,yn=vt.$slotRefNode$.nextSibling,kt=Nt["s-ol"];kt=kt.previousSibling;)if(On=kt["s-nr"],On&&On["s-sn"]===Nt["s-sn"]&&$t===On.parentNode&&(On=On.nextSibling,!On||!On["s-nr"])){yn=On;break}(!yn&&$t!==Nt.parentNode||Nt.nextSibling!==yn)&&Nt!==yn&&(!Nt["s-hn"]&&Nt["s-ol"]&&(Nt["s-hn"]=Nt["s-ol"].parentNode.nodeName),$t.insertBefore(Nt,yn))}else 1===Nt.nodeType&&(Nt.hidden=!0)}he&&qn(ht.$elm$),Z.$flags$&=-2,on.length=0})(ee,be)}catch(xe){Lr(xe,ee.$hostElement$)}return null},Le=ee=>{const ie=ee.$hostElement$,Qe=ee.$lazyInstance$,ht=ee.$ancestorComponent$;It(Qe,"componentDidRender"),64&ee.$flags$?It(Qe,"componentDidUpdate"):(ee.$flags$|=64,Ee(ie),It(Qe,"componentDidLoad"),ee.$onReadyResolve$(ie),ht||Je()),ee.$onInstanceResolve$(ie),ee.$onRenderResolve$&&(ee.$onRenderResolve$(),ee.$onRenderResolve$=void 0),512&ee.$flags$&&ni(()=>Xt(ee,!1)),ee.$flags$&=-517},we=ee=>{{const be=rr(ee),ie=be.$hostElement$.isConnected;return ie&&2==(18&be.$flags$)&&Xt(be,!1),ie}},Je=ee=>{Ee(se.documentElement),ni(()=>cn(J,"appload",{detail:{namespace:"ionic"}}))},It=(ee,be,ie)=>{if(ee&&ee[be])try{return ee[be](ie)}catch(xe){Lr(xe)}},ge=(ee,be)=>ee&&ee.then?ee.then(be):be(),Ee=ee=>ee.classList.add("hydrated"),We=(ee,be,ie,xe,Qe,ht,vt)=>{let Nt,kt,$t,yn;if(1===ht.nodeType){for(Nt=ht.getAttribute("c-id"),Nt&&(kt=Nt.split("."),(kt[0]===vt||"0"===kt[0])&&($t={$flags$:0,$hostId$:kt[0],$nodeId$:kt[1],$depth$:kt[2],$index$:kt[3],$tag$:ht.tagName.toLowerCase(),$elm$:ht,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},be.push($t),ht.removeAttribute("c-id"),ee.$children$||(ee.$children$=[]),ee.$children$[$t.$index$]=$t,ee=$t,xe&&"0"===$t.$depth$&&(xe[$t.$index$]=$t.$elm$))),yn=ht.childNodes.length-1;yn>=0;yn--)We(ee,be,ie,xe,Qe,ht.childNodes[yn],vt);if(ht.shadowRoot)for(yn=ht.shadowRoot.childNodes.length-1;yn>=0;yn--)We(ee,be,ie,xe,Qe,ht.shadowRoot.childNodes[yn],vt)}else if(8===ht.nodeType)kt=ht.nodeValue.split("."),(kt[1]===vt||"0"===kt[1])&&(Nt=kt[0],$t={$flags$:0,$hostId$:kt[1],$nodeId$:kt[2],$depth$:kt[3],$index$:kt[4],$elm$:ht,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Nt?($t.$elm$=ht.nextSibling,$t.$elm$&&3===$t.$elm$.nodeType&&($t.$text$=$t.$elm$.textContent,be.push($t),ht.remove(),ee.$children$||(ee.$children$=[]),ee.$children$[$t.$index$]=$t,xe&&"0"===$t.$depth$&&(xe[$t.$index$]=$t.$elm$))):$t.$hostId$===vt&&("s"===Nt?($t.$tag$="slot",ht["s-sn"]=kt[5]?$t.$name$=kt[5]:"",ht["s-sr"]=!0,xe&&($t.$elm$=se.createElement($t.$tag$),$t.$name$&&$t.$elm$.setAttribute("name",$t.$name$),ht.parentNode.insertBefore($t.$elm$,ht),ht.remove(),"0"===$t.$depth$&&(xe[$t.$index$]=$t.$elm$)),ie.push($t),ee.$children$||(ee.$children$=[]),ee.$children$[$t.$index$]=$t):"r"===Nt&&(xe?ht.remove():(Qe["s-cr"]=ht,ht["s-cn"]=!0))));else if(ee&&"style"===ee.$tag$){const On=pn(null,ht.textContent);On.$elm$=ht,On.$index$="0",ee.$children$=[On]}},Zt=(ee,be)=>{if(1===ee.nodeType){let ie=0;for(;ie<ee.childNodes.length;ie++)Zt(ee.childNodes[ie],be);if(ee.shadowRoot)for(ie=0;ie<ee.shadowRoot.childNodes.length;ie++)Zt(ee.shadowRoot.childNodes[ie],be)}else if(8===ee.nodeType){const ie=ee.nodeValue.split(".");"o"===ie[0]&&(be.set(ie[1]+"."+ie[2],ee),ee.nodeValue="",ee["s-en"]=ie[3])}},Jn=(ee,be,ie)=>{if(be.$members$){ee.watchers&&(be.$watchers$=ee.watchers);const xe=Object.entries(be.$members$),Qe=ee.prototype;if(xe.map(([ht,[vt]])=>{31&vt||2&ie&&32&vt?Object.defineProperty(Qe,ht,{get(){return((ee,be)=>rr(this).$instanceValues$.get(be))(0,ht)},set(Nt){((ee,be,ie,xe)=>{const Qe=rr(ee),ht=Qe.$hostElement$,vt=Qe.$instanceValues$.get(be),Nt=Qe.$flags$,kt=Qe.$lazyInstance$;ie=((ee,be)=>null==ee||Yt(ee)?ee:4&be?"false"!==ee&&(""===ee||!!ee):2&be?parseFloat(ee):1&be?String(ee):ee)(ie,xe.$members$[be][0]);const $t=Number.isNaN(vt)&&Number.isNaN(ie);if((!(8&Nt)||void 0===vt)&&ie!==vt&&!$t&&(Qe.$instanceValues$.set(be,ie),kt)){if(xe.$watchers$&&128&Nt){const On=xe.$watchers$[be];On&&On.map(Bn=>{try{kt[Bn](ie,vt,be)}catch(cr){Lr(cr,ht)}})}2==(18&Nt)&&Xt(Qe,!1)}})(this,ht,Nt,be)},configurable:!0,enumerable:!0}):1&ie&&64&vt&&Object.defineProperty(Qe,ht,{value(...Nt){const kt=rr(this);return kt.$onInstancePromise$.then(()=>kt.$lazyInstance$[ht](...Nt))}})}),1&ie){const ht=new Map;Qe.attributeChangedCallback=function(vt,Nt,kt){Z.jmp(()=>{const $t=ht.get(vt);if(this.hasOwnProperty($t))kt=this[$t],delete this[$t];else if(Qe.hasOwnProperty($t)&&"number"==typeof this[$t]&&this[$t]==kt)return;this[$t]=(null!==kt||"boolean"!=typeof this[$t])&&kt})},ee.observedAttributes=xe.filter(([vt,Nt])=>15&Nt[0]).map(([vt,Nt])=>{const kt=Nt[1]||vt;return ht.set(kt,vt),512&Nt[0]&&be.$attrsToReflect$.push([vt,kt]),kt})}}return ee},Rn=function(){var ee=(0,a.Z)(function*(be,ie,xe,Qe,ht){if(0==(32&ie.$flags$)){{if(ie.$flags$|=32,(ht=kn(xe)).then){const $t=()=>{};ht=yield ht,$t()}ht.isProxied||(xe.$watchers$=ht.watchers,Jn(ht,xe,2),ht.isProxied=!0);const kt=()=>{};ie.$flags$|=8;try{new ht(ie)}catch($t){Lr($t)}ie.$flags$&=-9,ie.$flags$|=128,kt(),er(ie.$lazyInstance$)}if(ht.style){let kt=ht.style;"string"!=typeof kt&&(kt=kt[ie.$modeName$=(ee=>dr.map(be=>be(ee)).find(be=>!!be))(be)]);const $t=dt(xe,ie.$modeName$);if(!_r.has($t)){const yn=()=>{};tn($t,kt,!!(1&xe.$flags$)),yn()}}}const vt=ie.$ancestorComponent$,Nt=()=>Xt(ie,!0);vt&&vt["s-rc"]?vt["s-rc"].push(Nt):Nt()});return function(ie,xe,Qe,ht,vt){return ee.apply(this,arguments)}}(),er=ee=>{It(ee,"connectedCallback")},Rr=ee=>{const be=ee["s-cr"]=se.createComment("");be["s-cn"]=!0,ee.insertBefore(be,ee.firstChild)},Yr=(ee,be={})=>{const xe=[],Qe=be.exclude||[],ht=J.customElements,vt=se.head,Nt=vt.querySelector("meta[charset]"),kt=se.createElement("style"),$t=[],yn=se.querySelectorAll(`[${ve}]`);let On,Bn=!0,cr=0;for(Object.assign(Z,be),Z.$resourcesUrl$=new URL(be.resourcesUrl||"./",se.baseURI).href,Z.$flags$|=2;cr<yn.length;cr++)tn(yn[cr].getAttribute(ve),ze(yn[cr].innerHTML),!0);ee.map(Vr=>{Vr[1].map(qr=>{const rt={$flags$:qr[0],$tagName$:qr[1],$members$:qr[2],$listeners$:qr[3]};rt.$members$=qr[2],rt.$listeners$=qr[3],rt.$attrsToReflect$=[],rt.$watchers$={};const tt=rt.$tagName$,mt=class extends HTMLElement{constructor(Bt){super(Bt),gr(Bt=this,rt),1&rt.$flags$&&Bt.attachShadow({mode:"open",delegatesFocus:!!(16&rt.$flags$)})}connectedCallback(){On&&(clearTimeout(On),On=null),Bn?$t.push(this):Z.jmp(()=>(ee=>{if(0==(1&Z.$flags$)){const be=rr(ee),ie=be.$cmpMeta$,xe=()=>{};if(1&be.$flags$)ye(ee,be,ie.$listeners$),er(be.$lazyInstance$);else{let Qe;if(be.$flags$|=1,Qe=ee.getAttribute(wt),Qe){if(1&ie.$flags$){const ht=bt(ee.shadowRoot,ie,ee.getAttribute("s-mode"));ee.classList.remove(ht+"-h",ht+"-s")}((ee,be,ie,xe)=>{const ht=ee.shadowRoot,vt=[],kt=ht?[]:null,$t=xe.$vnode$=pn(be,null);Z.$orgLocNodes$||Zt(se.body,Z.$orgLocNodes$=new Map),ee[wt]=ie,ee.removeAttribute(wt),We($t,vt,[],kt,ee,ee,ie),vt.map(yn=>{const On=yn.$hostId$+"."+yn.$nodeId$,Bn=Z.$orgLocNodes$.get(On),cr=yn.$elm$;Bn&&""===Bn["s-en"]&&Bn.parentNode.insertBefore(cr,Bn.nextSibling),ht||(cr["s-hn"]=be,Bn&&(cr["s-ol"]=Bn,cr["s-ol"]["s-nr"]=cr)),Z.$orgLocNodes$.delete(On)}),ht&&kt.map(yn=>{yn&&ht.appendChild(yn)})})(ee,ie.$tagName$,Qe,be)}Qe||12&ie.$flags$&&Rr(ee);{let ht=ee;for(;ht=ht.parentNode||ht.host;)if(1===ht.nodeType&&ht.hasAttribute("s-id")&&ht["s-p"]||ht["s-p"]){Ct(be,be.$ancestorComponent$=ht);break}}ie.$members$&&Object.entries(ie.$members$).map(([ht,[vt]])=>{if(31&vt&&ee.hasOwnProperty(ht)){const Nt=ee[ht];delete ee[ht],ee[ht]=Nt}}),ni(()=>Rn(ee,be,ie))}xe()}})(this))}disconnectedCallback(){Z.jmp(()=>(ee=>{if(0==(1&Z.$flags$)){const be=rr(this),ie=be.$lazyInstance$;be.$rmListeners$&&(be.$rmListeners$.map(xe=>xe()),be.$rmListeners$=void 0),It(ie,"disconnectedCallback")}})())}componentOnReady(){return rr(this).$onReadyPromise$}};rt.$lazyBundleId$=Vr[0],!Qe.includes(tt)&&!ht.get(tt)&&(xe.push(tt),ht.define(tt,Jn(mt,rt,1)))})}),kt.innerHTML=xe+"{visibility:hidden}.hydrated{visibility:inherit}",kt.setAttribute("data-styles",""),vt.insertBefore(kt,Nt?Nt.nextSibling:vt.firstChild),Bn=!1,$t.length?$t.map(Vr=>Vr.connectedCallback()):Z.jmp(()=>On=setTimeout(Je,30))},Wr=ee=>{const be=new URL(ee,Z.$resourcesUrl$);return be.origin!==J.location.origin?be.href:be.pathname},wr=new WeakMap,rr=ee=>wr.get(ee),mr=(ee,be)=>wr.set(be.$lazyInstance$=ee,be),gr=(ee,be)=>{const ie={$flags$:0,$hostElement$:ee,$cmpMeta$:be,$instanceValues$:new Map};return ie.$onInstancePromise$=new Promise(xe=>ie.$onInstanceResolve$=xe),ie.$onReadyPromise$=new Promise(xe=>ie.$onReadyResolve$=xe),ee["s-p"]=[],ee["s-rc"]=[],ye(ee,ie,be.$listeners$),wr.set(ee,ie)},Pr=(ee,be)=>be in ee,Lr=(ee,be)=>(0,console.error)(ee,be),en=new Map,kn=(ee,be,ie)=>{const xe=ee.$tagName$.replace(/-/g,"_"),Qe=ee.$lazyBundleId$,ht=en.get(Qe);return ht?ht[xe]:M(863)(`./${Qe}.entry.js`).then(vt=>(en.set(Qe,vt),vt[xe]),Lr)},_r=new Map,dr=[],ri=[],Br=[],si=(ee,be)=>ie=>{ee.push(ie),X||(X=!0,be&&4&Z.$flags$?ni(ci):Z.raf(ci))},Hn=ee=>{for(let be=0;be<ee.length;be++)try{ee[be](performance.now())}catch(ie){Lr(ie)}ee.length=0},ci=()=>{Hn(ri),Hn(Br),(X=ri.length>0)&&Z.raf(ci)},ni=ee=>fe().then(ee),zn=si(ri,!1),ui=si(Br,!0),ii={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5970:(an,ct,M)=>{"use strict";M.d(ct,{m:()=>J});var a=M(5861),b=M(527),U=M(206),Ce=M(8686),Ie=M(6304);const K=se=>(0,Ie.c)().duration(se?400:300),he=se=>{let Z,Ne;const Xe=se.width+8,fe=(0,Ie.c)(),Pe=(0,Ie.c)();se.isEndSide?(Z=Xe+"px",Ne="0px"):(Z=-Xe+"px",Ne="0px"),fe.addElement(se.menuInnerEl).fromTo("transform",`translateX(${Z})`,`translateX(${Ne})`);const ot="ios"===(0,Ce.b)(se),oe=ot?.2:.25;return Pe.addElement(se.backdropEl).fromTo("opacity",.01,oe),K(ot).addAnimation([fe,Pe])},_e=se=>{let Z,Ne;const Xe=(0,Ce.b)(se),fe=se.width;se.isEndSide?(Z=-fe+"px",Ne=fe+"px"):(Z=fe+"px",Ne=-fe+"px");const Pe=(0,Ie.c)().addElement(se.menuInnerEl).fromTo("transform",`translateX(${Ne})`,"translateX(0px)"),ye=(0,Ie.c)().addElement(se.contentEl).fromTo("transform","translateX(0px)",`translateX(${Z})`),ot=(0,Ie.c)().addElement(se.backdropEl).fromTo("opacity",.01,.32);return K("ios"===Xe).addAnimation([Pe,ye,ot])},pe=se=>{const Z=(0,Ce.b)(se),Ne=se.width*(se.isEndSide?-1:1)+"px",Xe=(0,Ie.c)().addElement(se.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ne})`);return K("ios"===Z).addAnimation(Xe)},J=(()=>{const se=new Map,Z=[],Ne=function(){var pt=(0,a.Z)(function*(dt){const ze=yield ut(dt);return!!ze&&ze.open()});return function(ze){return pt.apply(this,arguments)}}(),Xe=function(){var pt=(0,a.Z)(function*(dt){const ze=yield void 0!==dt?ut(dt):ke();return void 0!==ze&&ze.close()});return function(ze){return pt.apply(this,arguments)}}(),fe=function(){var pt=(0,a.Z)(function*(dt){const ze=yield ut(dt);return!!ze&&ze.toggle()});return function(ze){return pt.apply(this,arguments)}}(),Pe=function(){var pt=(0,a.Z)(function*(dt,ze){const lt=yield ut(ze);return lt&&(lt.disabled=!dt),lt});return function(ze,lt){return pt.apply(this,arguments)}}(),ye=function(){var pt=(0,a.Z)(function*(dt,ze){const lt=yield ut(ze);return lt&&(lt.swipeGesture=dt),lt});return function(ze,lt){return pt.apply(this,arguments)}}(),ot=function(){var pt=(0,a.Z)(function*(dt){if(null!=dt){const ze=yield ut(dt);return void 0!==ze&&ze.isOpen()}return void 0!==(yield ke())});return function(ze){return pt.apply(this,arguments)}}(),oe=function(){var pt=(0,a.Z)(function*(dt){const ze=yield ut(dt);return!!ze&&!ze.disabled});return function(ze){return pt.apply(this,arguments)}}(),ut=function(){var pt=(0,a.Z)(function*(dt){return yield bt(),"start"===dt||"end"===dt?tn(gt=>gt.side===dt&&!gt.disabled)||tn(gt=>gt.side===dt):null!=dt?tn(lt=>lt.menuId===dt):tn(lt=>!lt.disabled)||(Z.length>0?Z[0].el:void 0)});return function(ze){return pt.apply(this,arguments)}}(),ke=function(){var pt=(0,a.Z)(function*(){return yield bt(),De()});return function(){return pt.apply(this,arguments)}}(),at=function(){var pt=(0,a.Z)(function*(){return yield bt(),qe()});return function(){return pt.apply(this,arguments)}}(),_t=function(){var pt=(0,a.Z)(function*(){return yield bt(),qt()});return function(){return pt.apply(this,arguments)}}(),He=(pt,dt)=>{se.set(pt,dt)},Ve=pt=>{const dt=pt.side;Z.filter(ze=>ze.side===dt&&ze!==pt).forEach(ze=>ze.disabled=!0)},me=function(){var pt=(0,a.Z)(function*(dt,ze,lt){if(qt())return!1;if(ze){const gt=yield ke();gt&&dt.el!==gt&&(yield gt.setOpen(!1,!1))}return dt._setOpen(ze,lt)});return function(ze,lt,gt){return pt.apply(this,arguments)}}(),De=()=>tn(pt=>pt._isOpen),qe=()=>Z.map(pt=>pt.el),qt=()=>Z.some(pt=>pt.isAnimating),tn=pt=>{const dt=Z.find(pt);if(void 0!==dt)return dt.el},bt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(pt=>new Promise(dt=>(0,U.c)(pt,dt))));return He("reveal",pe),He("push",_e),He("overlay",he),"undefined"!=typeof document&&document.addEventListener("ionBackButton",pt=>{const dt=De();dt&&pt.detail.register(b.MENU_BACK_BUTTON_PRIORITY,()=>dt.close())}),{registerAnimation:He,get:ut,getMenus:at,getOpen:ke,isEnabled:oe,swipeGesture:ye,isAnimating:_t,isOpen:ot,enable:Pe,toggle:fe,close:Xe,open:Ne,_getOpenSync:De,_createAnimation:(pt,dt)=>{const ze=se.get(pt);if(!ze)throw new Error("animation not registered");return ze(dt)},_register:pt=>{Z.indexOf(pt)<0&&(pt.disabled||Ve(pt),Z.push(pt))},_unregister:pt=>{const dt=Z.indexOf(pt);dt>-1&&Z.splice(dt,1)},_setOpen:me,_setActiveMenu:Ve}})()},358:(an,ct,M)=>{"use strict";M.d(ct,{L:()=>Ce,a:()=>Ie,b:()=>K,c:()=>he,d:()=>_e,e:()=>He,g:()=>Ve,l:()=>at,s:()=>wt,t:()=>J});var a=M(5861),b=M(2361),U=M(206);const Ce="ionViewWillEnter",Ie="ionViewDidEnter",K="ionViewWillLeave",he="ionViewDidLeave",_e="ionViewWillUnload",J=me=>new Promise((Te,De)=>{(0,b.c)(()=>{se(me),Z(me).then(qe=>{qe.animation&&qe.animation.destroy(),Ne(me),Te(qe)},qe=>{Ne(me),De(qe)})})}),se=me=>{const Te=me.enteringEl,De=me.leavingEl;ve(Te,De,me.direction),me.showGoBack?Te.classList.add("can-go-back"):Te.classList.remove("can-go-back"),wt(Te,!1),Te.style.setProperty("pointer-events","none"),De&&(wt(De,!1),De.style.setProperty("pointer-events","none"))},Z=function(){var me=(0,a.Z)(function*(Te){const De=yield Xe(Te);return De&&b.B.isBrowser?fe(De,Te):Pe(Te)});return function(De){return me.apply(this,arguments)}}(),Ne=me=>{const Te=me.enteringEl,De=me.leavingEl;Te.classList.remove("ion-page-invisible"),Te.style.removeProperty("pointer-events"),void 0!==De&&(De.classList.remove("ion-page-invisible"),De.style.removeProperty("pointer-events"))},Xe=function(){var me=(0,a.Z)(function*(Te){return Te.leavingEl&&Te.animated&&0!==Te.duration?Te.animationBuilder?Te.animationBuilder:"ios"===Te.mode?(yield Promise.resolve().then(M.bind(M,5797))).iosTransitionAnimation:(yield Promise.resolve().then(M.bind(M,6409))).mdTransitionAnimation:void 0});return function(De){return me.apply(this,arguments)}}(),fe=function(){var me=(0,a.Z)(function*(Te,De){yield ye(De,!0);const qe=Te(De.baseEl,De);ut(De.enteringEl,De.leavingEl);const qt=yield oe(qe,De);return De.progressCallback&&De.progressCallback(void 0),qt&&ke(De.enteringEl,De.leavingEl),{hasCompleted:qt,animation:qe}});return function(De,qe){return me.apply(this,arguments)}}(),Pe=function(){var me=(0,a.Z)(function*(Te){const De=Te.enteringEl,qe=Te.leavingEl;return yield ye(Te,!1),ut(De,qe),ke(De,qe),{hasCompleted:!0}});return function(De){return me.apply(this,arguments)}}(),ye=function(){var me=(0,a.Z)(function*(Te,De){const qt=(void 0!==Te.deepWait?Te.deepWait:De)?[He(Te.enteringEl),He(Te.leavingEl)]:[_t(Te.enteringEl),_t(Te.leavingEl)];yield Promise.all(qt),yield ot(Te.viewIsReady,Te.enteringEl)});return function(De,qe){return me.apply(this,arguments)}}(),ot=function(){var me=(0,a.Z)(function*(Te,De){Te&&(yield Te(De))});return function(De,qe){return me.apply(this,arguments)}}(),oe=(me,Te)=>{const De=Te.progressCallback,qe=new Promise(qt=>{me.onFinish(tn=>qt(1===tn))});return De?(me.progressStart(!0),De(me)):me.play(),qe},ut=(me,Te)=>{at(Te,K),at(me,Ce)},ke=(me,Te)=>{at(me,Ie),at(Te,he)},at=(me,Te)=>{if(me){const De=new CustomEvent(Te,{bubbles:!1,cancelable:!1});me.dispatchEvent(De)}},_t=me=>me?new Promise(Te=>(0,U.c)(me,Te)):Promise.resolve(),He=function(){var me=(0,a.Z)(function*(Te){const De=Te;if(De){if(null!=De.componentOnReady){if(null!=(yield De.componentOnReady()))return}else if(null!=De.__registerHost)return void(yield new Promise(qt=>(0,U.r)(qt)));yield Promise.all(Array.from(De.children).map(He))}});return function(De){return me.apply(this,arguments)}}(),wt=(me,Te)=>{Te?(me.setAttribute("aria-hidden","true"),me.classList.add("ion-page-hidden")):(me.hidden=!1,me.removeAttribute("aria-hidden"),me.classList.remove("ion-page-hidden"))},ve=(me,Te,De)=>{void 0!==me&&(me.style.zIndex="back"===De?"99":"101"),void 0!==Te&&(Te.style.zIndex="100")},Ve=me=>me.classList.contains("ion-page")?me:me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||me},8686:(an,ct,M)=>{"use strict";M.d(ct,{a:()=>J,b:()=>qt,c:()=>U,g:()=>X,i:()=>tn});var a=M(2361);class b{constructor(){this.m=new Map}reset(pt){this.m=new Map(Object.entries(pt))}get(pt,dt){const ze=this.m.get(pt);return void 0!==ze?ze:dt}getBoolean(pt,dt=!1){const ze=this.m.get(pt);return void 0===ze?dt:"string"==typeof ze?"true"===ze:!!ze}getNumber(pt,dt){const ze=parseFloat(this.m.get(pt));return isNaN(ze)?void 0!==dt?dt:NaN:ze}set(pt,dt){this.m.set(pt,dt)}}const U=new b,pe="ionic-persist-config",X=bt=>se(bt),J=(bt,pt)=>("string"==typeof bt&&(pt=bt,bt=void 0),X(bt).includes(pt)),se=(bt=window)=>{if(void 0===bt)return[];bt.Ionic=bt.Ionic||{};let pt=bt.Ionic.platforms;return null==pt&&(pt=bt.Ionic.platforms=Z(bt),pt.forEach(dt=>bt.document.documentElement.classList.add(`plt-${dt}`))),pt},Z=bt=>{const pt=U.get("platform");return Object.keys(De).filter(dt=>{const ze=pt&&pt[dt];return"function"==typeof ze?ze(bt):De[dt](bt)})},Xe=bt=>!!(me(bt,/iPad/i)||me(bt,/Macintosh/i)&&ke(bt)),ye=bt=>me(bt,/android|sink/i),ke=bt=>Te(bt,"(any-pointer:coarse)"),_t=bt=>He(bt)||wt(bt),He=bt=>!!(bt.cordova||bt.phonegap||bt.PhoneGap),wt=bt=>{const pt=bt.Capacitor;return!(!pt||!pt.isNative)},me=(bt,pt)=>pt.test(bt.navigator.userAgent),Te=(bt,pt)=>bt.matchMedia&&bt.matchMedia(pt).matches,De={ipad:Xe,iphone:bt=>me(bt,/iPhone/i),ios:bt=>me(bt,/iPhone|iPod/i)||Xe(bt),android:ye,phablet:bt=>{const pt=bt.innerWidth,dt=bt.innerHeight,ze=Math.min(pt,dt),lt=Math.max(pt,dt);return ze>390&&ze<520&&lt>620&&lt<800},tablet:bt=>{const pt=bt.innerWidth,dt=bt.innerHeight,ze=Math.min(pt,dt),lt=Math.max(pt,dt);return Xe(bt)||(bt=>ye(bt)&&!me(bt,/mobile/i))(bt)||ze>460&&ze<820&&lt>780&&lt<1400},cordova:He,capacitor:wt,electron:bt=>me(bt,/electron/i),pwa:bt=>!!(bt.matchMedia&&bt.matchMedia("(display-mode: standalone)").matches||bt.navigator.standalone),mobile:ke,mobileweb:bt=>ke(bt)&&!_t(bt),desktop:bt=>!ke(bt),hybrid:_t};let qe;const qt=bt=>bt&&(0,a.g)(bt)||qe,tn=(bt={})=>{if("undefined"==typeof window)return;const pt=window.document,dt=window,ze=dt.Ionic=dt.Ionic||{},lt={};bt._ael&&(lt.ael=bt._ael),bt._rel&&(lt.rel=bt._rel),bt._ce&&(lt.ce=bt._ce),(0,a.s)(lt);const gt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(bt=>{try{const pt=bt.sessionStorage.getItem(pe);return null!==pt?JSON.parse(pt):{}}catch(pt){return{}}})(dt)),{persistConfig:!1}),ze.config),(bt=>{const pt={};return bt.location.search.slice(1).split("&").map(dt=>dt.split("=")).map(([dt,ze])=>[decodeURIComponent(dt),decodeURIComponent(ze)]).filter(([dt])=>((bt,pt)=>bt.substr(0,pt.length)===pt)(dt,"ionic:")).map(([dt,ze])=>[dt.slice("ionic:".length),ze]).forEach(([dt,ze])=>{pt[dt]=ze}),pt})(dt)),bt);U.reset(gt),U.getBoolean("persistConfig")&&((bt,pt)=>{try{bt.sessionStorage.setItem(pe,JSON.stringify(pt))}catch(dt){return}})(dt,gt),se(dt),ze.config=U,ze.mode=qe=U.get("mode",pt.documentElement.getAttribute("mode")||(J(dt,"ios")?"ios":"md")),U.set("mode",qe),pt.documentElement.setAttribute("mode",qe),pt.documentElement.classList.add(qe),U.getBoolean("_testing")&&U.set("animated",!1);const et=Oe=>Oe.tagName&&Oe.tagName.startsWith("ION-"),je=Oe=>["ios","md"].includes(Oe);(0,a.a)(Oe=>{for(;Oe;){const Dt=Oe.mode||Oe.getAttribute("mode");if(Dt){if(je(Dt))return Dt;et(Oe)&&console.warn('Invalid ionic mode: "'+Dt+'", expected: "ios" or "md"')}Oe=Oe.parentElement}return qe})}},5797:(an,ct,M)=>{"use strict";M.r(ct),M.d(ct,{iosTransitionAnimation:()=>se,shadow:()=>K});var a=M(6304),b=M(358);M(2361);const Ie=Z=>document.querySelector(`${Z}.ion-cloned-element`),K=Z=>Z.shadowRoot||Z,he=Z=>{const Ne="ION-TABS"===Z.tagName?Z:Z.querySelector("ion-tabs"),Xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ne){const fe=Ne.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=fe?fe.querySelector(Xe):null}return Z.querySelector(Xe)},_e=(Z,Ne)=>{const Xe="ION-TABS"===Z.tagName?Z:Z.querySelector("ion-tabs");let fe=[];if(null!=Xe){const Pe=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Pe&&(fe=Pe.querySelectorAll("ion-buttons"))}else fe=Z.querySelectorAll("ion-buttons");for(const Pe of fe){const ye=Pe.closest("ion-header"),ot=ye&&!ye.classList.contains("header-collapse-condense-inactive"),oe=Pe.querySelector("ion-back-button"),ut=Pe.classList.contains("buttons-collapse"),ke="start"===Pe.slot||""===Pe.slot;if(null!==oe&&ke&&(ut&&ot&&Ne||!ut))return oe}return null},X=(Z,Ne,Xe,fe,Pe,ye)=>{const ot=Ne?`calc(100% - ${ye.right+4}px)`:ye.left-4+"px",oe=Ne?"7px":"-7px",ut=Ne?"-4px":"4px",ke=Ne?"-4px":"4px",at=Ne?"right":"left",_t=Ne?"left":"right",ve=Xe?[{offset:0,opacity:1,transform:`translate3d(${ut}, ${ye.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${oe}, ${Pe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${oe}, ${Pe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ut}, ${ye.top-46}px, 0) scale(1)`}],Te=Xe?[{offset:0,opacity:1,transform:`translate3d(${ke}, ${ye.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ke}, ${ye.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ke}, ${ye.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ke}, ${ye.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ke}, ${ye.top-46}px, 0) scale(1)`}],De=(0,a.c)(),qe=(0,a.c)(),qt=Ie("ion-back-button"),tn=K(qt).querySelector(".button-text"),bt=K(qt).querySelector("ion-icon");qt.text=fe.text,qt.mode=fe.mode,qt.icon=fe.icon,qt.color=fe.color,qt.disabled=fe.disabled,qt.style.setProperty("display","block"),qt.style.setProperty("position","fixed"),qe.addElement(bt),De.addElement(tn),De.beforeStyles({"transform-origin":`${at} center`}).beforeAddWrite(()=>{fe.style.setProperty("display","none"),qt.style.setProperty(at,ot)}).afterAddWrite(()=>{fe.style.setProperty("display",""),qt.style.setProperty("display","none"),qt.style.removeProperty(at)}).keyframes(ve),qe.beforeStyles({"transform-origin":`${_t} center`}).keyframes(Te),Z.addAnimation([De,qe])},J=(Z,Ne,Xe,fe,Pe,ye)=>{const ot=Ne?`calc(100% - ${Pe.right}px)`:`${Pe.left}px`,oe=Ne?"-18px":"18px",ut=Ne?"right":"left",_t=Xe?[{offset:0,opacity:0,transform:`translate3d(${oe}, ${ye.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Pe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Pe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${oe}, ${ye.top-4}px, 0) scale(0.5)`}],He=Ie("ion-title"),wt=(0,a.c)();He.innerText=fe.innerText,He.size=fe.size,He.color=fe.color,wt.addElement(He),wt.beforeStyles({"transform-origin":`${ut} center`,height:"46px",display:"",position:"relative",[ut]:ot}).beforeAddWrite(()=>{fe.style.setProperty("display","none")}).afterAddWrite(()=>{fe.style.setProperty("display",""),He.style.setProperty("display","none")}).keyframes(_t),Z.addAnimation(wt)},se=(Z,Ne)=>{try{const Xe="cubic-bezier(0.32,0.72,0,1)",fe="opacity",Pe="transform",ye="0%",oe="rtl"===Z.ownerDocument.dir,ut=oe?"-99.5%":"99.5%",ke=oe?"33%":"-33%",at=Ne.enteringEl,_t=Ne.leavingEl,He="back"===Ne.direction,wt=at.querySelector(":scope > ion-content"),ve=at.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ve=at.querySelectorAll(":scope > ion-header > ion-toolbar"),me=(0,a.c)(),Te=(0,a.c)();if(me.addElement(at).duration(Ne.duration||540).easing(Ne.easing||Xe).fill("both").beforeRemoveClass("ion-page-invisible"),_t&&Z){const tn=(0,a.c)();tn.addElement(Z),me.addAnimation(tn)}if(wt||0!==Ve.length||0!==ve.length?(Te.addElement(wt),Te.addElement(ve)):Te.addElement(at.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),me.addAnimation(Te),He?Te.beforeClearStyles([fe]).fromTo("transform",`translateX(${ke})`,`translateX(${ye})`).fromTo(fe,.8,1):Te.beforeClearStyles([fe]).fromTo("transform",`translateX(${ut})`,`translateX(${ye})`),wt){const tn=K(wt).querySelector(".transition-effect");if(tn){const bt=tn.querySelector(".transition-cover"),pt=tn.querySelector(".transition-shadow"),dt=(0,a.c)(),ze=(0,a.c)(),lt=(0,a.c)();dt.addElement(tn).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ze.addElement(bt).beforeClearStyles([fe]).fromTo(fe,0,.1),lt.addElement(pt).beforeClearStyles([fe]).fromTo(fe,.03,.7),dt.addAnimation([ze,lt]),Te.addAnimation([dt])}}const De=at.querySelector("ion-header.header-collapse-condense"),{forward:qe,backward:qt}=((Z,Ne,Xe,fe,Pe)=>{const ye=_e(fe,Xe),ot=he(Pe),oe=he(fe),ut=_e(Pe,Xe),ke=null!==ye&&null!==ot&&!Xe,at=null!==oe&&null!==ut&&Xe;if(ke){const _t=ot.getBoundingClientRect(),He=ye.getBoundingClientRect();J(Z,Ne,Xe,ot,_t,He),X(Z,Ne,Xe,ye,_t,He)}else if(at){const _t=oe.getBoundingClientRect(),He=ut.getBoundingClientRect();J(Z,Ne,Xe,oe,_t,He),X(Z,Ne,Xe,ut,_t,He)}return{forward:ke,backward:at}})(me,oe,He,at,_t);if(Ve.forEach(tn=>{const bt=(0,a.c)();bt.addElement(tn),me.addAnimation(bt);const pt=(0,a.c)();pt.addElement(tn.querySelector("ion-title"));const dt=(0,a.c)(),ze=Array.from(tn.querySelectorAll("ion-buttons,[menuToggle]")),lt=tn.closest("ion-header"),gt=lt&&lt.classList.contains("header-collapse-condense-inactive");let et;et=ze.filter(He?Yt=>{const ln=Yt.classList.contains("buttons-collapse");return ln&&!gt||!ln}:Yt=>!Yt.classList.contains("buttons-collapse")),dt.addElement(et);const je=(0,a.c)();je.addElement(tn.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Oe=(0,a.c)();Oe.addElement(K(tn).querySelector(".toolbar-background"));const Dt=(0,a.c)(),Gt=tn.querySelector("ion-back-button");if(Gt&&Dt.addElement(Gt),bt.addAnimation([pt,dt,je,Oe,Dt]),dt.fromTo(fe,.01,1),je.fromTo(fe,.01,1),He)gt||pt.fromTo("transform",`translateX(${ke})`,`translateX(${ye})`).fromTo(fe,.01,1),je.fromTo("transform",`translateX(${ke})`,`translateX(${ye})`),Dt.fromTo(fe,.01,1);else if(De||pt.fromTo("transform",`translateX(${ut})`,`translateX(${ye})`).fromTo(fe,.01,1),je.fromTo("transform",`translateX(${ut})`,`translateX(${ye})`),Oe.beforeClearStyles([fe,"transform"]),(null==lt?void 0:lt.translucent)?Oe.fromTo("transform",oe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Oe.fromTo(fe,.01,"var(--opacity)"),qe||Dt.fromTo(fe,.01,1),Gt&&!qe){const ln=(0,a.c)();ln.addElement(K(Gt).querySelector(".button-text")).fromTo("transform",oe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),bt.addAnimation(ln)}}),_t){const tn=(0,a.c)(),bt=_t.querySelector(":scope > ion-content"),pt=_t.querySelectorAll(":scope > ion-header > ion-toolbar"),dt=_t.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(bt||0!==pt.length||0!==dt.length?(tn.addElement(bt),tn.addElement(dt)):tn.addElement(_t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),me.addAnimation(tn),He){tn.beforeClearStyles([fe]).fromTo("transform",`translateX(${ye})`,oe?"translateX(-100%)":"translateX(100%)");const ze=(0,b.g)(_t);me.afterAddWrite(()=>{"normal"===me.getDirection()&&ze.style.setProperty("display","none")})}else tn.fromTo("transform",`translateX(${ye})`,`translateX(${ke})`).fromTo(fe,1,.8);if(bt){const ze=K(bt).querySelector(".transition-effect");if(ze){const lt=ze.querySelector(".transition-cover"),gt=ze.querySelector(".transition-shadow"),et=(0,a.c)(),je=(0,a.c)(),Oe=(0,a.c)();et.addElement(ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),je.addElement(lt).beforeClearStyles([fe]).fromTo(fe,.1,0),Oe.addElement(gt).beforeClearStyles([fe]).fromTo(fe,.7,.03),et.addAnimation([je,Oe]),tn.addAnimation([et])}}pt.forEach(ze=>{const lt=(0,a.c)();lt.addElement(ze);const gt=(0,a.c)();gt.addElement(ze.querySelector("ion-title"));const et=(0,a.c)(),je=ze.querySelectorAll("ion-buttons,[menuToggle]"),Oe=ze.closest("ion-header"),Dt=Oe&&Oe.classList.contains("header-collapse-condense-inactive"),Gt=Array.from(je).filter(jn=>{const Ft=jn.classList.contains("buttons-collapse");return Ft&&!Dt||!Ft});et.addElement(Gt);const Yt=(0,a.c)(),ln=ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ln.length>0&&Yt.addElement(ln);const pn=(0,a.c)();pn.addElement(K(ze).querySelector(".toolbar-background"));const or=(0,a.c)(),vn=ze.querySelector("ion-back-button");if(vn&&or.addElement(vn),lt.addAnimation([gt,et,Yt,or,pn]),me.addAnimation(lt),or.fromTo(fe,.99,0),et.fromTo(fe,.99,0),Yt.fromTo(fe,.99,0),He){if(Dt||gt.fromTo("transform",`translateX(${ye})`,oe?"translateX(-100%)":"translateX(100%)").fromTo(fe,.99,0),Yt.fromTo("transform",`translateX(${ye})`,oe?"translateX(-100%)":"translateX(100%)"),pn.beforeClearStyles([fe,"transform"]),(null==Oe?void 0:Oe.translucent)?pn.fromTo("transform","translateX(0px)",oe?"translateX(-100%)":"translateX(100%)"):pn.fromTo(fe,"var(--opacity)",0),vn&&!qt){const Ft=(0,a.c)();Ft.addElement(K(vn).querySelector(".button-text")).fromTo("transform",`translateX(${ye})`,`translateX(${(oe?-124:124)+"px"})`),lt.addAnimation(Ft)}}else Dt||gt.fromTo("transform",`translateX(${ye})`,`translateX(${ke})`).fromTo(fe,.99,0).afterClearStyles([Pe,fe]),Yt.fromTo("transform",`translateX(${ye})`,`translateX(${ke})`).afterClearStyles([Pe,fe]),or.afterClearStyles([fe]),gt.afterClearStyles([fe]),et.afterClearStyles([fe])})}return me}catch(Xe){throw Xe}}},6409:(an,ct,M)=>{"use strict";M.r(ct),M.d(ct,{mdTransitionAnimation:()=>Ce});var a=M(6304),b=M(358);M(2361);const Ce=(Ie,K)=>{const pe="back"===K.direction,J=K.leavingEl,se=(0,b.g)(K.enteringEl),Z=se.querySelector("ion-toolbar"),Ne=(0,a.c)();if(Ne.addElement(se).fill("both").beforeRemoveClass("ion-page-invisible"),pe?Ne.duration(K.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ne.duration(K.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Z){const Xe=(0,a.c)();Xe.addElement(Z),Ne.addAnimation(Xe)}if(J&&pe){Ne.duration(K.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Xe=(0,a.c)();Xe.addElement((0,b.g)(J)).onFinish(fe=>{1===fe&&Xe.elements.length>0&&Xe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ne.addAnimation(Xe)}return Ne}},3986:(an,ct,M)=>{"use strict";M.d(ct,{B:()=>ze,a:()=>_e,b:()=>pe,c:()=>Z,d:()=>Ve,e:()=>Xe,f:()=>Te,g:()=>qt,h:()=>K,i:()=>bt,j:()=>ot,k:()=>wt,l:()=>X,m:()=>J,s:()=>dt,t:()=>Ne});var a=M(5861),b=M(8686),U=M(527),Ce=M(206);let Ie=0;const K=new WeakMap,he=lt=>({create:gt=>fe(lt,gt),dismiss:(gt,et,je)=>_t(document,gt,et,lt,je),getTop:()=>(0,a.Z)(function*(){return wt(document,lt)})()}),_e=he("ion-alert"),pe=he("ion-action-sheet"),X=he("ion-loading"),J=he("ion-modal"),Z=he("ion-popover"),Ne=he("ion-toast"),Xe=lt=>{"undefined"!=typeof document&&at(document);const gt=Ie++;lt.overlayIndex=gt,lt.hasAttribute("id")||(lt.id=`ion-overlay-${gt}`)},fe=(lt,gt)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(lt).then(()=>{const et=document.createElement(lt);return et.classList.add("overlay-hidden"),Object.assign(et,Object.assign(Object.assign({},gt),{hasController:!0})),De(document).appendChild(et),new Promise(je=>(0,Ce.c)(et,je))}):Promise.resolve(),Pe='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',ye="input:not([type=hidden]), textarea, button, select",ot=(lt,gt)=>{let et=lt.querySelector(Pe);const je=et&&et.shadowRoot;je&&(et=je.querySelector(ye)||et),et?(0,Ce.f)(et):gt.focus()},ut=(lt,gt)=>{const et=Array.from(lt.querySelectorAll(Pe));let je=et.length>0?et[et.length-1]:null;const Oe=je&&je.shadowRoot;Oe&&(je=Oe.querySelector(ye)||je),je?je.focus():gt.focus()},at=lt=>{0===Ie&&(Ie=1,lt.addEventListener("focus",gt=>{((lt,gt)=>{const et=wt(gt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),je=lt.target;et&&je&&!et.classList.contains("ion-disable-focus-trap")&&(et.shadowRoot?(()=>{if(et.contains(je))et.lastFocus=je;else{const Gt=et.lastFocus;ot(et,et),Gt===gt.activeElement&&ut(et,et),et.lastFocus=gt.activeElement}})():(()=>{if(et===je)et.lastFocus=void 0;else{const Gt=(0,Ce.g)(et);if(!Gt.contains(je))return;const Yt=Gt.querySelector(".ion-overlay-wrapper");if(!Yt)return;if(Yt.contains(je))et.lastFocus=je;else{const ln=et.lastFocus;ot(Yt,et),ln===gt.activeElement&&ut(Yt,et),et.lastFocus=gt.activeElement}}})())})(gt,lt)},!0),lt.addEventListener("ionBackButton",gt=>{const et=wt(lt);et&&et.backdropDismiss&&gt.detail.register(U.OVERLAY_BACK_BUTTON_PRIORITY,()=>et.dismiss(void 0,ze))}),lt.addEventListener("keyup",gt=>{if("Escape"===gt.key){const et=wt(lt);et&&et.backdropDismiss&&et.dismiss(void 0,ze)}}))},_t=(lt,gt,et,je,Oe)=>{const Dt=wt(lt,je,Oe);return Dt?Dt.dismiss(gt,et):Promise.reject("overlay does not exist")},wt=(lt,gt,et)=>{const je=((lt,gt)=>(void 0===gt&&(gt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(lt.querySelectorAll(gt)).filter(et=>et.overlayIndex>0)))(lt,gt).filter(Oe=>!(lt=>lt.classList.contains("overlay-hidden"))(Oe));return void 0===et?je[je.length-1]:je.find(Oe=>Oe.id===et)},ve=(lt=!1)=>{const et=De(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!et||(lt?et.setAttribute("aria-hidden","true"):et.removeAttribute("aria-hidden"))},Ve=function(){var lt=(0,a.Z)(function*(gt,et,je,Oe,Dt){var Gt,Yt;if(gt.presented)return;ve(!0),gt.presented=!0,gt.willPresent.emit(),null===(Gt=gt.willPresentShorthand)||void 0===Gt||Gt.emit();const ln=(0,b.b)(gt),pn=gt.enterAnimation?gt.enterAnimation:b.c.get(et,"ios"===ln?je:Oe);(yield qe(gt,pn,gt.el,Dt))&&(gt.didPresent.emit(),null===(Yt=gt.didPresentShorthand)||void 0===Yt||Yt.emit()),"ION-TOAST"!==gt.el.tagName&&me(gt.el),gt.keyboardClose&&gt.el.focus()});return function(et,je,Oe,Dt,Gt){return lt.apply(this,arguments)}}(),me=function(){var lt=(0,a.Z)(function*(gt){let et=document.activeElement;if(!et)return;const je=et&&et.shadowRoot;je&&(et=je.querySelector(ye)||et),yield gt.onDidDismiss(),et.focus()});return function(et){return lt.apply(this,arguments)}}(),Te=function(){var lt=(0,a.Z)(function*(gt,et,je,Oe,Dt,Gt,Yt){var ln,pn;if(!gt.presented)return!1;ve(!1),gt.presented=!1;try{gt.el.style.setProperty("pointer-events","none"),gt.willDismiss.emit({data:et,role:je}),null===(ln=gt.willDismissShorthand)||void 0===ln||ln.emit({data:et,role:je});const or=(0,b.b)(gt),vn=gt.leaveAnimation?gt.leaveAnimation:b.c.get(Oe,"ios"===or?Dt:Gt);"gesture"!==je&&(yield qe(gt,vn,gt.el,Yt)),gt.didDismiss.emit({data:et,role:je}),null===(pn=gt.didDismissShorthand)||void 0===pn||pn.emit({data:et,role:je}),K.delete(gt),gt.el.classList.add("overlay-hidden"),gt.el.style.removeProperty("pointer-events")}catch(or){console.error(or)}return gt.el.remove(),!0});return function(et,je,Oe,Dt,Gt,Yt,ln){return lt.apply(this,arguments)}}(),De=lt=>lt.querySelector("ion-app")||lt.body,qe=function(){var lt=(0,a.Z)(function*(gt,et,je,Oe){je.classList.remove("overlay-hidden");const Gt=et(gt.el,Oe);(!gt.animated||!b.c.getBoolean("animated",!0))&&Gt.duration(0),gt.keyboardClose&&Gt.beforeAddWrite(()=>{const ln=je.ownerDocument.activeElement;ln&&ln.matches("input,ion-input, ion-textarea")&&ln.blur()});const Yt=K.get(gt)||[];return K.set(gt,[...Yt,Gt]),yield Gt.play(),!0});return function(et,je,Oe,Dt){return lt.apply(this,arguments)}}(),qt=(lt,gt)=>{let et;const je=new Promise(Oe=>et=Oe);return tn(lt,gt,Oe=>{et(Oe.detail)}),je},tn=(lt,gt,et)=>{const je=Oe=>{(0,Ce.b)(lt,gt,je),et(Oe)};(0,Ce.a)(lt,gt,je)},bt=lt=>"cancel"===lt||lt===ze,pt=lt=>lt(),dt=(lt,gt)=>{if("function"==typeof lt)return b.c.get("_zoneGate",pt)(()=>{try{return lt(gt)}catch(je){throw je}})},ze="backdrop"},4928:(an,ct,M)=>{"use strict";M.d(ct,{y:()=>he});var a=M(6435),b=M(8962),U=M(1343),Ce=M(5739),Ie=M(9808);function K(_e,pe){if(1&_e&&(a.TgZ(0,"ion-item")(1,"ion-label",10),a._uU(2),a.TgZ(3,"p",10),a._uU(4),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.ALo(7,"date"),a.qZA()()()),2&_e){const X=pe.$implicit;a.xp6(2),a.hij("",X.autor," "),a.xp6(2),a.Oqu(X.comentario),a.xp6(2),a.Oqu(a.xi3(7,3,1e3*X.fecha.seconds,"medium"))}}let he=(()=>{class _e{constructor(X,J,se){this.modalController=X,this.firestoreService=J,this.authService=se,this.comentario="",this.comentarios=[]}ngOnInit(){console.log("producto",this.producto),this.loadComentarios()}ngOnDestroy(){console.log("ngOnDestroy() modal"),this.suscriber&&this.suscriber.unsubscribe()}closeModal(){this.modalController.dismiss()}loadComentarios(){let X=null;this.comentarios.length&&(X=this.comentarios[this.comentarios.length-1].fecha),this.suscriber=this.firestoreService.getCollectionPaginada("Productos/"+this.producto.id+"/comentarios",3,X).subscribe(se=>{se.length&&(se.forEach(Z=>{void 0!==this.comentarios.find(Xe=>{})&&this.comentarios.push(Z)}),console.log(se)),console.log("loadComentarios",this.comentarios)})}comentar(){const X=this.comentario;console.log("comentario ->",X);const J="Productos/"+this.producto.id+"/comentarios",se={autor:this.authService.datosIUser.correo,comentario:X,fecha:new Date,id:this.firestoreService.createId()};this.firestoreService.createDocument(se,J,se.id).then(()=>{console.log("comentario enviado"),this.comentario=""})}}return _e.\u0275fac=function(X){return new(X||_e)(a.Y36(b.IN),a.Y36(U.C),a.Y36(Ce.e))},_e.\u0275cmp=a.Xpm({type:_e,selectors:[["app-comentarios"]],inputs:{producto:"producto",datosIIser:"datosIIser"},decls:20,vars:2,consts:[[1,"subtitulo","ion-text-wrap"],["slot","start"],[3,"click"],["color","primary","slot","icon-only","name","arrow-back-outline"],[1,"subtitulo"],[4,"ngFor","ngForOf"],[2,"text-align","center","margin","10px"],[1,"normal",2,"color","white !important",3,"click"],["slot","end"],["color","success","slot","icon-only","name","send"],[1,"normal"]],template:function(X,J){1&X&&(a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),a._uU(3," Comentarios "),a.qZA(),a.TgZ(4,"ion-buttons",1)(5,"ion-button",2),a.NdJ("click",function(){return J.closeModal()}),a._UZ(6,"ion-icon",3),a.qZA()()()(),a.TgZ(7,"ion-content")(8,"ion-item")(9,"ion-label",4),a._uU(10),a.qZA()(),a.YNc(11,K,8,6,"ion-item",5),a.TgZ(12,"div",6)(13,"ion-button",7),a.NdJ("click",function(){return J.loadComentarios()}),a._uU(14,"Cargar m\xe1s"),a.qZA()()(),a.TgZ(15,"ion-footer")(16,"ion-item")(17,"ion-buttons",8)(18,"ion-button",2),a.NdJ("click",function(){return J.comentar()}),a._UZ(19,"ion-icon",9),a.qZA()()()()),2&X&&(a.xp6(10),a.Oqu(J.producto.nombre),a.xp6(1),a.Q6J("ngForOf",J.comentarios))},directives:[b.Gu,b.sr,b.wd,b.Sm,b.YG,b.gu,b.W2,b.Ie,b.Q$,Ie.sg,b.fr],pipes:[Ie.uU],styles:[""]}),_e})()},5503:(an,ct,M)=>{"use strict";M.d(ct,{D:()=>Ie});var a=M(9808),b=M(2589),U=M(8962),Ce=M(6435);let Ie=(()=>{class K{}return K.\u0275fac=function(_e){return new(_e||K)},K.\u0275mod=Ce.oAB({type:K}),K.\u0275inj=Ce.cJS({imports:[[a.ez,U.Pc,b.Bz]]}),K})()},7484:(an,ct,M)=>{"use strict";M.d(ct,{U:()=>b});var a=M(6435);let b=(()=>{class U{transform(Ie,K){return" "===K?Ie:Ie.filter(he=>he.nombre.toLowerCase().includes(K.toLowerCase()))}}return U.\u0275fac=function(Ie){return new(Ie||U)},U.\u0275pipe=a.Yjl({name:"supermercado",type:U,pure:!0}),U})()},5739:(an,ct,M)=>{"use strict";M.d(ct,{e:()=>Xe});var a=M(655),b=M(8929),U=M(591),Ce=M(1086),Ie=M(7545),K=M(424),J=(M(2090),M(9681),M(1877),M(4859),M(6435)),se=M(4941),Z=M(2796),Ne=M(1343);let Xe=(()=>{class fe{constructor(ye,ot,oe){this.afAuth=ye,this.afs=ot,this.firestoreSvc=oe,this.userSubject=new b.xQ,this.logged=new U.X(!1),this.user$=this.afAuth.authState.pipe((0,Ie.w)(ut=>ut?this.afs.doc(`users/${ut.uid}`).valueChanges():(0,Ce.of)(null))),this.admin$=this.afAuth.authState.pipe((0,Ie.w)(ut=>ut?this.afs.doc(`users/${ut.uid}`).valueChanges():(0,Ce.of)(null))),this.stateUser()}login(ye,ot){return(0,a.mG)(this,void 0,void 0,function*(){try{const{user:ut}=yield this.afAuth.signInWithEmailAndPassword(ye,ot);return this.updateUserData(ut),ut}catch(ut){console.log("Error->",ut)}})}registrarUser(ye){return this.afAuth.createUserWithEmailAndPassword(ye.correo,ye.password)}register(ye,ot){return(0,a.mG)(this,void 0,void 0,function*(){try{let{user:oe}=yield this.afAuth.createUserWithEmailAndPassword(ye,ot);return yield this.sendVerificationEmail(),oe}catch(oe){console.log("Error->",oe)}})}resetPassword(ye){return(0,a.mG)(this,void 0,void 0,function*(){try{return this.afAuth.sendPasswordResetEmail(ye)}catch(ot){console.log("Error->",ot)}})}loginGoogle(){return(0,a.mG)(this,void 0,void 0,function*(){try{const{user:ye}=yield this.afAuth.signInWithPopup(new K.N);return this.updateUserData(ye),ye}catch(ye){console.log("Error->",ye)}})}logout(){return(0,a.mG)(this,void 0,void 0,function*(){this.afAuth.signOut(),localStorage.removeItem("idToken")})}sendVerificationEmail(){return(0,a.mG)(this,void 0,void 0,function*(){try{return(yield this.afAuth.currentUser).sendEmailVerification()}catch(ye){console.log("Error->",ye)}})}isMailVerified(ye){return!0===ye.emailVerified}stateUser(){return this.afAuth.authState}getUser(){}getToken(){return this.token}getLocalId(){return(0,a.mG)(this,void 0,void 0,function*(){if(yield this.afAuth.currentUser){const ot=localStorage.getItem("localId");return console.log("localId",ot),ot}return null})}getUid(){return(0,a.mG)(this,void 0,void 0,function*(){const ye=yield this.afAuth.currentUser;return ye?ye.uid:null})}getInfoUser(){return(0,a.mG)(this,void 0,void 0,function*(){const ye=yield this.getUid();this.firestoreSvc.getDocument("Usuarios",ye).subscribe(oe=>{void 0!==oe&&(this.datosIUser=oe,console.log("datosCliente ->",this.datosIUser))})})}updateUserData(ye){return this.afs.doc(`users/${ye.uid}`).set({uid:ye.uid,email:ye.email,emailVerified:ye.emailVerified,displayName:ye.displayName},{merge:!0})}}return fe.\u0275fac=function(ye){return new(ye||fe)(J.LFG(se.zQ),J.LFG(Z.ST),J.LFG(Ne.C))},fe.\u0275prov=J.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},1343:(an,ct,M)=>{"use strict";M.d(ct,{C:()=>U});var a=M(6435),b=M(2796);let U=(()=>{class Ce{constructor(K){this.firestore=K}createDocument(K,he,_e){return this.firestore.collection(he).doc(_e).set(K)}getDocument(K,he){return this.firestore.collection(K).doc(he).valueChanges()}deleteDoc(K,he){return this.firestore.collection(K).doc(he).delete()}updateDocument(K,he,_e){return this.firestore.collection(K).doc(he).update(_e)}createId(){return this.firestore.createId()}getCollection(K){return this.firestore.collection(K).valueChanges()}getCollectionQuery(K,he,_e,pe){return this.firestore.collection(K,J=>J.where(he,_e,pe)).valueChanges()}getCollectionAll(K,he,_e,pe,X){return null==X&&(X=new Date),this.firestore.collectionGroup(K,se=>se.where(he,_e,pe).orderBy("fecha","desc").limit(2).startAfter(X)).valueChanges()}getCollectionPaginada(K,he,_e){return null==_e&&(_e=new Date),this.firestore.collection(K,X=>X.orderBy("supermercado","desc").limit(he).startAfter(_e)).valueChanges()}}return Ce.\u0275fac=function(K){return new(K||Ce)(a.LFG(b.ST))},Ce.\u0275prov=a.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},3602:(an,ct,M)=>{"use strict";M.d(ct,{k:()=>Ce});var a=M(655),b=M(6435),U=M(8962);let Ce=(()=>{class Ie{constructor(he,_e){this.toastController=he,this.loadingController=_e}presentToast(he,_e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:he,duration:_e})).present()})}presentLoading(){return(0,a.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingController.create({message:"Guardando"}),yield this.loading.present()})}}return Ie.\u0275fac=function(he){return new(he||Ie)(b.LFG(U.yF),b.LFG(U.HT))},Ie.\u0275prov=b.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},2205:(an,ct,M)=>{"use strict";M.d(ct,{J:()=>he});var a=M(8929),b=M(6435),U=M(5739),Ce=M(1343),Ie=M(2589),K=M(3602);let he=(()=>{class _e{constructor(X,J,se,Z){this.authSvc=X,this.firestoreSvc=J,this.router=se,this.interactionSvc=Z,this.uid=localStorage.getItem("localId"),this.path="Lista/",this.lista$=new a.xQ,this.loadUsuario()}loadUsuario(){this.firestoreSvc.getDocument("Usuarios",this.uid).subscribe(J=>{this.usuario=J,this.loadLista()})}loadLista(){this.firestoreSvc.getDocument("Usuarios/"+this.uid+"/Lista",this.uid).subscribe(J=>{J?(this.lista=J,this.lista$.next(this.lista)):this.initLista()})}initLista(){this.lista={id:this.uid,usuario:this.usuario,productos:[],precioTotal:null,fecha:new Date,estado:"abierta"},this.lista$.next(this.lista)}getLista(){return this.lista$.next(this.lista),this.lista$.asObservable()}addProducto(X){if(this.uid.length){{const se=this.lista.productos.find(Z=>Z.producto.id===X.id);void 0!==se?se.cantidad++:this.lista.productos.push({cantidad:1,producto:X})}this.lista$.next(this.lista),this.firestoreSvc.createDocument(this.lista,"Usuarios/"+this.uid+"/"+this.path,this.lista.id).then(()=>{console.log("A\xf1adido con exito"),this.interactionSvc.presentToast("A\xf1adido con exito",2e3)})}}removeProducto(X){if(this.uid.length){let J=0;const se=this.lista.productos.find((Z,Ne)=>(J=Ne,Z.producto.id===X.id));void 0!==se&&(se.cantidad--,0===se.cantidad&&this.lista.productos.splice(J,1),this.firestoreSvc.createDocument(this.lista,"Usuarios/"+this.uid+"/"+this.path,this.lista.id).then(()=>{console.log("Borrado con exito")}))}}guardarLista(){}clearLista(){this.initLista(),this.firestoreSvc.deleteDoc("Usuarios/"+this.uid+"/Lista",this.uid).then(()=>{this.initLista()})}}return _e.\u0275fac=function(X){return new(X||_e)(b.LFG(U.e),b.LFG(Ce.C),b.LFG(Ie.F0),b.LFG(K.k))},_e.\u0275prov=b.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},3940:(an,ct,M)=>{"use strict";var a=M(9808),b=M(6435);class U extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends U{static makeCurrent(){(0,a.HT)(new Ce)}onAndCancel($,N,ce){return $.addEventListener(N,ce,!1),()=>{$.removeEventListener(N,ce,!1)}}dispatchEvent($,N){$.dispatchEvent(N)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,N){return(N=N||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,N){return"window"===N?window:"document"===N?$:"body"===N?$.body:null}getBaseHref($){const N=function K(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==N?null:function _e(P){he=he||document.createElement("a"),he.setAttribute("href",P);const $=he.pathname;return"/"===$.charAt(0)?$:`/${$}`}(N)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,a.Mx)(document.cookie,$)}}let he,Ie=null;const pe=new b.OlP("TRANSITION_ID"),J=[{provide:b.ip1,useFactory:function X(P,$,N){return()=>{N.get(b.CZH).donePromise.then(()=>{const ce=(0,a.q)(),Ge=$.querySelectorAll(`style[ng-transition="${P}"]`);for(let Pt=0;Pt<Ge.length;Pt++)ce.remove(Ge[Pt])})}},deps:[pe,a.K0,b.zs3],multi:!0}];class se{static init(){(0,b.VLi)(new se)}addToWindow($){b.dqk.getAngularTestability=(ce,Ge=!0)=>{const Pt=$.findTestabilityInTree(ce,Ge);if(null==Pt)throw new Error("Could not find testability for element.");return Pt},b.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(ce=>{const Ge=b.dqk.getAllAngularTestabilities();let Pt=Ge.length,zt=!1;const Wn=function(Sn){zt=zt||Sn,Pt--,0==Pt&&ce(zt)};Ge.forEach(function(Sn){Sn.whenStable(Wn)})})}findTestabilityInTree($,N,ce){if(null==N)return null;const Ge=$.getTestability(N);return null!=Ge?Ge:ce?(0,a.q)().isShadowRoot(N)?this.findTestabilityInTree($,N.host,!0):this.findTestabilityInTree($,N.parentElement,!0):null}}let Z=(()=>{class P{build(){return new XMLHttpRequest}}return P.\u0275fac=function(N){return new(N||P)},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})();const Ne=new b.OlP("EventManagerPlugins");let Xe=(()=>{class P{constructor(N,ce){this._zone=ce,this._eventNameToPlugin=new Map,N.forEach(Ge=>Ge.manager=this),this._plugins=N.slice().reverse()}addEventListener(N,ce,Ge){return this._findPluginFor(ce).addEventListener(N,ce,Ge)}addGlobalEventListener(N,ce,Ge){return this._findPluginFor(ce).addGlobalEventListener(N,ce,Ge)}getZone(){return this._zone}_findPluginFor(N){const ce=this._eventNameToPlugin.get(N);if(ce)return ce;const Ge=this._plugins;for(let Pt=0;Pt<Ge.length;Pt++){const zt=Ge[Pt];if(zt.supports(N))return this._eventNameToPlugin.set(N,zt),zt}throw new Error(`No event manager plugin found for event ${N}`)}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(Ne),b.LFG(b.R0b))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})();class fe{constructor($){this._doc=$}addGlobalEventListener($,N,ce){const Ge=(0,a.q)().getGlobalEventTarget(this._doc,$);if(!Ge)throw new Error(`Unsupported event target ${Ge} for event ${N}`);return this.addEventListener(Ge,N,ce)}}let Pe=(()=>{class P{constructor(){this._stylesSet=new Set}addStyles(N){const ce=new Set;N.forEach(Ge=>{this._stylesSet.has(Ge)||(this._stylesSet.add(Ge),ce.add(Ge))}),this.onStylesAdded(ce)}onStylesAdded(N){}getAllStyles(){return Array.from(this._stylesSet)}}return P.\u0275fac=function(N){return new(N||P)},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})(),ye=(()=>{class P extends Pe{constructor(N){super(),this._doc=N,this._hostNodes=new Map,this._hostNodes.set(N.head,[])}_addStylesToHost(N,ce,Ge){N.forEach(Pt=>{const zt=this._doc.createElement("style");zt.textContent=Pt,Ge.push(ce.appendChild(zt))})}addHost(N){const ce=[];this._addStylesToHost(this._stylesSet,N,ce),this._hostNodes.set(N,ce)}removeHost(N){const ce=this._hostNodes.get(N);ce&&ce.forEach(ot),this._hostNodes.delete(N)}onStylesAdded(N){this._hostNodes.forEach((ce,Ge)=>{this._addStylesToHost(N,Ge,ce)})}ngOnDestroy(){this._hostNodes.forEach(N=>N.forEach(ot))}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(a.K0))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})();function ot(P){(0,a.q)().remove(P)}const oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g;function Ve(P,$,N){for(let ce=0;ce<$.length;ce++){let Ge=$[ce];Array.isArray(Ge)?Ve(P,Ge,N):(Ge=Ge.replace(ut,P),N.push(Ge))}return N}function me(P){return $=>{if("__ngUnwrap__"===$)return P;!1===P($)&&($.preventDefault(),$.returnValue=!1)}}let De=(()=>{class P{constructor(N,ce,Ge){this.eventManager=N,this.sharedStylesHost=ce,this.appId=Ge,this.rendererByCompId=new Map,this.defaultRenderer=new qe(N)}createRenderer(N,ce){if(!N||!ce)return this.defaultRenderer;switch(ce.encapsulation){case b.ifc.Emulated:{let Ge=this.rendererByCompId.get(ce.id);return Ge||(Ge=new bt(this.eventManager,this.sharedStylesHost,ce,this.appId),this.rendererByCompId.set(ce.id,Ge)),Ge.applyToHost(N),Ge}case 1:case b.ifc.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,N,ce);default:if(!this.rendererByCompId.has(ce.id)){const Ge=Ve(ce.id,ce.styles,[]);this.sharedStylesHost.addStyles(Ge),this.rendererByCompId.set(ce.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(Xe),b.LFG(ye),b.LFG(b.AFp))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})();class qe{constructor($){this.eventManager=$,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,N){return N?document.createElementNS(oe[N]||N,$):document.createElement($)}createComment($){return document.createComment($)}createText($){return document.createTextNode($)}appendChild($,N){$.appendChild(N)}insertBefore($,N,ce){$&&$.insertBefore(N,ce)}removeChild($,N){$&&$.removeChild(N)}selectRootElement($,N){let ce="string"==typeof $?document.querySelector($):$;if(!ce)throw new Error(`The selector "${$}" did not match any elements`);return N||(ce.textContent=""),ce}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,N,ce,Ge){if(Ge){N=Ge+":"+N;const Pt=oe[Ge];Pt?$.setAttributeNS(Pt,N,ce):$.setAttribute(N,ce)}else $.setAttribute(N,ce)}removeAttribute($,N,ce){if(ce){const Ge=oe[ce];Ge?$.removeAttributeNS(Ge,N):$.removeAttribute(`${ce}:${N}`)}else $.removeAttribute(N)}addClass($,N){$.classList.add(N)}removeClass($,N){$.classList.remove(N)}setStyle($,N,ce,Ge){Ge&(b.JOm.DashCase|b.JOm.Important)?$.style.setProperty(N,ce,Ge&b.JOm.Important?"important":""):$.style[N]=ce}removeStyle($,N,ce){ce&b.JOm.DashCase?$.style.removeProperty(N):$.style[N]=""}setProperty($,N,ce){$[N]=ce}setValue($,N){$.nodeValue=N}listen($,N,ce){return"string"==typeof $?this.eventManager.addGlobalEventListener($,N,me(ce)):this.eventManager.addEventListener($,N,me(ce))}}class bt extends qe{constructor($,N,ce,Ge){super($),this.component=ce;const Pt=Ve(Ge+"-"+ce.id,ce.styles,[]);N.addStyles(Pt),this.contentAttr=function wt(P){return"_ngcontent-%COMP%".replace(ut,P)}(Ge+"-"+ce.id),this.hostAttr=function ve(P){return"_nghost-%COMP%".replace(ut,P)}(Ge+"-"+ce.id)}applyToHost($){super.setAttribute($,this.hostAttr,"")}createElement($,N){const ce=super.createElement($,N);return super.setAttribute(ce,this.contentAttr,""),ce}}class pt extends qe{constructor($,N,ce,Ge){super($),this.sharedStylesHost=N,this.hostEl=ce,this.shadowRoot=ce.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pt=Ve(Ge.id,Ge.styles,[]);for(let zt=0;zt<Pt.length;zt++){const Wn=document.createElement("style");Wn.textContent=Pt[zt],this.shadowRoot.appendChild(Wn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild($,N){return super.appendChild(this.nodeOrShadowRoot($),N)}insertBefore($,N,ce){return super.insertBefore(this.nodeOrShadowRoot($),N,ce)}removeChild($,N){return super.removeChild(this.nodeOrShadowRoot($),N)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}}let dt=(()=>{class P extends fe{constructor(N){super(N)}supports(N){return!0}addEventListener(N,ce,Ge){return N.addEventListener(ce,Ge,!1),()=>this.removeEventListener(N,ce,Ge)}removeEventListener(N,ce,Ge){return N.removeEventListener(ce,Ge)}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(a.K0))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})();const ze=["alt","control","meta","shift"],gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},je={alt:P=>P.altKey,control:P=>P.ctrlKey,meta:P=>P.metaKey,shift:P=>P.shiftKey};let Oe=(()=>{class P extends fe{constructor(N){super(N)}supports(N){return null!=P.parseEventName(N)}addEventListener(N,ce,Ge){const Pt=P.parseEventName(ce),zt=P.eventCallback(Pt.fullKey,Ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(N,Pt.domEventName,zt))}static parseEventName(N){const ce=N.toLowerCase().split("."),Ge=ce.shift();if(0===ce.length||"keydown"!==Ge&&"keyup"!==Ge)return null;const Pt=P._normalizeKey(ce.pop());let zt="";if(ze.forEach(Sn=>{const g=ce.indexOf(Sn);g>-1&&(ce.splice(g,1),zt+=Sn+".")}),zt+=Pt,0!=ce.length||0===Pt.length)return null;const Wn={};return Wn.domEventName=Ge,Wn.fullKey=zt,Wn}static getEventFullKey(N){let ce="",Ge=function Dt(P){let $=P.key;if(null==$){if($=P.keyIdentifier,null==$)return"Unidentified";$.startsWith("U+")&&($=String.fromCharCode(parseInt($.substring(2),16)),3===P.location&&et.hasOwnProperty($)&&($=et[$]))}return gt[$]||$}(N);return Ge=Ge.toLowerCase()," "===Ge?Ge="space":"."===Ge&&(Ge="dot"),ze.forEach(Pt=>{Pt!=Ge&&je[Pt](N)&&(ce+=Pt+".")}),ce+=Ge,ce}static eventCallback(N,ce,Ge){return Pt=>{P.getEventFullKey(Pt)===N&&Ge.runGuarded(()=>ce(Pt))}}static _normalizeKey(N){return"esc"===N?"escape":N}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(a.K0))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),P})();const or=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:a.bD},{provide:b.g9A,useValue:function Gt(){Ce.makeCurrent(),se.init()},multi:!0},{provide:a.K0,useFactory:function ln(){return(0,b.RDi)(document),document},deps:[]}]),vn=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function Yt(){return new b.qLn},deps:[]},{provide:Ne,useClass:dt,multi:!0,deps:[a.K0,b.R0b,b.Lbi]},{provide:Ne,useClass:Oe,multi:!0,deps:[a.K0]},{provide:De,useClass:De,deps:[Xe,ye,b.AFp]},{provide:b.FYo,useExisting:De},{provide:Pe,useExisting:ye},{provide:ye,useClass:ye,deps:[a.K0]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b]},{provide:Xe,useClass:Xe,deps:[Ne,b.R0b]},{provide:a.JF,useClass:Z,deps:[]}];let jn=(()=>{class P{constructor(N){if(N)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(N){return{ngModule:P,providers:[{provide:b.AFp,useValue:N.appId},{provide:pe,useExisting:b.AFp},J]}}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(P,12))},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({providers:vn,imports:[a.ez,b.hGG]}),P})();"undefined"!=typeof window&&window;var Ae=M(2589),We=M(8962),Zt=M(655),Xn=M(2916),En=M(3753),Jn={error:"cordova_not_available"},Rn={error:"plugin_not_installed"};function er(P){if("undefined"!=typeof window&&window.angular){var N=window.document,ce=window.angular.element(N.querySelector("[ng-app]")||N.body).injector();if(ce)return ce.get("$q")(function(Pt,zt){P(Pt,zt)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Pt,zt){P(Pt,zt)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function tr(P,$,N,ce){void 0===ce&&(ce={});var Ge,Pt,zt=er(function(Wn,Sn){Ge=ce.destruct?mr(P,$,N,ce,function(){for(var g=[],L=0;L<arguments.length;L++)g[L]=arguments[L];return Wn(g)},function(){for(var g=[],L=0;L<arguments.length;L++)g[L]=arguments[L];return Sn(g)}):mr(P,$,N,ce,Wn,Sn),Pt=Sn});return Ge&&Ge.error&&(zt.catch(function(){}),"function"==typeof Pt&&Pt(Ge.error)),zt}function Rr(P,$,N,ce){return void 0===ce&&(ce={}),er(function(Ge,Pt){var zt=mr(P,$,N,ce);zt?zt.error?Pt(zt.error):zt.then&&zt.then(Ge).catch(Pt):Pt({error:"unexpected_error"})})}function Or(P,$,N,ce){return void 0===ce&&(ce={}),new Xn.y(function(Ge){var Pt;return Pt=ce.destruct?mr(P,$,N,ce,function(){for(var zt=[],Wn=0;Wn<arguments.length;Wn++)zt[Wn]=arguments[Wn];return Ge.next(zt)},function(){for(var zt=[],Wn=0;Wn<arguments.length;Wn++)zt[Wn]=arguments[Wn];return Ge.error(zt)}):mr(P,$,N,ce,Ge.next.bind(Ge),Ge.error.bind(Ge)),Pt&&Pt.error&&(Ge.error(Pt.error),Ge.complete()),function(){try{if(ce.clearFunction)return ce.clearWithArgs?mr(P,ce.clearFunction,N,ce,Ge.next.bind(Ge),Ge.error.bind(Ge)):mr(P,ce.clearFunction,[])}catch(zt){console.warn("Unable to clear the previous observable watch for",P.constructor.getPluginName(),$),console.warn(zt)}}})}function Yr(P,$){return $="undefined"!=typeof window&&$?Lr(window,$):$||("undefined"!=typeof window?window:{}),(0,En.R)($,P)}function Wr(P,$,N){var ce,Ge,Pt;return"string"==typeof P?ce=P:(ce=P.constructor.getPluginRef(),N=P.constructor.getPluginName(),Pt=P.constructor.getPluginInstallName()),!(!(Ge=Pr(ce))||$&&void 0===Ge[$])||("undefined"!=typeof window&&window.cordova?(function en(P,$,N){console.warn(N?"Native: tried calling "+P+"."+N+", but the "+P+" plugin is not installed.":"Native: tried accessing the "+P+" plugin but it's not installed."),$&&console.warn("Install the "+P+" plugin: 'ionic cordova plugin add "+$+"'")}(N,Pt,$),Rn):(function kn(P,$){"undefined"==typeof process&&console.warn($?"Native: tried calling "+P+"."+$+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+P+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(N,$),Jn))}function mr(P,$,N,ce,Ge,Pt){void 0===ce&&(ce={}),N=function rr(P,$,N,ce){if(void 0===$&&($={}),$.sync)return P;if("reverse"===$.callbackOrder)P.unshift(ce),P.unshift(N);else if("node"===$.callbackStyle)P.push(function(Wn,Sn){Wn?ce(Wn):N(Sn)});else if("object"===$.callbackStyle&&$.successName&&$.errorName){var Ge={};Ge[$.successName]=N,Ge[$.errorName]=ce,P.push(Ge)}else if(void 0!==$.successIndex||void 0!==$.errorIndex){var Pt=function(){$.successIndex>P.length?P[$.successIndex]=N:P.splice($.successIndex,0,N)},zt=function(){$.errorIndex>P.length?P[$.errorIndex]=ce:P.splice($.errorIndex,0,ce)};$.successIndex>$.errorIndex?(zt(),Pt()):(Pt(),zt())}else P.push(N),P.push(ce);return P}(N,ce,Ge,Pt);var zt=Wr(P,$);if(!0===zt){var Wn=Pr(P.constructor.getPluginRef());return Wn[$].apply(Wn,N)}return zt}function Pr(P){return"undefined"!=typeof window?Lr(window,P):null}function Lr(P,$){for(var N=$.split("."),ce=P,Ge=0;Ge<N.length;Ge++){if(!ce)return null;ce=ce[N[Ge]]}return ce}var si=function(){function P(){}return P.installed=function(){return!0===Wr(this.pluginRef)},P.getPlugin=function(){return"undefined"!=typeof window?function ri(P,$){for(var N=$.split("."),ce=P,Ge=0;Ge<N.length;Ge++){if(!ce)return null;ce=ce[N[Ge]]}return ce}(window,this.pluginRef):null},P.getPluginName=function(){return this.pluginName},P.getPluginRef=function(){return this.pluginRef},P.getPluginInstallName=function(){return this.plugin},P.getSupportedPlatforms=function(){return this.platforms},P.pluginName="",P.pluginRef="",P.plugin="",P.repo="",P.platforms=[],P.install="",P}();function Hn(P,$,N,ce){return function(P,$,N){return void 0===N&&(N={}),function(){for(var ce=[],Ge=0;Ge<arguments.length;Ge++)ce[Ge]=arguments[Ge];return N.sync?mr(P,$,ce,N):N.observable?Or(P,$,ce,N):N.eventObservable&&N.event?Yr(N.event,N.element):N.otherPromise?Rr(P,$,ce,N):tr(P,$,ce,N)}}(P,$,N).apply(this,ce)}!function bn(){if("undefined"==typeof process){var P="undefined"!=typeof window?window:{},N=Date.now(),ce=!1;P.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-N)+" ms"),ce=!0}),setTimeout(function(){!ce&&P.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var ee=function(P){function $(){return null!==P&&P.apply(this,arguments)||this}return(0,Zt.ZT)($,P),$.prototype.show=function(){return Hn(this,"show",{sync:!0},arguments)},$.prototype.hide=function(){return Hn(this,"hide",{sync:!0},arguments)},$.pluginName="SplashScreen",$.plugin="cordova-plugin-splashscreen",$.pluginRef="navigator.splashscreen",$.repo="https://github.com/apache/cordova-plugin-splashscreen",$.platforms=["Amazon Fire OS","Android","iOS","Windows"],$.\u0275fac=function(){var N;return function(Ge){return(N||(N=b.n5z($)))(Ge||$)}}(),$.\u0275prov=b.Yz7({token:$,factory:function(N){return $.\u0275fac(N)}}),$}(si),be=function(P){function $(){return null!==P&&P.apply(this,arguments)||this}return(0,Zt.ZT)($,P),$.prototype.overlaysWebView=function(N){return Hn(this,"overlaysWebView",{sync:!0},arguments)},$.prototype.styleDefault=function(){return Hn(this,"styleDefault",{sync:!0},arguments)},$.prototype.styleLightContent=function(){return Hn(this,"styleLightContent",{sync:!0},arguments)},$.prototype.styleBlackTranslucent=function(){return Hn(this,"styleBlackTranslucent",{sync:!0},arguments)},$.prototype.styleBlackOpaque=function(){return Hn(this,"styleBlackOpaque",{sync:!0},arguments)},$.prototype.backgroundColorByName=function(N){return Hn(this,"backgroundColorByName",{sync:!0},arguments)},$.prototype.backgroundColorByHexString=function(N){return Hn(this,"backgroundColorByHexString",{sync:!0},arguments)},$.prototype.hide=function(){return Hn(this,"hide",{sync:!0},arguments)},$.prototype.show=function(){return Hn(this,"show",{sync:!0},arguments)},Object.defineProperty($.prototype,"isVisible",{get:function(){return function ui(P,$){return!0===Wr(P,$)?Pr(P.constructor.getPluginRef())[$]:null}(this,"isVisible")},set:function(N){!function ii(P,$,N){!0===Wr(P,$)&&(Pr(P.constructor.getPluginRef())[$]=N)}(this,"isVisible",N)},enumerable:!1,configurable:!0}),$.pluginName="StatusBar",$.plugin="cordova-plugin-statusbar",$.pluginRef="StatusBar",$.repo="https://github.com/apache/cordova-plugin-statusbar",$.platforms=["Android","iOS","Windows"],$.\u0275fac=function(){var N;return function(Ge){return(N||(N=b.n5z($)))(Ge||$)}}(),$.\u0275prov=b.Yz7({token:$,factory:function(N){return $.\u0275fac(N)}}),$}(si),ie=M(5739),xe=M(3602),Qe=M(1343);function ht(P,$){1&P&&(b.TgZ(0,"ion-item",11)(1,"ion-label"),b._uU(2,"Home"),b.qZA(),b._UZ(3,"ion-icon",12),b.qZA())}function vt(P,$){1&P&&(b.TgZ(0,"ion-item",13)(1,"ion-label"),b._uU(2,"Mi perfil"),b.qZA(),b._UZ(3,"ion-icon",14),b.qZA())}function Nt(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2,"Login"),b.qZA(),b._UZ(3,"ion-icon",15),b.qZA())}function kt(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2,"Register"),b.qZA(),b._UZ(3,"ion-icon",16),b.qZA())}function $t(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2," Crear Productos"),b.qZA(),b._UZ(3,"ion-icon",17),b.qZA())}function yn(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2," Crear Supermercados"),b.qZA(),b._UZ(3,"ion-icon",18),b.qZA())}function On(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2," Crear Secciones"),b.qZA(),b._UZ(3,"ion-icon",19),b.qZA())}function Bn(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2,"A\xf1ade productos a tu lista"),b.qZA(),b._UZ(3,"ion-icon",20),b.qZA())}function cr(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2,"Lista compra"),b.qZA(),b._UZ(3,"ion-icon",21),b.qZA())}function Vr(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2,"Mis listas"),b.qZA(),b._UZ(3,"ion-icon",22),b.qZA())}function qr(P,$){1&P&&(b.TgZ(0,"ion-item")(1,"ion-label"),b._uU(2,"Todas las listas"),b.qZA(),b._UZ(3,"ion-icon",23),b.qZA())}function rt(P,$){if(1&P){const N=b.EpF();b.TgZ(0,"ion-item",24),b.NdJ("click",function(){return b.CHM(N),b.oxw().logout()}),b.TgZ(1,"ion-label"),b._uU(2,"Logout"),b.qZA(),b._UZ(3,"ion-icon",25),b.qZA()}}let tt=(()=>{class P{constructor(N,ce,Ge,Pt,zt,Wn,Sn,g){this.menu=N,this.authSvc=ce,this.interactionSvc=Ge,this.router=Pt,this.platform=zt,this.statusBar=Wn,this.splashScreen=Sn,this.firestoreSvc=g,this.login=!1,this.admin=!1,this.authSvc.stateUser().subscribe(L=>{L?(console.log("logeado"),this.login=!0,this.getDatosUser(L.uid)):(console.log("no logeado"),this.login=!1)}),this.getUid()}closeMenu(){this.menu.close()}logout(){this.authSvc.logout(),this.interactionSvc.presentToast("Sesion finalizada",2e3),localStorage.clear(),sessionStorage.removeItem("token"),this.router.navigate(["home"])}getDatosUser(N){this.firestoreSvc.getDocument("Usuarios",N).subscribe(Pt=>{Pt&&(this.perfil=Pt.categoria)})}getUid(){this.authSvc.stateUser().subscribe(N=>{this.admin=null!==N&&"fgOaSpQTZOZeDNaE6YvPSJSu0g12"===N.uid})}}return P.\u0275fac=function(N){return new(N||P)(b.Y36(We._q),b.Y36(ie.e),b.Y36(xe.k),b.Y36(Ae.F0),b.Y36(We.t4),b.Y36(be),b.Y36(ee),b.Y36(Qe.C))},P.\u0275cmp=b.Xpm({type:P,selectors:[["app-root"]],decls:37,vars:12,consts:[["when","xl","contentId","main"],["side","start","menuId","custom","contentId","main",1,"my-custom-menu"],["color","tertiary"],["slot","end"],[3,"click"],["slot","icon-only","name","close-sharp"],["detail","true","routerLink","/home",4,"ngIf"],["detail","true","routerLink","/perfil",4,"ngIf"],[4,"ngIf"],["detail","true ",3,"click",4,"ngIf"],["id","main"],["detail","true","routerLink","/home"],["slot","end","name","home-sharp","type","button"],["detail","true","routerLink","/perfil"],["slot","end","type","button","name","person-circle-sharp"],["name","log-in-outline","type","button","routerLink","/login"],["name","accessibility-outline","type","button","routerLink","/registro"],["name","caret-down-sharp","type","button","routerLink","/set-productos"],["slot","end","name","caret-down-sharp","type","button","routerLink","/set-supermercados"],["slot","end","name","caret-down-sharp","type","button","routerLink","/set-secciones"],["slot","end","name","caret-down-sharp","type","button","routerLink","/lista-compra"],["slot","end","name","caret-down-sharp","type","button","routerLink","/lista"],["slot","end","name","file-tray-full-sharp","type","button","routerLink","/mislistas"],["slot","end","name"," file-tray-full-sharp ","type","button ","routerLink","/todasLasListas"],["detail","true ",3,"click"],["slot","end ","name","exit-outline ","type","button ","routerLink","/login "]],template:function(N,ce){1&N&&(b.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-header")(4,"ion-toolbar",2)(5,"ion-buttons",3)(6,"ion-button",4),b.NdJ("click",function(){return ce.closeMenu()}),b._UZ(7,"ion-icon",5),b.qZA()(),b.TgZ(8,"ion-title"),b._uU(9,"Menu"),b.qZA()()(),b.TgZ(10,"ion-content")(11,"ion-list")(12,"ion-menu-toggle"),b.YNc(13,ht,4,0,"ion-item",6),b.qZA(),b.TgZ(14,"ion-menu-toggle"),b.YNc(15,vt,4,0,"ion-item",7),b.qZA(),b.TgZ(16,"ion-menu-toggle"),b.YNc(17,Nt,4,0,"ion-item",8),b.qZA(),b.TgZ(18,"ion-menu-toggle"),b.YNc(19,kt,4,0,"ion-item",8),b.qZA(),b.TgZ(20,"ion-menu-toggle"),b.YNc(21,$t,4,0,"ion-item",8),b.qZA(),b.TgZ(22,"ion-menu-toggle"),b.YNc(23,yn,4,0,"ion-item",8),b.qZA(),b.TgZ(24,"ion-menu-toggle"),b.YNc(25,On,4,0,"ion-item",8),b.qZA(),b.TgZ(26,"ion-menu-toggle"),b.YNc(27,Bn,4,0,"ion-item",8),b.qZA(),b.TgZ(28,"ion-menu-toggle"),b.YNc(29,cr,4,0,"ion-item",8),b.qZA(),b.TgZ(30,"ion-menu-toggle"),b.YNc(31,Vr,4,0,"ion-item",8),b.qZA(),b.TgZ(32,"ion-menu-toggle"),b.YNc(33,qr,4,0,"ion-item",8),b.qZA(),b.TgZ(34,"ion-menu-toggle"),b.YNc(35,rt,4,0,"ion-item",9),b.qZA()()()(),b._UZ(36,"ion-router-outlet",10),b.qZA()()),2&N&&(b.xp6(13),b.Q6J("ngIf",!0===ce.login),b.xp6(2),b.Q6J("ngIf",!ce.admin&&!0===ce.login),b.xp6(2),b.Q6J("ngIf",!1===ce.login),b.xp6(2),b.Q6J("ngIf",!1===ce.login),b.xp6(2),b.Q6J("ngIf",ce.admin),b.xp6(2),b.Q6J("ngIf",ce.admin),b.xp6(2),b.Q6J("ngIf",ce.admin),b.xp6(2),b.Q6J("ngIf",!ce.admin&&!0===ce.login),b.xp6(2),b.Q6J("ngIf",!ce.admin&&!0===ce.login),b.xp6(2),b.Q6J("ngIf",!ce.admin&&!0===ce.login),b.xp6(2),b.Q6J("ngIf",ce.admin),b.xp6(2),b.Q6J("ngIf",!0===ce.login))},directives:[We.dr,We.jI,We.z0,We.Gu,We.sr,We.Sm,We.YG,We.gu,We.wd,We.W2,We.q_,We.zc,a.O5,We.Ie,We.YI,Ae.rH,We.Q$,We.jP],styles:[""]}),P})();var mt=M(2205);function Bt(P,$){if(1&P){const N=b.EpF();b.TgZ(0,"ion-buttons",6)(1,"ion-button",7),b.NdJ("click",function(){return b.CHM(N),b.oxw().addLista()}),b._UZ(2,"ion-icon",8),b.qZA(),b.TgZ(3,"ion-button",9),b.NdJ("click",function(){return b.CHM(N),b.oxw().removeLista()}),b._UZ(4,"ion-icon",10),b.qZA()()}}let nn=(()=>{class P{constructor(N,ce){this.listaSvc=N,this.interactionSvc=ce,this.botones=!0}ngOnInit(){}addLista(){console.log("addLista()"),this.listaSvc.addProducto(this.productoLista.producto),this.interactionSvc.presentToast("guardado con exito",2e3)}removeLista(){this.listaSvc.removeProducto(this.productoLista.producto),this.interactionSvc.presentToast("borrado con exito",2e3)}}return P.\u0275fac=function(N){return new(N||P)(b.Y36(mt.J),b.Y36(xe.k))},P.\u0275cmp=b.Xpm({type:P,selectors:[["app-itemlista"]],inputs:{productoLista:"productoLista",botones:"botones"},decls:14,vars:5,consts:[["size","4"],[3,"src"],["size","8"],[1,"subtitulo","ion-text-wrap"],["slot","end",4,"ngIf"],[1,"normal","m-2"],["slot","end"],[1,"icon-add",3,"click"],["slot","icon-only","name","add"],[1,"icon-remove",3,"click"],["slot","icon-only","name","remove"]],template:function(N,ce){1&N&&(b.TgZ(0,"ion-card")(1,"ion-grid")(2,"ion-row")(3,"ion-col",0),b._UZ(4,"ion-img",1),b.qZA(),b.TgZ(5,"ion-col",2)(6,"ion-item")(7,"ion-label",3),b._uU(8),b.qZA(),b.YNc(9,Bt,5,0,"ion-buttons",4),b.qZA(),b.TgZ(10,"p",5),b._uU(11),b.qZA(),b.TgZ(12,"p",5),b._uU(13),b.qZA()()()()()),2&N&&(b.xp6(4),b.Q6J("src",ce.productoLista.producto.foto),b.xp6(4),b.Oqu(ce.productoLista.producto.nombre),b.xp6(1),b.Q6J("ngIf",ce.botones),b.xp6(2),b.hij("Precio: ",ce.productoLista.producto.precio,""),b.xp6(2),b.hij("Cantidad: ",ce.productoLista.cantidad,""))},directives:[We.PM,We.jY,We.Nd,We.wI,We.Xz,We.Ie,We.Q$,a.O5,We.Sm,We.YG,We.gu],styles:[".icon-add[_ngcontent-%COMP%]{background:#99d2a6;border-radius:100%;color:#fff;margin-right:10px!important}.icon-remove[_ngcontent-%COMP%]{background:#ec8e98;border-radius:100%;color:#fff}"]}),P})();var Dn=M(2986),xr=M(4850);let $r=(()=>{class P{constructor(N,ce){this.authSvc=N,this.router=ce}canActivate(N,ce){return this.authSvc.user$.pipe((0,Dn.q)(1),(0,xr.U)(Ge=>!!Ge||(this.router.navigate(["/login"]),!1)))}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(ie.e),b.LFG(Ae.F0))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function br(P,$){if(1&P&&(b.TgZ(0,"div"),b._UZ(1,"app-itemlista",10),b.qZA()),2&P){const N=$.$implicit;b.xp6(1),b.Q6J("productoLista",N)}}const di=function(){return["/lista-compra"]},Ri=function(){return["/perfil"]};let es=(()=>{class P{constructor(N,ce,Ge,Pt){this.firestoreSvc=N,this.listaSvc=ce,this.authSvc=Ge,this.interactionSvc=Pt,this.lista={},this.uid=localStorage.getItem("localId"),this.loadLista()}ngOnInit(){this.initLista()}loadLista(){this.listaSvc.getLista().subscribe(N=>{this.lista=N,this.getTotal(),this.getCantidad()})}initLista(){this.lista={id:"",usuario:null,productos:[],precioTotal:null,fecha:new Date,estado:"abierta"}}getTotal(){this.total=0,this.lista.productos.forEach(N=>{this.total=N.producto.precio*N.cantidad+this.total})}getCantidad(){this.cantidad=0,this.lista.productos.forEach(N=>{this.cantidad=N.cantidad+this.cantidad})}guardarLista(){return(0,Zt.mG)(this,void 0,void 0,function*(){if(!this.lista.productos.length)return void console.log("A\xf1ade items a la lista");this.lista.estado="guardada",this.lista.fecha=new Date,this.lista.precioTotal=this.total,this.lista.id=this.firestoreSvc.createId();const N="Usuarios/"+this.uid+"/listasGuardadas/";console.log("guardar",this.lista,this.uid,N),this.firestoreSvc.createDocument(this.lista,N,this.lista.id).then(()=>{this.interactionSvc.presentToast("Lista guardada con exito",2e3),this.listaSvc.clearLista()})})}}return P.\u0275fac=function(N){return new(N||P)(b.Y36(Qe.C),b.Y36(mt.J),b.Y36(ie.e),b.Y36(xe.k))},P.\u0275cmp=b.Xpm({type:P,selectors:[["app-lista"]],decls:25,vars:7,consts:[["color","secondary"],["slot","start"],["slot","end",3,"routerLink"],["color","primary","slot","icon-only","name","list-circle-sharp"],["color","primary","slot","icon-only","name","person-circle"],[4,"ngFor","ngForOf"],[1,"ion-justify-content-center"],["size","6",1,"normal","text-center",2,"border-right","1px solid #6c757d"],["size","6",1,"normal","text-center"],["expand","full",1,"normal",2,"color","white ! important",3,"click"],[3,"productoLista"]],template:function(N,ce){1&N&&(b.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons")(3,"ion-button",1),b._UZ(4,"ion-menu-button"),b.qZA(),b.TgZ(5,"ion-title"),b._uU(6,"Lista de la compra"),b.qZA(),b.TgZ(7,"ion-button",2),b._UZ(8,"ion-icon",3),b.qZA(),b.TgZ(9,"ion-button",2),b._UZ(10,"ion-icon",4),b.qZA()()()(),b.TgZ(11,"ion-content")(12,"div"),b.YNc(13,br,2,1,"div",5),b.qZA()(),b.TgZ(14,"ion-footer")(15,"ion-grid")(16,"ion-row",6)(17,"ion-col",7),b._uU(18),b.qZA(),b.TgZ(19,"ion-col",8),b._uU(20),b.qZA()(),b.TgZ(21,"ion-row")(22,"ion-col")(23,"ion-button",9),b.NdJ("click",function(){return ce.guardarLista()}),b._uU(24," Guardar Lista "),b.qZA()()()()()),2&N&&(b.xp6(7),b.Q6J("routerLink",b.DdM(5,di)),b.xp6(2),b.Q6J("routerLink",b.DdM(6,Ri)),b.xp6(4),b.Q6J("ngForOf",ce.lista.productos),b.xp6(5),b.hij(" Cantidad: ",ce.cantidad," "),b.xp6(2),b.hij(" Total: ",ce.total,"Euros "))},directives:[We.Gu,We.sr,We.Sm,We.YG,We.fG,We.wd,We.YI,Ae.rH,We.gu,We.W2,a.sg,nn,We.fr,We.jY,We.Nd,We.wI],styles:[""]}),P})();function Ei(P,$){1&P&&b._UZ(0,"app-itemlista",15),2&P&&b.Q6J("productoLista",$.$implicit)("botones",!1)}function As(P,$){if(1&P&&(b.TgZ(0,"ion-card",12)(1,"ion-item")(2,"ion-label",13),b._uU(3),b.TgZ(4,"p"),b._uU(5),b.ALo(6,"date"),b.qZA()()(),b.YNc(7,Ei,1,2,"app-itemlista",14),b.qZA()),2&P){const N=$.$implicit;b.xp6(3),b.hij(" Estado: ",N.estado," "),b.xp6(2),b.hij(" fecha: ",b.lcZ(6,3,N.fecha.seconds)," "),b.xp6(2),b.Q6J("ngForOf",N.productos)}}const Oi=function(){return["/lista-compra"]},hi=function(){return["/perfil"]};let zi=(()=>{class P{constructor(N){this.firestoreSvc=N,this.listas=[],this.uid=localStorage.getItem("localId")}ngOnInit(){return(0,Zt.mG)(this,void 0,void 0,function*(){this.getListaEnCurso()})}ngOnDestroy(){this.nuevosSuscriber&&this.nuevosSuscriber.unsubscribe(),this.guardadosSuscriber&&this.guardadosSuscriber.unsubscribe()}segmentChanged(N){const ce=N.detail.value;"anteriores"===ce&&this.getListasAnteriores(),"nuevos"===ce&&this.getListaEnCurso()}getListaEnCurso(){console.log("getListasNuevas()"),this.nuevosSuscriber=this.firestoreSvc.getCollectionQuery("Usuarios/"+this.uid+"/Lista/","estado","==","abierta").subscribe(ce=>{ce&&(this.listas=ce)})}getListasAnteriores(){console.log("getListasAnteriores()"),this.guardadosSuscriber=this.firestoreSvc.getCollectionQuery("Usuarios/"+this.uid+"/listasGuardadas/","estado","==","guardada").subscribe(ce=>{ce&&(this.listas=ce)})}}return P.\u0275fac=function(N){return new(N||P)(b.Y36(Qe.C))},P.\u0275cmp=b.Xpm({type:P,selectors:[["app-mislistas"]],decls:21,vars:5,consts:[["color","secondary"],["slot","start"],["slot","end",3,"routerLink"],["color","primary","slot","icon-only","name","list-circle-sharp"],["color","primary","slot","icon-only","name","person-circle"],[1,"margin"],["mode","ios","value","nuevos",3,"ionChange"],["value","nuevos"],["color","primary",1,"normal"],["value","anteriores"],["color","danger",1,"normal"],["class","mt-5 mb-5",4,"ngFor","ngForOf"],[1,"mt-5","mb-5"],[1,"normal"],[3,"productoLista","botones",4,"ngFor","ngForOf"],[3,"productoLista","botones"]],template:function(N,ce){1&N&&(b.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons")(3,"ion-button",1),b._UZ(4,"ion-menu-button"),b.qZA(),b.TgZ(5,"ion-title"),b._uU(6,"Mis pedidos"),b.qZA(),b.TgZ(7,"ion-button",2),b._UZ(8,"ion-icon",3),b.qZA(),b.TgZ(9,"ion-button",2),b._UZ(10,"ion-icon",4),b.qZA()()()(),b.TgZ(11,"ion-content")(12,"div",5)(13,"ion-segment",6),b.NdJ("ionChange",function(Pt){return ce.segmentChanged(Pt)}),b.TgZ(14,"ion-segment-button",7)(15,"ion-label",8),b._uU(16,"En creacion"),b.qZA()(),b.TgZ(17,"ion-segment-button",9)(18,"ion-label",10),b._uU(19,"Anteriores"),b.qZA()()()(),b.YNc(20,As,8,5,"ion-card",11),b.qZA()),2&N&&(b.xp6(7),b.Q6J("routerLink",b.DdM(3,Oi)),b.xp6(2),b.Q6J("routerLink",b.DdM(4,hi)),b.xp6(11),b.Q6J("ngForOf",ce.listas))},directives:[We.Gu,We.sr,We.Sm,We.YG,We.fG,We.wd,We.YI,Ae.rH,We.gu,We.W2,We.cJ,We.QI,We.GO,We.Q$,a.sg,We.PM,We.Ie,nn],pipes:[a.uU],styles:[".margin[_ngcontent-%COMP%]{margin:10px}.boton[_ngcontent-%COMP%]{background-color:azure}"]}),P})(),mi=(()=>{class P{constructor(N,ce){this.authSvc=N,this.router=ce}canActivate(N,ce){return this.authSvc.admin$.pipe((0,Dn.q)(1),(0,xr.U)(Ge=>"fgOaSpQTZOZeDNaE6YvPSJSu0g12"===Ge.uid||(this.router.navigate(["/home"]),!1)))}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(ie.e),b.LFG(Ae.F0))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Pi(P,$){1&P&&b._UZ(0,"app-itemlista",16),2&P&&b.Q6J("productoLista",$.$implicit)("botones",!1)}function wi(P,$){if(1&P&&(b.TgZ(0,"ion-card")(1,"ion-item")(2,"ion-label",14),b._uU(3),b.TgZ(4,"p"),b._uU(5),b.ALo(6,"date"),b.qZA(),b.TgZ(7,"p"),b._uU(8),b.qZA()()(),b.YNc(9,Pi,1,2,"app-itemlista",15),b.qZA()),2&P){const N=$.$implicit;b.xp6(3),b.hij(" Estado: ",N.estado," "),b.xp6(2),b.hij(" fecha: ",b.lcZ(6,4,1e3*N.fecha.seconds)," "),b.xp6(3),b.hij(" Usuario: ",N.usuario.correo,""),b.xp6(1),b.Q6J("ngForOf",N.productos)}}function fs(P,$){if(1&P&&(b.TgZ(0,"div"),b.YNc(1,wi,10,6,"ion-card",12),b.qZA()),2&P){const N=b.oxw();b.xp6(1),b.Q6J("ngForOf",N.listas)}}function ds(P,$){1&P&&b._UZ(0,"div")}function yi(P,$){1&P&&b._UZ(0,"app-itemlista",16),2&P&&b.Q6J("productoLista",$.$implicit)("botones",!1)}function ps(P,$){if(1&P&&(b.TgZ(0,"ion-card")(1,"ion-item")(2,"ion-label",14),b._uU(3),b.TgZ(4,"p"),b._uU(5),b.ALo(6,"date"),b.qZA(),b.TgZ(7,"p"),b._uU(8),b.qZA()()(),b.YNc(9,yi,1,2,"app-itemlista",15),b.qZA()),2&P){const N=$.$implicit;b.xp6(3),b.hij(" Estado: ",N.estado," "),b.xp6(2),b.hij(" fecha: ",b.lcZ(6,4,1e3*N.fecha.seconds)," "),b.xp6(3),b.hij(" Usuario: ",N.usuario.correo,""),b.xp6(1),b.Q6J("ngForOf",N.productos)}}const Ii=function(){return["/lista-compra"]},vi=function(){return["/perfil"]};let gs=(()=>{class P{constructor(N,ce){this.firestoreSvc=N,this.authService=ce,this.listas=[],this.listasAnteriores=[],this.enProceso=!0}ngOnInit(){this.getListasEnProceso()}segmentChanged(N){const ce=N.detail.value;"guardados"===ce&&(this.enProceso=!1,this.getListasGuardadas()),"procesando"===ce&&(this.enProceso=!0,this.getListasEnProceso())}getListasEnProceso(){return(0,Zt.mG)(this,void 0,void 0,function*(){let ce=null;this.listas.length&&(ce=this.listas[this.listas.length-1].fecha),this.nuevosSuscriber=(yield this.firestoreSvc.getCollectionAll("Lista","estado","==","abierta",ce)).subscribe(Ge=>{Ge.length&&(console.log("getListasEnProceso() -> res ",Ge),this.listas=Ge)})})}getListasGuardadas(){return(0,Zt.mG)(this,void 0,void 0,function*(){let ce=null;this.listasAnteriores.length&&(ce=this.listasAnteriores[this.listasAnteriores.length-1].fecha),this.guardadosSuscriber=(yield this.firestoreSvc.getCollectionAll("listasGuardadas","estado","==","guardada",ce)).subscribe(Ge=>{Ge.length&&(console.log("getlistasAnteriores() -> res ",Ge),Ge.forEach(Pt=>{this.listasAnteriores=Ge}))})})}ngOnDestroy(){this.nuevosSuscriber&&this.nuevosSuscriber.unsubscribe(),this.guardadosSuscriber&&this.guardadosSuscriber.unsubscribe()}cargarMas(){console.log("cargarmas()"),!0===this.enProceso?this.getListasEnProceso():this.getListasGuardadas()}}return P.\u0275fac=function(N){return new(N||P)(b.Y36(Qe.C),b.Y36(ie.e))},P.\u0275cmp=b.Xpm({type:P,selectors:[["app-todaslistas"]],decls:25,vars:7,consts:[["color","secondary"],["slot","start"],["slot","end",3,"routerLink"],["color","primary","slot","icon-only","name","list-circle-sharp"],["color","primary","slot","icon-only","name","person-circle"],[1,"margin"],["mode","md","value","procesando",3,"ionChange"],["value","procesando"],["color","primary",1,"normal"],["value","guardados"],["color","danger",1,"normal"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"normal",3,"click"],[1,"normal"],[3,"productoLista","botones",4,"ngFor","ngForOf"],[3,"productoLista","botones"]],template:function(N,ce){1&N&&(b.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons")(3,"ion-button",1),b._UZ(4,"ion-menu-button"),b.qZA(),b.TgZ(5,"ion-title"),b._uU(6,"Todas las listas"),b.qZA(),b.TgZ(7,"ion-button",2),b._UZ(8,"ion-icon",3),b.qZA(),b.TgZ(9,"ion-button",2),b._UZ(10,"ion-icon",4),b.qZA()()()(),b.TgZ(11,"ion-content")(12,"div",5)(13,"ion-segment",6),b.NdJ("ionChange",function(Pt){return ce.segmentChanged(Pt)}),b.TgZ(14,"ion-segment-button",7)(15,"ion-label",8),b._uU(16,"En creacion"),b.qZA()(),b.TgZ(17,"ion-segment-button",9)(18,"ion-label",10),b._uU(19,"Anteriores"),b.qZA()()()(),b.YNc(20,fs,2,1,"div",11),b.YNc(21,ds,1,0,"div",11),b.YNc(22,ps,10,6,"ion-card",12),b.TgZ(23,"ion-button",13),b.NdJ("click",function(){return ce.cargarMas()}),b._uU(24," Cargar m\xe1s "),b.qZA()()),2&N&&(b.xp6(7),b.Q6J("routerLink",b.DdM(5,Ii)),b.xp6(2),b.Q6J("routerLink",b.DdM(6,vi)),b.xp6(11),b.Q6J("ngIf",ce.enProceso),b.xp6(1),b.Q6J("ngIf",!ce.enProceso),b.xp6(1),b.Q6J("ngForOf",ce.listasAnteriores))},directives:[We.Gu,We.sr,We.Sm,We.YG,We.fG,We.wd,We.YI,Ae.rH,We.gu,We.W2,We.cJ,We.QI,We.GO,We.Q$,a.O5,a.sg,We.PM,We.Ie,nn],pipes:[a.uU],styles:[""]}),P})();var Y=M(4928);const q=[{path:"home",loadChildren:()=>M.e(2080).then(M.bind(M,2080)).then(P=>P.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"registro",loadChildren:()=>Promise.all([M.e(8592),M.e(1527)]).then(M.bind(M,1527)).then(P=>P.RegistroPageModule)},{path:"lista",component:es,canActivate:[$r]},{path:"itemlista",component:nn,canActivate:[$r]},{path:"login",loadChildren:()=>M.e(1028).then(M.bind(M,1028)).then(P=>P.LoginPageModule)},{path:"verify-email",loadChildren:()=>M.e(4039).then(M.bind(M,4039)).then(P=>P.VerifyEmailPageModule)},{path:"forgot-password",loadChildren:()=>M.e(1569).then(M.bind(M,1569)).then(P=>P.ForgotPasswordPageModule)},{path:"perfil",loadChildren:()=>Promise.all([M.e(8592),M.e(9805)]).then(M.bind(M,9805)).then(P=>P.PerfilPageModule),canActivate:[$r]},{path:"set-productos",loadChildren:()=>Promise.all([M.e(8592),M.e(456)]).then(M.bind(M,456)).then(P=>P.SetProductosPageModule),canActivate:[mi]},{path:"set-secciones",loadChildren:()=>Promise.all([M.e(8592),M.e(2681)]).then(M.bind(M,2681)).then(P=>P.SetSeccionesPageModule),canActivate:[mi]},{path:"set-supermercados",loadChildren:()=>Promise.all([M.e(8592),M.e(8944)]).then(M.bind(M,8944)).then(P=>P.SetSupermercadosPageModule),canActivate:[mi]},{path:"lista-compra",loadChildren:()=>M.e(2903).then(M.bind(M,2903)).then(P=>P.ListaCompraPageModule),canActivate:[$r]},{path:"mislistas",component:zi,canActivate:[$r]},{path:"todasLasListas",component:gs},{path:"comentarios",component:Y.y}];let Me=(()=>{class P{}return P.\u0275fac=function(N){return new(N||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({imports:[[Ae.Bz.forRoot(q,{preloadingStrategy:Ae.wm})],Ae.Bz]}),P})();var Ze=M(4941),yt=M(2011),Ot=M(2796),rn=M(3764);const Tn_firebaseConfig={apiKey:"AIzaSyApr_5WOVSiBdmA-vSfCIs_3CjMfP4J2Rw",authDomain:"ionic-angular-ea1ae.firebaseapp.com",projectId:"ionic-angular-ea1ae",storageBucket:"ionic-angular-ea1ae.appspot.com",messagingSenderId:"909949367208",appId:"1:909949367208:web:c0e3d99e020ac1e119239d",measurementId:"G-MGTR8C9404"};var fn=M(4182),ur=M(520);let Ir=(()=>{class P{constructor(N){this.authSvc=N}intercept(N,ce){const Ge=this.authSvc.getToken(),Pt=Ge?N.clone({setHeaders:{Authorization:`Bearer ${Ge}`}}):N;return ce.handle(Pt)}}return P.\u0275fac=function(N){return new(N||P)(b.LFG(ie.e))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();var Ur=M(2160);let k=(()=>{class P{}return P.\u0275fac=function(N){return new(N||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({imports:[[a.ez,We.Pc,Ae.Bz]]}),P})();var Q=M(5503);let B=(()=>{class P{}return P.\u0275fac=function(N){return new(N||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({imports:[[a.ez,We.Pc,Ae.Bz,fn.u5,k,Q.D]]}),P})();var ae=M(7484);let Fe=(()=>{class P{}return P.\u0275fac=function(N){return new(N||P)},P.\u0275mod=b.oAB({type:P,bootstrap:[tt]}),P.\u0275inj=b.cJS({providers:[be,ee,Ur.N,ae.U,{provide:Ae.wN,useClass:We.r4},{provide:ur.TP,useClass:Ir,multi:!0}],imports:[[jn,We.Pc.forRoot(),Me,Ze.ww,yt.hO.initializeApp(Tn_firebaseConfig),fn.UX,ur.JF,rn.TE,Ot.yb.enablePersistence(),B,fn.u5,Q.D]]}),P})();(0,b.G48)(),or().bootstrapModule(Fe).catch(P=>console.log(P))},5867:(an,ct,M)=>{"use strict";M.d(ct,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=M(9681);(0,a.registerVersion)("firebase","9.6.10","app")},127:(an,ct,M)=>{"use strict";M.d(ct,{Z:()=>a.Z});var a=M(3942);a.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(an,ct,M)=>{"use strict";M.r(ct);var a=M(5861),b=M(3942),U=M(424),Ce=M(2090),he=(M(9681),M(1877),M(4859));function _e(){return window}function J(){return(J=(0,a.Z)(function*(ge,Ee,Ae){var We;const{BuildInfo:Zt}=_e();(0,U.ap)(Ee.sessionId,"AuthEvent did not contain a session ID");const bn=yield ye(Ee.sessionId),Xn={};return(0,U.aq)()?Xn.ibi=Zt.packageName:(0,U.ar)()?Xn.apn=Zt.packageName:(0,U.as)(ge,"operation-not-supported-in-this-environment"),Zt.displayName&&(Xn.appDisplayName=Zt.displayName),Xn.sessionId=bn,(0,U.at)(ge,Ae,Ee.type,void 0,null!==(We=Ee.eventId)&&void 0!==We?We:void 0,Xn)})).apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(ge){const{BuildInfo:Ee}=_e(),Ae={};(0,U.aq)()?Ae.iosBundleId=Ee.packageName:(0,U.ar)()?Ae.androidPackageName=Ee.packageName:(0,U.as)(ge,"operation-not-supported-in-this-environment"),yield(0,U.au)(ge,Ae)})).apply(this,arguments)}function fe(){return(fe=(0,a.Z)(function*(ge,Ee,Ae){const{cordova:We}=_e();let Zt=()=>{};try{yield new Promise((bn,Xn)=>{let En=null;function Jn(){var tr;bn();const Rr=null===(tr=We.plugins.browsertab)||void 0===tr?void 0:tr.close;"function"==typeof Rr&&Rr(),"function"==typeof(null==Ae?void 0:Ae.close)&&Ae.close()}function Rn(){En||(En=window.setTimeout(()=>{Xn((0,U.av)(ge,"redirect-cancelled-by-user"))},2e3))}function er(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}Ee.addPassiveListener(Jn),document.addEventListener("resume",Rn,!1),(0,U.ar)()&&document.addEventListener("visibilitychange",er,!1),Zt=()=>{Ee.removePassiveListener(Jn),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",er,!1),En&&window.clearTimeout(En)}})}finally{Zt()}})).apply(this,arguments)}function ye(ge){return ot.apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(ge){const Ee=oe(ge),Ae=yield crypto.subtle.digest("SHA-256",Ee);return Array.from(new Uint8Array(Ae)).map(Zt=>Zt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function oe(ge){if((0,U.ap)(/[0-9a-zA-Z]+/.test(ge),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ge);const Ee=new ArrayBuffer(ge.length),Ae=new Uint8Array(Ee);for(let We=0;We<ge.length;We++)Ae[We]=ge.charCodeAt(We);return Ae}class ke extends U.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ee=>{this.resolveInialized=Ee})}addPassiveListener(Ee){this.passiveListeners.add(Ee)}removePassiveListener(Ee){this.passiveListeners.delete(Ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ee){return this.resolveInialized(),this.passiveListeners.forEach(Ae=>Ae(Ee)),super.onEvent(Ee)}initialized(){var Ee=this;return(0,a.Z)(function*(){yield Ee.initPromise})()}}function He(ge){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(ge){const Ee=yield me()._get(Te(ge));return Ee&&(yield me()._remove(Te(ge))),Ee})).apply(this,arguments)}function Ve(){const ge=[],Ee="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ae=0;Ae<20;Ae++){const We=Math.floor(Math.random()*Ee.length);ge.push(Ee.charAt(We))}return ge.join("")}function me(){return(0,U.ax)(U.b)}function Te(ge){return(0,U.ay)("authEvent",ge.config.apiKey,ge.name)}function qt(ge){if(!(null==ge?void 0:ge.includes("?")))return{};const[Ee,...Ae]=ge.split("?");return(0,Ce.zd)(Ae.join("?"))}function dt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.av)("no-auth-event")}}function je(){var ge;return(null===(ge=null==self?void 0:self.location)||void 0===ge?void 0:ge.protocol)||null}function Dt(ge=(0,Ce.z$)()){return!("file:"!==je()&&"ionic:"!==je()||!ge.toLowerCase().match(/iphone|ipad|ipod|android/))}function or(){try{const ge=self.localStorage,Ee=U.aG();if(ge)return ge.setItem(Ee,"1"),ge.removeItem(Ee),!function pn(ge=(0,Ce.z$)()){return function Yt(){return(0,Ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ln(ge=(0,Ce.z$)()){return/Edge\/\d+/.test(ge)}(ge)}()||(0,Ce.hl)()}catch(ge){return vn()&&(0,Ce.hl)()}return!1}function vn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function Oe(){return"http:"===je()||"https:"===je()}()||(0,Ce.ru)()||Dt())&&!function Gt(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&or()&&!vn()}function Ft(){return Dt()&&"undefined"!=typeof document}function nr(){return(nr=(0,a.Z)(function*(){return!!Ft()&&new Promise(ge=>{const Ee=setTimeout(()=>{ge(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ee),ge(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=U.aw,mn="persistence";function Ke(ge){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(ge){yield ge._initializationPromise;const Ee=xt(),Ae=U.ay(mn,ge.config.apiKey,ge.name);Ee&&Ee.setItem(Ae,ge._getPersistence())})).apply(this,arguments)}function xt(){var ge;try{return(null===(ge=function Yn(){return"undefined"!=typeof window?window:null}())||void 0===ge?void 0:ge.sessionStorage)||null}catch(Ee){return null}}const Ut=U.aw;class Lt{constructor(){this.browserResolver=U.ax(U.k),this.cordovaResolver=U.ax(class bt{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aA}_initialize(Ee){var Ae=this;return(0,a.Z)(function*(){const We=Ee._key();let Zt=Ae.eventManagers.get(We);return Zt||(Zt=new ke(Ee),Ae.eventManagers.set(We,Zt),Ae.attachCallbackListeners(Ee,Zt)),Zt})()}_openPopup(Ee){(0,U.as)(Ee,"operation-not-supported-in-this-environment")}_openRedirect(Ee,Ae,We,Zt){var bn=this;return(0,a.Z)(function*(){!function Pe(ge){var Ee,Ae,We,Zt,bn,Xn,En,Jn,Rn,er;const tr=_e();(0,U.aw)("function"==typeof(null===(Ee=null==tr?void 0:tr.universalLinks)||void 0===Ee?void 0:Ee.subscribe),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aw)(void 0!==(null===(Ae=null==tr?void 0:tr.BuildInfo)||void 0===Ae?void 0:Ae.packageName),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aw)("function"==typeof(null===(bn=null===(Zt=null===(We=null==tr?void 0:tr.cordova)||void 0===We?void 0:We.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===bn?void 0:bn.openUrl),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(Jn=null===(En=null===(Xn=null==tr?void 0:tr.cordova)||void 0===Xn?void 0:Xn.plugins)||void 0===En?void 0:En.browsertab)||void 0===Jn?void 0:Jn.isAvailable),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(er=null===(Rn=null==tr?void 0:tr.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===er?void 0:er.open),ge,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ee);const Xn=yield bn._initialize(Ee);yield Xn.initialized(),Xn.resetRedirect(),(0,U.aB)(),yield bn._originValidation(Ee);const En=function at(ge,Ee,Ae=null){return{type:Ee,eventId:Ae,urlResponse:null,sessionId:Ve(),postBody:null,tenantId:ge.tenantId,error:(0,U.av)(ge,"no-auth-event")}}(Ee,We,Zt);yield function _t(ge,Ee){return me()._set(Te(ge),Ee)}(Ee,En);const Jn=yield function X(ge,Ee,Ae){return J.apply(this,arguments)}(Ee,En,Ae),Rn=yield function Ne(ge){const{cordova:Ee}=_e();return new Promise(Ae=>{Ee.plugins.browsertab.isAvailable(We=>{let Zt=null;We?Ee.plugins.browsertab.openUrl(ge):Zt=Ee.InAppBrowser.open(ge,(0,U.ao)()?"_blank":"_system","location=yes"),Ae(Zt)})})}(Jn);return function Xe(ge,Ee,Ae){return fe.apply(this,arguments)}(Ee,Xn,Rn)})()}_isIframeWebStorageSupported(Ee,Ae){throw new Error("Method not implemented.")}_originValidation(Ee){const Ae=Ee._key();return this.originValidationPromises[Ae]||(this.originValidationPromises[Ae]=function se(ge){return Z.apply(this,arguments)}(Ee)),this.originValidationPromises[Ae]}attachCallbackListeners(Ee,Ae){const{universalLinks:We,handleOpenURL:Zt,BuildInfo:bn}=_e(),Xn=setTimeout((0,a.Z)(function*(){yield He(Ee),Ae.onEvent(dt())}),500),En=function(){var er=(0,a.Z)(function*(tr){clearTimeout(Xn);const Rr=yield He(Ee);let Or=null;Rr&&(null==tr?void 0:tr.url)&&(Or=function ve(ge,Ee){var Ae,We;const Zt=function qe(ge){const Ee=qt(ge),Ae=Ee.link?decodeURIComponent(Ee.link):void 0,We=qt(Ae).link,Zt=Ee.deep_link_id?decodeURIComponent(Ee.deep_link_id):void 0;return qt(Zt).link||Zt||We||Ae||ge}(Ee);if(Zt.includes("/__/auth/callback")){const bn=qt(Zt),Xn=bn.firebaseError?function De(ge){try{return JSON.parse(ge)}catch(Ee){return null}}(decodeURIComponent(bn.firebaseError)):null,En=null===(We=null===(Ae=null==Xn?void 0:Xn.code)||void 0===Ae?void 0:Ae.split("auth/"))||void 0===We?void 0:We[1],Jn=En?(0,U.av)(En):null;return Jn?{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,error:Jn,urlResponse:null,sessionId:null,postBody:null}:{type:ge.type,eventId:ge.eventId,tenantId:ge.tenantId,sessionId:ge.sessionId,urlResponse:Zt,postBody:null}}return null}(Rr,tr.url)),Ae.onEvent(Or||dt())});return function(Rr){return er.apply(this,arguments)}}();void 0!==We&&"function"==typeof We.subscribe&&We.subscribe(null,En);const Jn=Zt,Rn=`${bn.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var er=(0,a.Z)(function*(tr){if(tr.toLowerCase().startsWith(Rn)&&En({url:tr}),"function"==typeof Jn)try{Jn(tr)}catch(Rr){console.error(Rr)}});return function(tr){return er.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aA}_initialize(Ee){var Ae=this;return(0,a.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._initialize(Ee)})()}_openPopup(Ee,Ae,We,Zt){var bn=this;return(0,a.Z)(function*(){return yield bn.selectUnderlyingResolver(),bn.assertedUnderlyingResolver._openPopup(Ee,Ae,We,Zt)})()}_openRedirect(Ee,Ae,We,Zt){var bn=this;return(0,a.Z)(function*(){return yield bn.selectUnderlyingResolver(),bn.assertedUnderlyingResolver._openRedirect(Ee,Ae,We,Zt)})()}_isIframeWebStorageSupported(Ee,Ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ee,Ae)}_originValidation(Ee){return this.assertedUnderlyingResolver._originValidation(Ee)}get _shouldInitProactively(){return Ft()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ee=this;return(0,a.Z)(function*(){if(Ee.underlyingResolver)return;const Ae=yield function Pn(){return nr.apply(this,arguments)}();Ee.underlyingResolver=Ae?Ee.cordovaResolver:Ee.browserResolver})()}}function ar(ge){return ge.unwrap()}function on(ge){return fr(ge)}function fr(ge){const{_tokenResponse:Ee}=ge instanceof Ce.ZR?ge.customData:ge;if(!Ee)return null;if(!(ge instanceof Ce.ZR)&&"temporaryProof"in Ee&&"phoneNumber"in Ee)return U.P.credentialFromResult(ge);const Ae=Ee.providerId;if(!Ae||Ae===U.o.PASSWORD)return null;let We;switch(Ae){case U.o.GOOGLE:We=U.N;break;case U.o.FACEBOOK:We=U.M;break;case U.o.GITHUB:We=U.Q;break;case U.o.TWITTER:We=U.V;break;default:const{oauthIdToken:Zt,oauthAccessToken:bn,oauthTokenSecret:Xn,pendingToken:En,nonce:Jn}=Ee;return bn||Xn||Zt||En?En?Ae.startsWith("saml.")?U.aJ._create(Ae,En):U.I._fromParams({providerId:Ae,signInMethod:Ae,pendingToken:En,idToken:Zt,accessToken:bn}):new U.T(Ae).credential({idToken:Zt,accessToken:bn,rawNonce:Jn}):null}return ge instanceof Ce.ZR?We.credentialFromError(ge):We.credentialFromResult(ge)}function Vn(ge,Ee){return Ee.catch(Ae=>{throw Ae instanceof Ce.ZR&&function Fr(ge,Ee){var Ae;const We=null===(Ae=Ee.customData)||void 0===Ae?void 0:Ae._tokenResponse;if("auth/multi-factor-auth-required"===Ee.code)Ee.resolver=new Kn(ge,U.am(ge,Ee));else if(We){const Zt=fr(Ee),bn=Ee;Zt&&(bn.credential=Zt,bn.tenantId=We.tenantId||void 0,bn.email=We.email||void 0,bn.phoneNumber=We.phoneNumber||void 0)}}(ge,Ae),Ae}).then(Ae=>{const Zt=Ae.user;return{operationType:Ae.operationType,credential:on(Ae),additionalUserInfo:U.ak(Ae),user:cn.getOrCreate(Zt)}})}function In(ge,Ee){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(ge,Ee){const Ae=yield Ee;return{verificationId:Ae.verificationId,confirm:We=>Vn(ge,Ae.confirm(We))}})).apply(this,arguments)}class Kn{constructor(Ee,Ae){this.resolver=Ae,this.auth=function qn(ge){return ge.wrapped()}(Ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ee){return Vn(ar(this.auth),this.resolver.resolveSignIn(Ee))}}class cn{constructor(Ee){this._delegate=Ee,this.multiFactor=U.an(Ee)}static getOrCreate(Ee){return cn.USER_MAP.has(Ee)||cn.USER_MAP.set(Ee,new cn(Ee)),cn.USER_MAP.get(Ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ee){return this._delegate.getIdTokenResult(Ee)}getIdToken(Ee){return this._delegate.getIdToken(Ee)}linkAndRetrieveDataWithCredential(Ee){return this.linkWithCredential(Ee)}linkWithCredential(Ee){var Ae=this;return(0,a.Z)(function*(){return Vn(Ae.auth,U.Y(Ae._delegate,Ee))})()}linkWithPhoneNumber(Ee,Ae){var We=this;return(0,a.Z)(function*(){return In(We.auth,U.l(We._delegate,Ee,Ae))})()}linkWithPopup(Ee){var Ae=this;return(0,a.Z)(function*(){return Vn(Ae.auth,U.d(Ae._delegate,Ee,Lt))})()}linkWithRedirect(Ee){var Ae=this;return(0,a.Z)(function*(){return yield Ke(U.aC(Ae.auth)),U.g(Ae._delegate,Ee,Lt)})()}reauthenticateAndRetrieveDataWithCredential(Ee){return this.reauthenticateWithCredential(Ee)}reauthenticateWithCredential(Ee){var Ae=this;return(0,a.Z)(function*(){return Vn(Ae.auth,U.Z(Ae._delegate,Ee))})()}reauthenticateWithPhoneNumber(Ee,Ae){return In(this.auth,U.r(this._delegate,Ee,Ae))}reauthenticateWithPopup(Ee){return Vn(this.auth,U.e(this._delegate,Ee,Lt))}reauthenticateWithRedirect(Ee){var Ae=this;return(0,a.Z)(function*(){return yield Ke(U.aC(Ae.auth)),U.h(Ae._delegate,Ee,Lt)})()}sendEmailVerification(Ee){return U.aa(this._delegate,Ee)}unlink(Ee){var Ae=this;return(0,a.Z)(function*(){return yield U.aj(Ae._delegate,Ee),Ae})()}updateEmail(Ee){return U.af(this._delegate,Ee)}updatePassword(Ee){return U.ag(this._delegate,Ee)}updatePhoneNumber(Ee){return U.u(this._delegate,Ee)}updateProfile(Ee){return U.ae(this._delegate,Ee)}verifyBeforeUpdateEmail(Ee,Ae){return U.ab(this._delegate,Ee,Ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cn.USER_MAP=new WeakMap;const Ct=U.aw;let Xt=(()=>{class ge{constructor(Ae,We){if(this.app=Ae,We.isInitialized())return this._delegate=We.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Zt}=Ae.options;Ct(Zt,"invalid-api-key",{appName:Ae.name}),Ct(Zt,"invalid-api-key",{appName:Ae.name});const bn="undefined"!=typeof window?Lt:void 0;this._delegate=We.initialize({options:{persistence:_n(Zt,Ae.name),popupRedirectResolver:bn}}),this._delegate._updateErrorMap(U.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ae){this._delegate.languageCode=Ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ae){this._delegate.tenantId=Ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ae,We){U.E(this._delegate,Ae,We)}applyActionCode(Ae){return U.a1(this._delegate,Ae)}checkActionCode(Ae){return U.a2(this._delegate,Ae)}confirmPasswordReset(Ae,We){return U.a0(this._delegate,Ae,We)}createUserWithEmailAndPassword(Ae,We){var Zt=this;return(0,a.Z)(function*(){return Vn(Zt._delegate,U.a4(Zt._delegate,Ae,We))})()}fetchProvidersForEmail(Ae){return this.fetchSignInMethodsForEmail(Ae)}fetchSignInMethodsForEmail(Ae){return U.a9(this._delegate,Ae)}isSignInWithEmailLink(Ae){return U.a7(this._delegate,Ae)}getRedirectResult(){var Ae=this;return(0,a.Z)(function*(){Ct(jn(),Ae._delegate,"operation-not-supported-in-this-environment");const We=yield U.j(Ae._delegate,Lt);return We?Vn(Ae._delegate,Promise.resolve(We)):{credential:null,user:null}})()}addFrameworkForLogging(Ae){!function ze(ge,Ee){(0,U.aC)(ge)._logFramework(Ee)}(this._delegate,Ae)}onAuthStateChanged(Ae,We,Zt){const{next:bn,error:Xn,complete:En}=Cn(Ae,We,Zt);return this._delegate.onAuthStateChanged(bn,Xn,En)}onIdTokenChanged(Ae,We,Zt){const{next:bn,error:Xn,complete:En}=Cn(Ae,We,Zt);return this._delegate.onIdTokenChanged(bn,Xn,En)}sendSignInLinkToEmail(Ae,We){return U.a6(this._delegate,Ae,We)}sendPasswordResetEmail(Ae,We){return U.$(this._delegate,Ae,We||void 0)}setPersistence(Ae){var We=this;return(0,a.Z)(function*(){let Zt;switch(function At(ge,Ee){Zn(Object.values(Gn).includes(Ee),ge,"invalid-persistence-type"),(0,Ce.b$)()?Zn(Ee!==Gn.SESSION,ge,"unsupported-persistence-type"):(0,Ce.UG)()?Zn(Ee===Gn.NONE,ge,"unsupported-persistence-type"):vn()?Zn(Ee===Gn.NONE||Ee===Gn.LOCAL&&(0,Ce.hl)(),ge,"unsupported-persistence-type"):Zn(Ee===Gn.NONE||or(),ge,"unsupported-persistence-type")}(We._delegate,Ae),Ae){case Gn.SESSION:Zt=U.a;break;case Gn.LOCAL:Zt=(yield U.ax(U.i)._isAvailable())?U.i:U.b;break;case Gn.NONE:Zt=U.K;break;default:return U.as("argument-error",{appName:We._delegate.name})}return We._delegate.setPersistence(Zt)})()}signInAndRetrieveDataWithCredential(Ae){return this.signInWithCredential(Ae)}signInAnonymously(){return Vn(this._delegate,U.W(this._delegate))}signInWithCredential(Ae){return Vn(this._delegate,U.X(this._delegate,Ae))}signInWithCustomToken(Ae){return Vn(this._delegate,U._(this._delegate,Ae))}signInWithEmailAndPassword(Ae,We){return Vn(this._delegate,U.a5(this._delegate,Ae,We))}signInWithEmailLink(Ae,We){return Vn(this._delegate,U.a8(this._delegate,Ae,We))}signInWithPhoneNumber(Ae,We){return In(this._delegate,U.s(this._delegate,Ae,We))}signInWithPopup(Ae){var We=this;return(0,a.Z)(function*(){return Ct(jn(),We._delegate,"operation-not-supported-in-this-environment"),Vn(We._delegate,U.c(We._delegate,Ae,Lt))})()}signInWithRedirect(Ae){var We=this;return(0,a.Z)(function*(){return Ct(jn(),We._delegate,"operation-not-supported-in-this-environment"),yield Ke(We._delegate),U.f(We._delegate,Ae,Lt)})()}updateCurrentUser(Ae){return this._delegate.updateCurrentUser(Ae)}verifyPasswordResetCode(Ae){return U.a3(this._delegate,Ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ge.Persistence=Gn,ge})();function Cn(ge,Ee,Ae){let We=ge;"function"!=typeof ge&&({next:We,error:Ee,complete:Ae}=ge);const Zt=We;return{next:Xn=>Zt(Xn&&cn.getOrCreate(Xn)),error:Ee,complete:Ae}}function _n(ge,Ee){const Ae=function jt(ge,Ee){const Ae=xt();if(!Ae)return[];const We=U.ay(mn,ge,Ee);switch(Ae.getItem(We)){case Gn.NONE:return[U.K];case Gn.LOCAL:return[U.i,U.a];case Gn.SESSION:return[U.a];default:return[]}}(ge,Ee);if("undefined"!=typeof self&&!Ae.includes(U.i)&&Ae.push(U.i),"undefined"!=typeof window)for(const We of[U.b,U.a])Ae.includes(We)||Ae.push(We);return Ae.includes(U.K)||Ae.push(U.K),Ae}class Un{constructor(){this.providerId="phone",this._delegate=new U.P(ar(b.Z.auth()))}static credential(Ee,Ae){return U.P.credential(Ee,Ae)}verifyPhoneNumber(Ee,Ae){return this._delegate.verifyPhoneNumber(Ee,Ae)}unwrap(){return this._delegate}}Un.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Un.PROVIDER_ID=U.P.PROVIDER_ID;const Le=U.aw;class we{constructor(Ee,Ae,We=b.Z.app()){var Zt;Le(null===(Zt=We.options)||void 0===Zt?void 0:Zt.apiKey,"invalid-api-key",{appName:We.name}),this._delegate=new U.R(Ee,Ae,We.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function It(ge){ge.INTERNAL.registerComponent(new he.wA("auth-compat",Ee=>{const Ae=Ee.getProvider("app-compat").getImmediate(),We=Ee.getProvider("auth");return new Xt(Ae,We)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.L,FacebookAuthProvider:U.M,GithubAuthProvider:U.Q,GoogleAuthProvider:U.N,OAuthProvider:U.T,SAMLAuthProvider:U.U,PhoneAuthProvider:Un,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:we,TwitterAuthProvider:U.V,Auth:Xt,AuthCredential:U.G,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ge.registerVersion("@firebase/auth-compat","0.2.11")}(b.Z)},591:(an,ct,M)=>{"use strict";M.d(ct,{X:()=>U});var a=M(8929),b=M(5279);class U extends a.xQ{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const K=super._subscribe(Ie);return K&&!K.closed&&Ie.next(this._value),K}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b.N;return this._value}next(Ie){super.next(this._value=Ie)}}},2916:(an,ct,M)=>{"use strict";M.d(ct,{y:()=>J});var a=M(3489),U=M(7668),Ce=M(3292),K=M(3821),he=M(5379);var X=M(2830);let J=(()=>{class Z{constructor(Xe){this._isScalar=!1,Xe&&(this._subscribe=Xe)}lift(Xe){const fe=new Z;return fe.source=this,fe.operator=Xe,fe}subscribe(Xe,fe,Pe){const{operator:ye}=this,ot=function Ie(Z,Ne,Xe){if(Z){if(Z instanceof a.L)return Z;if(Z[U.b])return Z[U.b]()}return Z||Ne||Xe?new a.L(Z,Ne,Xe):new a.L(Ce.c)}(Xe,fe,Pe);if(ot.add(ye?ye.call(ot,this.source):this.source||X.v.useDeprecatedSynchronousErrorHandling&&!ot.syncErrorThrowable?this._subscribe(ot):this._trySubscribe(ot)),X.v.useDeprecatedSynchronousErrorHandling&&ot.syncErrorThrowable&&(ot.syncErrorThrowable=!1,ot.syncErrorThrown))throw ot.syncErrorValue;return ot}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(fe){X.v.useDeprecatedSynchronousErrorHandling&&(Xe.syncErrorThrown=!0,Xe.syncErrorValue=fe),function b(Z){for(;Z;){const{closed:Ne,destination:Xe,isStopped:fe}=Z;if(Ne||fe)return!1;Z=Xe&&Xe instanceof a.L?Xe:null}return!0}(Xe)?Xe.error(fe):console.warn(fe)}}forEach(Xe,fe){return new(fe=se(fe))((Pe,ye)=>{let ot;ot=this.subscribe(oe=>{try{Xe(oe)}catch(ut){ye(ut),ot&&ot.unsubscribe()}},ye,Pe)})}_subscribe(Xe){const{source:fe}=this;return fe&&fe.subscribe(Xe)}[K.L](){return this}pipe(...Xe){return 0===Xe.length?this:function pe(Z){return 0===Z.length?he.y:1===Z.length?Z[0]:function(Xe){return Z.reduce((fe,Pe)=>Pe(fe),Xe)}}(Xe)(this)}toPromise(Xe){return new(Xe=se(Xe))((fe,Pe)=>{let ye;this.subscribe(ot=>ye=ot,ot=>Pe(ot),()=>fe(ye))})}}return Z.create=Ne=>new Z(Ne),Z})();function se(Z){if(Z||(Z=X.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},3292:(an,ct,M)=>{"use strict";M.d(ct,{c:()=>U});var a=M(2830),b=M(2782);const U={closed:!0,next(Ce){},error(Ce){if(a.v.useDeprecatedSynchronousErrorHandling)throw Ce;(0,b.z)(Ce)},complete(){}}},8929:(an,ct,M)=>{"use strict";M.d(ct,{Yc:()=>he,xQ:()=>_e});var a=M(2916),b=M(3489),U=M(2654),Ce=M(5279),Ie=M(5283),K=M(7668);class he extends b.L{constructor(J){super(J),this.destination=J}}let _e=(()=>{class X extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[K.b](){return new he(this)}lift(se){const Z=new pe(this,this);return Z.operator=se,Z}next(se){if(this.closed)throw new Ce.N;if(!this.isStopped){const{observers:Z}=this,Ne=Z.length,Xe=Z.slice();for(let fe=0;fe<Ne;fe++)Xe[fe].next(se)}}error(se){if(this.closed)throw new Ce.N;this.hasError=!0,this.thrownError=se,this.isStopped=!0;const{observers:Z}=this,Ne=Z.length,Xe=Z.slice();for(let fe=0;fe<Ne;fe++)Xe[fe].error(se);this.observers.length=0}complete(){if(this.closed)throw new Ce.N;this.isStopped=!0;const{observers:se}=this,Z=se.length,Ne=se.slice();for(let Xe=0;Xe<Z;Xe++)Ne[Xe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(se){if(this.closed)throw new Ce.N;return super._trySubscribe(se)}_subscribe(se){if(this.closed)throw new Ce.N;return this.hasError?(se.error(this.thrownError),U.w.EMPTY):this.isStopped?(se.complete(),U.w.EMPTY):(this.observers.push(se),new Ie.W(this,se))}asObservable(){const se=new a.y;return se.source=this,se}}return X.create=(J,se)=>new pe(J,se),X})();class pe extends _e{constructor(J,se){super(),this.destination=J,this.source=se}next(J){const{destination:se}=this;se&&se.next&&se.next(J)}error(J){const{destination:se}=this;se&&se.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:se}=this;return se?this.source.subscribe(J):U.w.EMPTY}}},5283:(an,ct,M)=>{"use strict";M.d(ct,{W:()=>b});var a=M(2654);class b extends a.w{constructor(Ce,Ie){super(),this.subject=Ce,this.subscriber=Ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ce=this.subject,Ie=Ce.observers;if(this.subject=null,!Ie||0===Ie.length||Ce.isStopped||Ce.closed)return;const K=Ie.indexOf(this.subscriber);-1!==K&&Ie.splice(K,1)}}},3489:(an,ct,M)=>{"use strict";M.d(ct,{L:()=>he});var a=M(7043),b=M(3292),U=M(2654),Ce=M(7668),Ie=M(2830),K=M(2782);class he extends U.w{constructor(X,J,se){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=b.c;break;case 1:if(!X){this.destination=b.c;break}if("object"==typeof X){X instanceof he?(this.syncErrorThrowable=X.syncErrorThrowable,this.destination=X,X.add(this)):(this.syncErrorThrowable=!0,this.destination=new _e(this,X));break}default:this.syncErrorThrowable=!0,this.destination=new _e(this,X,J,se)}}[Ce.b](){return this}static create(X,J,se){const Z=new he(X,J,se);return Z.syncErrorThrowable=!1,Z}next(X){this.isStopped||this._next(X)}error(X){this.isStopped||(this.isStopped=!0,this._error(X))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(X){this.destination.next(X)}_error(X){this.destination.error(X),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:X}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=X,this}}class _e extends he{constructor(X,J,se,Z){super(),this._parentSubscriber=X;let Ne,Xe=this;(0,a.m)(J)?Ne=J:J&&(Ne=J.next,se=J.error,Z=J.complete,J!==b.c&&(Xe=Object.create(J),(0,a.m)(Xe.unsubscribe)&&this.add(Xe.unsubscribe.bind(Xe)),Xe.unsubscribe=this.unsubscribe.bind(this))),this._context=Xe,this._next=Ne,this._error=se,this._complete=Z}next(X){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;Ie.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,X)&&this.unsubscribe():this.__tryOrUnsub(this._next,X)}}error(X){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:se}=Ie.v;if(this._error)se&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,X),this.unsubscribe()):(this.__tryOrUnsub(this._error,X),this.unsubscribe());else if(J.syncErrorThrowable)se?(J.syncErrorValue=X,J.syncErrorThrown=!0):(0,K.z)(X),this.unsubscribe();else{if(this.unsubscribe(),se)throw X;(0,K.z)(X)}}}complete(){if(!this.isStopped){const{_parentSubscriber:X}=this;if(this._complete){const J=()=>this._complete.call(this._context);Ie.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?(this.__tryOrSetError(X,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(X,J){try{X.call(this._context,J)}catch(se){if(this.unsubscribe(),Ie.v.useDeprecatedSynchronousErrorHandling)throw se;(0,K.z)(se)}}__tryOrSetError(X,J,se){if(!Ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,se)}catch(Z){return Ie.v.useDeprecatedSynchronousErrorHandling?(X.syncErrorValue=Z,X.syncErrorThrown=!0,!0):((0,K.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:X}=this;this._context=null,this._parentSubscriber=null,X.unsubscribe()}}},2654:(an,ct,M)=>{"use strict";M.d(ct,{w:()=>K});var a=M(6688),b=M(7830),U=M(7043);const Ie=(()=>{function _e(pe){return Error.call(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((X,J)=>`${J+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe,this}return _e.prototype=Object.create(Error.prototype),_e})();class K{constructor(pe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,pe&&(this._ctorUnsubscribe=!0,this._unsubscribe=pe)}unsubscribe(){let pe;if(this.closed)return;let{_parentOrParents:X,_ctorUnsubscribe:J,_unsubscribe:se,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,X instanceof K)X.remove(this);else if(null!==X)for(let Ne=0;Ne<X.length;++Ne)X[Ne].remove(this);if((0,U.m)(se)){J&&(this._unsubscribe=void 0);try{se.call(this)}catch(Ne){pe=Ne instanceof Ie?he(Ne.errors):[Ne]}}if((0,a.k)(Z)){let Ne=-1,Xe=Z.length;for(;++Ne<Xe;){const fe=Z[Ne];if((0,b.K)(fe))try{fe.unsubscribe()}catch(Pe){pe=pe||[],Pe instanceof Ie?pe=pe.concat(he(Pe.errors)):pe.push(Pe)}}}if(pe)throw new Ie(pe)}add(pe){let X=pe;if(!pe)return K.EMPTY;switch(typeof pe){case"function":X=new K(pe);case"object":if(X===this||X.closed||"function"!=typeof X.unsubscribe)return X;if(this.closed)return X.unsubscribe(),X;if(!(X instanceof K)){const Z=X;X=new K,X._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+pe+" added to Subscription.")}let{_parentOrParents:J}=X;if(null===J)X._parentOrParents=this;else if(J instanceof K){if(J===this)return X;X._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return X;J.push(this)}const se=this._subscriptions;return null===se?this._subscriptions=[X]:se.push(X),X}remove(pe){const X=this._subscriptions;if(X){const J=X.indexOf(pe);-1!==J&&X.splice(J,1)}}}var _e;function he(_e){return _e.reduce((pe,X)=>pe.concat(X instanceof Ie?X.errors:X),[])}K.EMPTY=((_e=new K).closed=!0,_e)},2830:(an,ct,M)=>{"use strict";M.d(ct,{v:()=>b});let a=!1;const b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const Ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ce.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=U},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(an,ct,M)=>{"use strict";M.d(ct,{IY:()=>Ce,Ds:()=>K,ft:()=>_e});var a=M(3489),b=M(2916),U=M(9249);class Ce extends a.L{constructor(X){super(),this.parent=X}_next(X){this.parent.notifyNext(X)}_error(X){this.parent.notifyError(X),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class K extends a.L{notifyNext(X){this.destination.next(X)}notifyError(X){this.destination.error(X)}notifyComplete(){this.destination.complete()}}function _e(pe,X){if(X.closed)return;if(pe instanceof b.y)return pe.subscribe(X);let J;try{J=(0,U.s)(pe)(X)}catch(se){X.error(se)}return J}},1762:(an,ct,M)=>{"use strict";M.d(ct,{c:()=>Ie,N:()=>K});var a=M(8929),b=M(2916),U=M(2654),Ce=M(4327);class Ie extends b.y{constructor(J,se){super(),this.source=J,this.subjectFactory=se,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new U.w,J.add(this.source.subscribe(new he(this.getSubject(),this))),J.closed&&(this._connection=null,J=U.w.EMPTY)),J}refCount(){return(0,Ce.x)()(this)}}const K=(()=>{const X=Ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}}})();class he extends a.Yc{constructor(J,se){super(J),this.connectable=se}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const se=J._connection;J._refCount=0,J._subject=null,J._connection=null,se&&se.unsubscribe()}}}},1221:(an,ct,M)=>{"use strict";M.d(ct,{z:()=>Ce});var a=M(1086),b=M(9146);function Ce(...Ie){return function U(){return(0,b.J)(1)}()((0,a.of)(...Ie))}},8896:(an,ct,M)=>{"use strict";M.d(ct,{E:()=>b,c:()=>U});var a=M(2916);const b=new a.y(Ie=>Ie.complete());function U(Ie){return Ie?function Ce(Ie){return new a.y(K=>Ie.schedule(()=>K.complete()))}(Ie):b}},5254:(an,ct,M)=>{"use strict";M.d(ct,{D:()=>Xe});var a=M(2916),b=M(9249),U=M(2654),Ce=M(3821),he=M(6454),_e=M(5430),J=M(8955),se=M(8515);function Xe(fe,Pe){return Pe?function Ne(fe,Pe){if(null!=fe){if(function X(fe){return fe&&"function"==typeof fe[Ce.L]}(fe))return function Ie(fe,Pe){return new a.y(ye=>{const ot=new U.w;return ot.add(Pe.schedule(()=>{const oe=fe[Ce.L]();ot.add(oe.subscribe({next(ut){ot.add(Pe.schedule(()=>ye.next(ut)))},error(ut){ot.add(Pe.schedule(()=>ye.error(ut)))},complete(){ot.add(Pe.schedule(()=>ye.complete()))}}))})),ot})}(fe,Pe);if((0,J.t)(fe))return function K(fe,Pe){return new a.y(ye=>{const ot=new U.w;return ot.add(Pe.schedule(()=>fe.then(oe=>{ot.add(Pe.schedule(()=>{ye.next(oe),ot.add(Pe.schedule(()=>ye.complete()))}))},oe=>{ot.add(Pe.schedule(()=>ye.error(oe)))}))),ot})}(fe,Pe);if((0,se.z)(fe))return(0,he.r)(fe,Pe);if(function Z(fe){return fe&&"function"==typeof fe[_e.hZ]}(fe)||"string"==typeof fe)return function pe(fe,Pe){if(!fe)throw new Error("Iterable cannot be null");return new a.y(ye=>{const ot=new U.w;let oe;return ot.add(()=>{oe&&"function"==typeof oe.return&&oe.return()}),ot.add(Pe.schedule(()=>{oe=fe[_e.hZ](),ot.add(Pe.schedule(function(){if(ye.closed)return;let ut,ke;try{const at=oe.next();ut=at.value,ke=at.done}catch(at){return void ye.error(at)}ke?ye.complete():(ye.next(ut),this.schedule())}))})),ot})}(fe,Pe)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,Pe):fe instanceof a.y?fe:new a.y((0,b.s)(fe))}},3009:(an,ct,M)=>{"use strict";M.d(ct,{n:()=>Ce});var a=M(2916),b=M(3650),U=M(6454);function Ce(Ie,K){return K?(0,U.r)(Ie,K):new a.y((0,b.V)(Ie))}},3753:(an,ct,M)=>{"use strict";M.d(ct,{R:()=>K});var a=M(2916),b=M(6688),U=M(7043),Ce=M(4850);function K(J,se,Z,Ne){return(0,U.m)(Z)&&(Ne=Z,Z=void 0),Ne?K(J,se,Z).pipe((0,Ce.U)(Xe=>(0,b.k)(Xe)?Ne(...Xe):Ne(Xe))):new a.y(Xe=>{he(J,se,function fe(Pe){Xe.next(arguments.length>1?Array.prototype.slice.call(arguments):Pe)},Xe,Z)})}function he(J,se,Z,Ne,Xe){let fe;if(function X(J){return J&&"function"==typeof J.addEventListener&&"function"==typeof J.removeEventListener}(J)){const Pe=J;J.addEventListener(se,Z,Xe),fe=()=>Pe.removeEventListener(se,Z,Xe)}else if(function pe(J){return J&&"function"==typeof J.on&&"function"==typeof J.off}(J)){const Pe=J;J.on(se,Z),fe=()=>Pe.off(se,Z)}else if(function _e(J){return J&&"function"==typeof J.addListener&&"function"==typeof J.removeListener}(J)){const Pe=J;J.addListener(se,Z),fe=()=>Pe.removeListener(se,Z)}else{if(!J||!J.length)throw new TypeError("Invalid event target");for(let Pe=0,ye=J.length;Pe<ye;Pe++)he(J[Pe],se,Z,Ne,Xe)}Ne.add(fe)}},6787:(an,ct,M)=>{"use strict";M.d(ct,{T:()=>Ie});var a=M(2916),b=M(2866),U=M(9146),Ce=M(3009);function Ie(...K){let he=Number.POSITIVE_INFINITY,_e=null,pe=K[K.length-1];return(0,b.K)(pe)?(_e=K.pop(),K.length>1&&"number"==typeof K[K.length-1]&&(he=K.pop())):"number"==typeof pe&&(he=K.pop()),null===_e&&1===K.length&&K[0]instanceof a.y?K[0]:(0,U.J)(he)((0,Ce.n)(K,_e))}},1086:(an,ct,M)=>{"use strict";M.d(ct,{of:()=>Ce});var a=M(2866),b=M(3009),U=M(6454);function Ce(...Ie){let K=Ie[Ie.length-1];return(0,a.K)(K)?(Ie.pop(),(0,U.r)(Ie,K)):(0,b.n)(Ie)}},1737:(an,ct,M)=>{"use strict";M.d(ct,{_:()=>b});var a=M(2916);function b(Ce,Ie){return new a.y(Ie?K=>Ie.schedule(U,0,{error:Ce,subscriber:K}):K=>K.error(Ce))}function U({error:Ce,subscriber:Ie}){Ie.error(Ce)}},1406:(an,ct,M)=>{"use strict";M.d(ct,{b:()=>b});var a=M(1709);function b(U,Ce){return(0,a.zg)(U,Ce,1)}},7314:(an,ct,M)=>{"use strict";M.d(ct,{d:()=>b});var a=M(3489);function b(Ie=null){return K=>K.lift(new U(Ie))}class U{constructor(K){this.defaultValue=K}call(K,he){return he.subscribe(new Ce(K,this.defaultValue))}}class Ce extends a.L{constructor(K,he){super(K),this.defaultValue=he,this.isEmpty=!0}_next(K){this.isEmpty=!1,this.destination.next(K)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(an,ct,M)=>{"use strict";M.d(ct,{x:()=>b});var a=M(3489);function b(Ie,K){return he=>he.lift(new U(Ie,K))}class U{constructor(K,he){this.compare=K,this.keySelector=he}call(K,he){return he.subscribe(new Ce(K,this.compare,this.keySelector))}}class Ce extends a.L{constructor(K,he,_e){super(K),this.keySelector=_e,this.hasKey=!1,"function"==typeof he&&(this.compare=he)}compare(K,he){return K===he}_next(K){let he;try{const{keySelector:pe}=this;he=pe?pe(K):K}catch(pe){return this.destination.error(pe)}let _e=!1;if(this.hasKey)try{const{compare:pe}=this;_e=pe(this.key,he)}catch(pe){return this.destination.error(pe)}else this.hasKey=!0;_e||(this.key=he,this.destination.next(K))}}},2198:(an,ct,M)=>{"use strict";M.d(ct,{h:()=>b});var a=M(3489);function b(Ie,K){return function(_e){return _e.lift(new U(Ie,K))}}class U{constructor(K,he){this.predicate=K,this.thisArg=he}call(K,he){return he.subscribe(new Ce(K,this.predicate,this.thisArg))}}class Ce extends a.L{constructor(K,he,_e){super(K),this.predicate=he,this.thisArg=_e,this.count=0}_next(K){let he;try{he=this.predicate.call(this.thisArg,K,this.count++)}catch(_e){return void this.destination.error(_e)}he&&this.destination.next(K)}}},537:(an,ct,M)=>{"use strict";M.d(ct,{x:()=>U});var a=M(3489),b=M(2654);function U(K){return he=>he.lift(new Ce(K))}class Ce{constructor(he){this.callback=he}call(he,_e){return _e.subscribe(new Ie(he,this.callback))}}class Ie extends a.L{constructor(he,_e){super(he),this.add(new b.w(_e))}}},7224:(an,ct,M)=>{"use strict";M.d(ct,{P:()=>he});var a=M(4450),b=M(2198),U=M(2986),Ce=M(7314),Ie=M(4907),K=M(5379);function he(_e,pe){const X=arguments.length>=2;return J=>J.pipe(_e?(0,b.h)((se,Z)=>_e(se,Z,J)):K.y,(0,U.q)(1),X?(0,Ce.d)(pe):(0,Ie.T)(()=>new a.K))}},4850:(an,ct,M)=>{"use strict";M.d(ct,{U:()=>b});var a=M(3489);function b(Ie,K){return function(_e){if("function"!=typeof Ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _e.lift(new U(Ie,K))}}class U{constructor(K,he){this.project=K,this.thisArg=he}call(K,he){return he.subscribe(new Ce(K,this.project,this.thisArg))}}class Ce extends a.L{constructor(K,he,_e){super(K),this.project=he,this.count=0,this.thisArg=_e||this}_next(K){let he;try{he=this.project.call(this.thisArg,K,this.count++)}catch(_e){return void this.destination.error(_e)}this.destination.next(he)}}},9146:(an,ct,M)=>{"use strict";M.d(ct,{J:()=>U});var a=M(1709),b=M(5379);function U(Ce=Number.POSITIVE_INFINITY){return(0,a.zg)(b.y,Ce)}},1709:(an,ct,M)=>{"use strict";M.d(ct,{zg:()=>Ce});var a=M(4850),b=M(5254),U=M(1177);function Ce(_e,pe,X=Number.POSITIVE_INFINITY){return"function"==typeof pe?J=>J.pipe(Ce((se,Z)=>(0,b.D)(_e(se,Z)).pipe((0,a.U)((Ne,Xe)=>pe(se,Ne,Z,Xe))),X)):("number"==typeof pe&&(X=pe),J=>J.lift(new Ie(_e,X)))}class Ie{constructor(pe,X=Number.POSITIVE_INFINITY){this.project=pe,this.concurrent=X}call(pe,X){return X.subscribe(new K(pe,this.project,this.concurrent))}}class K extends U.Ds{constructor(pe,X,J=Number.POSITIVE_INFINITY){super(pe),this.project=X,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(pe){this.active<this.concurrent?this._tryNext(pe):this.buffer.push(pe)}_tryNext(pe){let X;const J=this.index++;try{X=this.project(pe,J)}catch(se){return void this.destination.error(se)}this.active++,this._innerSub(X)}_innerSub(pe){const X=new U.IY(this),J=this.destination;J.add(X);const se=(0,U.ft)(pe,X);se!==X&&J.add(se)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(pe){this.destination.next(pe)}notifyComplete(){const pe=this.buffer;this.active--,pe.length>0?this._next(pe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(an,ct,M)=>{"use strict";M.d(ct,{ht:()=>pe,QV:()=>he});var a=M(3489),b=M(8896),U=M(1086),Ce=M(1737);class K{constructor(se,Z,Ne){this.kind=se,this.value=Z,this.error=Ne,this.hasValue="N"===se}observe(se){switch(this.kind){case"N":return se.next&&se.next(this.value);case"E":return se.error&&se.error(this.error);case"C":return se.complete&&se.complete()}}do(se,Z,Ne){switch(this.kind){case"N":return se&&se(this.value);case"E":return Z&&Z(this.error);case"C":return Ne&&Ne()}}accept(se,Z,Ne){return se&&"function"==typeof se.next?this.observe(se):this.do(se,Z,Ne)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return(0,Ce._)(this.error);case"C":return(0,b.c)()}throw new Error("unexpected notification kind value")}static createNext(se){return void 0!==se?new K("N",se):K.undefinedValueNotification}static createError(se){return new K("E",void 0,se)}static createComplete(){return K.completeNotification}}function he(J,se=0){return function(Ne){return Ne.lift(new _e(J,se))}}K.completeNotification=new K("C"),K.undefinedValueNotification=new K("N",void 0);class _e{constructor(se,Z=0){this.scheduler=se,this.delay=Z}call(se,Z){return Z.subscribe(new pe(se,this.scheduler,this.delay))}}class pe extends a.L{constructor(se,Z,Ne=0){super(se),this.scheduler=Z,this.delay=Ne}static dispatch(se){const{notification:Z,destination:Ne}=se;Z.observe(Ne),this.unsubscribe()}scheduleMessage(se){this.destination.add(this.scheduler.schedule(pe.dispatch,this.delay,new X(se,this.destination)))}_next(se){this.scheduleMessage(K.createNext(se))}_error(se){this.scheduleMessage(K.createError(se)),this.unsubscribe()}_complete(){this.scheduleMessage(K.createComplete()),this.unsubscribe()}}class X{constructor(se,Z){this.notification=se,this.destination=Z}}},4327:(an,ct,M)=>{"use strict";M.d(ct,{x:()=>b});var a=M(3489);function b(){return function(K){return K.lift(new U(K))}}class U{constructor(K){this.connectable=K}call(K,he){const{connectable:_e}=this;_e._refCount++;const pe=new Ce(K,_e),X=he.subscribe(pe);return pe.closed||(pe.connection=_e.connect()),X}}class Ce extends a.L{constructor(K,he){super(K),this.connectable=he}_unsubscribe(){const{connectable:K}=this;if(!K)return void(this.connection=null);this.connectable=null;const he=K._refCount;if(he<=0)return void(this.connection=null);if(K._refCount=he-1,he>1)return void(this.connection=null);const{connection:_e}=this,pe=K._connection;this.connection=null,pe&&(!_e||pe===_e)&&pe.unsubscribe()}}},2014:(an,ct,M)=>{"use strict";M.d(ct,{R:()=>b});var a=M(3489);function b(Ie,K){let he=!1;return arguments.length>=2&&(he=!0),function(pe){return pe.lift(new U(Ie,K,he))}}class U{constructor(K,he,_e=!1){this.accumulator=K,this.seed=he,this.hasSeed=_e}call(K,he){return he.subscribe(new Ce(K,this.accumulator,this.seed,this.hasSeed))}}class Ce extends a.L{constructor(K,he,_e,pe){super(K),this.accumulator=he,this._seed=_e,this.hasSeed=pe,this.index=0}get seed(){return this._seed}set seed(K){this.hasSeed=!0,this._seed=K}_next(K){if(this.hasSeed)return this._tryNext(K);this.seed=K,this.destination.next(K)}_tryNext(K){const he=this.index++;let _e;try{_e=this.accumulator(this.seed,K,he)}catch(pe){this.destination.error(pe)}this.seed=_e,this.destination.next(_e)}}},1059:(an,ct,M)=>{"use strict";M.d(ct,{O:()=>U});var a=M(1221),b=M(2866);function U(...Ce){const Ie=Ce[Ce.length-1];return(0,b.K)(Ie)?(Ce.pop(),K=>(0,a.z)(Ce,K,Ie)):K=>(0,a.z)(Ce,K)}},8915:(an,ct,M)=>{"use strict";M.d(ct,{R:()=>Pe});var a=M(2916);let b=1;const U=Promise.resolve(),Ce={};function Ie(ot){return ot in Ce&&(delete Ce[ot],!0)}const K={setImmediate(ot){const oe=b++;return Ce[oe]=!0,U.then(()=>Ie(oe)&&ot()),oe},clearImmediate(ot){Ie(ot)}};var _e=M(6686),X=M(2268);const Z=new class J extends X.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:ut}=this;let ke,at=-1,_t=ut.length;oe=oe||ut.shift();do{if(ke=oe.execute(oe.state,oe.delay))break}while(++at<_t&&(oe=ut.shift()));if(this.active=!1,ke){for(;++at<_t&&(oe=ut.shift());)oe.unsubscribe();throw ke}}}(class pe extends _e.o{constructor(oe,ut){super(oe,ut),this.scheduler=oe,this.work=ut}requestAsyncId(oe,ut,ke=0){return null!==ke&&ke>0?super.requestAsyncId(oe,ut,ke):(oe.actions.push(this),oe.scheduled||(oe.scheduled=K.setImmediate(oe.flush.bind(oe,null))))}recycleAsyncId(oe,ut,ke=0){if(null!==ke&&ke>0||null===ke&&this.delay>0)return super.recycleAsyncId(oe,ut,ke);0===oe.actions.length&&(K.clearImmediate(ut),oe.scheduled=void 0)}});var Ne=M(6688);class fe extends a.y{constructor(oe,ut=0,ke=Z){super(),this.source=oe,this.delayTime=ut,this.scheduler=ke,(!function Xe(ot){return!(0,Ne.k)(ot)&&ot-parseFloat(ot)+1>=0}(ut)||ut<0)&&(this.delayTime=0),(!ke||"function"!=typeof ke.schedule)&&(this.scheduler=Z)}static create(oe,ut=0,ke=Z){return new fe(oe,ut,ke)}static dispatch(oe){const{source:ut,subscriber:ke}=oe;return this.add(ut.subscribe(ke))}_subscribe(oe){return this.scheduler.schedule(fe.dispatch,this.delayTime,{source:this.source,subscriber:oe})}}function Pe(ot,oe=0){return function(ke){return ke.lift(new ye(ot,oe))}}class ye{constructor(oe,ut){this.scheduler=oe,this.delay=ut}call(oe,ut){return new fe(ut,this.delay,this.scheduler).subscribe(oe)}}},7545:(an,ct,M)=>{"use strict";M.d(ct,{w:()=>Ce});var a=M(4850),b=M(5254),U=M(1177);function Ce(he,_e){return"function"==typeof _e?pe=>pe.pipe(Ce((X,J)=>(0,b.D)(he(X,J)).pipe((0,a.U)((se,Z)=>_e(X,se,J,Z))))):pe=>pe.lift(new Ie(he))}class Ie{constructor(_e){this.project=_e}call(_e,pe){return pe.subscribe(new K(_e,this.project))}}class K extends U.Ds{constructor(_e,pe){super(_e),this.project=pe,this.index=0}_next(_e){let pe;const X=this.index++;try{pe=this.project(_e,X)}catch(J){return void this.destination.error(J)}this._innerSub(pe)}_innerSub(_e){const pe=this.innerSubscription;pe&&pe.unsubscribe();const X=new U.IY(this),J=this.destination;J.add(X),this.innerSubscription=(0,U.ft)(_e,X),this.innerSubscription!==X&&J.add(this.innerSubscription)}_complete(){const{innerSubscription:_e}=this;(!_e||_e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(_e){this.destination.next(_e)}}},2986:(an,ct,M)=>{"use strict";M.d(ct,{q:()=>Ce});var a=M(3489),b=M(4231),U=M(8896);function Ce(he){return _e=>0===he?(0,U.c)():_e.lift(new Ie(he))}class Ie{constructor(_e){if(this.total=_e,this.total<0)throw new b.W}call(_e,pe){return pe.subscribe(new K(_e,this.total))}}class K extends a.L{constructor(_e,pe){super(_e),this.total=pe,this.count=0}_next(_e){const pe=this.total,X=++this.count;X<=pe&&(this.destination.next(_e),X===pe&&(this.destination.complete(),this.unsubscribe()))}}},2868:(an,ct,M)=>{"use strict";M.d(ct,{b:()=>Ce});var a=M(3489);function b(){}var U=M(7043);function Ce(he,_e,pe){return function(J){return J.lift(new Ie(he,_e,pe))}}class Ie{constructor(_e,pe,X){this.nextOrObserver=_e,this.error=pe,this.complete=X}call(_e,pe){return pe.subscribe(new K(_e,this.nextOrObserver,this.error,this.complete))}}class K extends a.L{constructor(_e,pe,X,J){super(_e),this._tapNext=b,this._tapError=b,this._tapComplete=b,this._tapError=X||b,this._tapComplete=J||b,(0,U.m)(pe)?(this._context=this,this._tapNext=pe):pe&&(this._context=pe,this._tapNext=pe.next||b,this._tapError=pe.error||b,this._tapComplete=pe.complete||b)}_next(_e){try{this._tapNext.call(this._context,_e)}catch(pe){return void this.destination.error(pe)}this.destination.next(_e)}_error(_e){try{this._tapError.call(this._context,_e)}catch(pe){return void this.destination.error(pe)}this.destination.error(_e)}_complete(){try{this._tapComplete.call(this._context)}catch(_e){return void this.destination.error(_e)}return this.destination.complete()}}},4907:(an,ct,M)=>{"use strict";M.d(ct,{T:()=>U});var a=M(4450),b=M(3489);function U(he=K){return _e=>_e.lift(new Ce(he))}class Ce{constructor(_e){this.errorFactory=_e}call(_e,pe){return pe.subscribe(new Ie(_e,this.errorFactory))}}class Ie extends b.L{constructor(_e,pe){super(_e),this.errorFactory=pe,this.hasValue=!1}_next(_e){this.hasValue=!0,this.destination.next(_e)}_complete(){if(this.hasValue)return this.destination.complete();{let _e;try{_e=this.errorFactory()}catch(pe){_e=pe}this.destination.error(_e)}}}function K(){return new a.K}},6454:(an,ct,M)=>{"use strict";M.d(ct,{r:()=>U});var a=M(2916),b=M(2654);function U(Ce,Ie){return new a.y(K=>{const he=new b.w;let _e=0;return he.add(Ie.schedule(function(){_e!==Ce.length?(K.next(Ce[_e++]),K.closed||he.add(this.schedule())):K.complete()})),he})}},6686:(an,ct,M)=>{"use strict";M.d(ct,{o:()=>U});var a=M(2654);class b extends a.w{constructor(Ie,K){super()}schedule(Ie,K=0){return this}}class U extends b{constructor(Ie,K){super(Ie,K),this.scheduler=Ie,this.work=K,this.pending=!1}schedule(Ie,K=0){if(this.closed)return this;this.state=Ie;const he=this.id,_e=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(_e,he,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(_e,this.id,K),this}requestAsyncId(Ie,K,he=0){return setInterval(Ie.flush.bind(Ie,this),he)}recycleAsyncId(Ie,K,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return K;clearInterval(K)}execute(Ie,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(Ie,K);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,K){let _e,he=!1;try{this.work(Ie)}catch(pe){he=!0,_e=!!pe&&pe||new Error(pe)}if(he)return this.unsubscribe(),_e}_unsubscribe(){const Ie=this.id,K=this.scheduler,he=K.actions,_e=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==_e&&he.splice(_e,1),null!=Ie&&(this.id=this.recycleAsyncId(K,Ie,null)),this.delay=null}}},2268:(an,ct,M)=>{"use strict";M.d(ct,{v:()=>b});let a=(()=>{class U{constructor(Ie,K=U.now){this.SchedulerAction=Ie,this.now=K}schedule(Ie,K=0,he){return new this.SchedulerAction(this,Ie).schedule(he,K)}}return U.now=()=>Date.now(),U})();class b extends a{constructor(Ce,Ie=a.now){super(Ce,()=>b.delegate&&b.delegate!==this?b.delegate.now():Ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ce,Ie=0,K){return b.delegate&&b.delegate!==this?b.delegate.schedule(Ce,Ie,K):super.schedule(Ce,Ie,K)}flush(Ce){const{actions:Ie}=this;if(this.active)return void Ie.push(Ce);let K;this.active=!0;do{if(K=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Ie.shift());if(this.active=!1,K){for(;Ce=Ie.shift();)Ce.unsubscribe();throw K}}}},353:(an,ct,M)=>{"use strict";M.d(ct,{z:()=>U,P:()=>Ce});var a=M(6686);const U=new(M(2268).v)(a.o),Ce=U},341:(an,ct,M)=>{"use strict";M.d(ct,{c:()=>K,N:()=>Ie});var a=M(6686),U=M(2268);const Ie=new class Ce extends U.v{}(class b extends a.o{constructor(_e,pe){super(_e,pe),this.scheduler=_e,this.work=pe}schedule(_e,pe=0){return pe>0?super.schedule(_e,pe):(this.delay=pe,this.state=_e,this.scheduler.flush(this),this)}execute(_e,pe){return pe>0||this.closed?super.execute(_e,pe):this._execute(_e,pe)}requestAsyncId(_e,pe,X=0){return null!==X&&X>0||null===X&&this.delay>0?super.requestAsyncId(_e,pe,X):_e.flush(this)}}),K=Ie},5430:(an,ct,M)=>{"use strict";M.d(ct,{hZ:()=>b});const b=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(an,ct,M)=>{"use strict";M.d(ct,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(an,ct,M)=>{"use strict";M.d(ct,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(an,ct,M)=>{"use strict";M.d(ct,{W:()=>b});const b=(()=>{function U(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return U.prototype=Object.create(Error.prototype),U})()},4450:(an,ct,M)=>{"use strict";M.d(ct,{K:()=>b});const b=(()=>{function U(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return U.prototype=Object.create(Error.prototype),U})()},5279:(an,ct,M)=>{"use strict";M.d(ct,{N:()=>b});const b=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},2782:(an,ct,M)=>{"use strict";function a(b){setTimeout(()=>{throw b},0)}M.d(ct,{z:()=>a})},5379:(an,ct,M)=>{"use strict";function a(b){return b}M.d(ct,{y:()=>a})},6688:(an,ct,M)=>{"use strict";M.d(ct,{k:()=>a});const a=Array.isArray||(b=>b&&"number"==typeof b.length)},8515:(an,ct,M)=>{"use strict";M.d(ct,{z:()=>a});const a=b=>b&&"number"==typeof b.length&&"function"!=typeof b},7043:(an,ct,M)=>{"use strict";function a(b){return"function"==typeof b}M.d(ct,{m:()=>a})},7830:(an,ct,M)=>{"use strict";function a(b){return null!==b&&"object"==typeof b}M.d(ct,{K:()=>a})},8955:(an,ct,M)=>{"use strict";function a(b){return!!b&&"function"!=typeof b.subscribe&&"function"==typeof b.then}M.d(ct,{t:()=>a})},2866:(an,ct,M)=>{"use strict";function a(b){return b&&"function"==typeof b.schedule}M.d(ct,{K:()=>a})},9249:(an,ct,M)=>{"use strict";M.d(ct,{s:()=>J});var a=M(3650),b=M(2782),Ce=M(5430),K=M(3821),_e=M(8515),pe=M(8955),X=M(7830);const J=se=>{if(se&&"function"==typeof se[K.L])return(se=>Z=>{const Ne=se[K.L]();if("function"!=typeof Ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ne.subscribe(Z)})(se);if((0,_e.z)(se))return(0,a.V)(se);if((0,pe.t)(se))return(se=>Z=>(se.then(Ne=>{Z.closed||(Z.next(Ne),Z.complete())},Ne=>Z.error(Ne)).then(null,b.z),Z))(se);if(se&&"function"==typeof se[Ce.hZ])return(se=>Z=>{const Ne=se[Ce.hZ]();for(;;){let Xe;try{Xe=Ne.next()}catch(fe){return Z.error(fe),Z}if(Xe.done){Z.complete();break}if(Z.next(Xe.value),Z.closed)break}return"function"==typeof Ne.return&&Z.add(()=>{Ne.return&&Ne.return()}),Z})(se);{const Ne=`You provided ${(0,X.K)(se)?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ne)}}},3650:(an,ct,M)=>{"use strict";M.d(ct,{V:()=>a});const a=b=>U=>{for(let Ce=0,Ie=b.length;Ce<Ie&&!U.closed;Ce++)U.next(b[Ce]);U.complete()}},863:(an,ct,M)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function b(U){if(!M.o(a,U))return Promise.resolve().then(()=>{var K=new Error("Cannot find module '"+U+"'");throw K.code="MODULE_NOT_FOUND",K});var Ce=a[U],Ie=Ce[0];return Promise.all(Ce.slice(1).map(M.e)).then(()=>M(Ie))}b.keys=()=>Object.keys(a),b.id=863,an.exports=b},655:(an,ct,M)=>{"use strict";M.d(ct,{ZT:()=>b,_T:()=>Ce,gn:()=>Ie,mG:()=>_e});var a=function(ve,Ve){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,Te){me.__proto__=Te}||function(me,Te){for(var De in Te)Object.prototype.hasOwnProperty.call(Te,De)&&(me[De]=Te[De])})(ve,Ve)};function b(ve,Ve){if("function"!=typeof Ve&&null!==Ve)throw new TypeError("Class extends value "+String(Ve)+" is not a constructor or null");function me(){this.constructor=ve}a(ve,Ve),ve.prototype=null===Ve?Object.create(Ve):(me.prototype=Ve.prototype,new me)}function Ce(ve,Ve){var me={};for(var Te in ve)Object.prototype.hasOwnProperty.call(ve,Te)&&Ve.indexOf(Te)<0&&(me[Te]=ve[Te]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(Te=Object.getOwnPropertySymbols(ve);De<Te.length;De++)Ve.indexOf(Te[De])<0&&Object.prototype.propertyIsEnumerable.call(ve,Te[De])&&(me[Te[De]]=ve[Te[De]])}return me}function Ie(ve,Ve,me,Te){var qt,De=arguments.length,qe=De<3?Ve:null===Te?Te=Object.getOwnPropertyDescriptor(Ve,me):Te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(ve,Ve,me,Te);else for(var tn=ve.length-1;tn>=0;tn--)(qt=ve[tn])&&(qe=(De<3?qt(qe):De>3?qt(Ve,me,qe):qt(Ve,me))||qe);return De>3&&qe&&Object.defineProperty(Ve,me,qe),qe}function _e(ve,Ve,me,Te){return new(me||(me=Promise))(function(qe,qt){function tn(dt){try{pt(Te.next(dt))}catch(ze){qt(ze)}}function bt(dt){try{pt(Te.throw(dt))}catch(ze){qt(ze)}}function pt(dt){dt.done?qe(dt.value):function De(qe){return qe instanceof me?qe:new me(function(qt){qt(qe)})}(dt.value).then(tn,bt)}pt((Te=Te.apply(ve,Ve||[])).next())})}},9808:(an,ct,M)=>{"use strict";M.d(ct,{mr:()=>ot,Ov:()=>mt,ez:()=>ps,K0:()=>he,uU:()=>br,Do:()=>ut,V_:()=>X,Ye:()=>ke,S$:()=>Pe,sg:()=>zn,O5:()=>ee,tP:()=>On,b0:()=>oe,lw:()=>_e,EM:()=>rn,JF:()=>Ur,NF:()=>q,PM:()=>Me,w_:()=>K,bD:()=>Ii,q:()=>U,Mx:()=>si,HT:()=>Ie});var a=M(6435);let b=null;function U(){return b}function Ie(k){b||(b=k)}class K{}const he=new a.OlP("DocumentToken");let _e=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=a.Yz7({token:k,factory:function(){return function pe(){return(0,a.LFG)(J)}()},providedIn:"platform"}),k})();const X=new a.OlP("Location Initialized");let J=(()=>{class k extends _e{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(B){const ae=U().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",B,!1),()=>ae.removeEventListener("popstate",B)}onHashChange(B){const ae=U().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",B,!1),()=>ae.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ae,Fe){se()?this._history.pushState(B,ae,Fe):this.location.hash=Fe}replaceState(B,ae,Fe){se()?this._history.replaceState(B,ae,Fe):this.location.hash=Fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return k.\u0275fac=function(B){return new(B||k)(a.LFG(he))},k.\u0275prov=a.Yz7({token:k,factory:function(){return function Z(){return new J((0,a.LFG)(he))}()},providedIn:"platform"}),k})();function se(){return!!window.history.pushState}function Ne(k,Q){if(0==k.length)return Q;if(0==Q.length)return k;let B=0;return k.endsWith("/")&&B++,Q.startsWith("/")&&B++,2==B?k+Q.substring(1):1==B?k+Q:k+"/"+Q}function Xe(k){const Q=k.match(/#|\?|$/),B=Q&&Q.index||k.length;return k.slice(0,B-("/"===k[B-1]?1:0))+k.slice(B)}function fe(k){return k&&"?"!==k[0]?"?"+k:k}let Pe=(()=>{class k{historyGo(B){throw new Error("Not implemented")}}return k.\u0275fac=function(B){return new(B||k)},k.\u0275prov=a.Yz7({token:k,factory:function(){return function ye(k){const Q=(0,a.LFG)(he).location;return new oe((0,a.LFG)(_e),Q&&Q.origin||"")}()},providedIn:"root"}),k})();const ot=new a.OlP("appBaseHref");let oe=(()=>{class k extends Pe{constructor(B,ae){if(super(),this._platformLocation=B,this._removeListenerFns=[],null==ae&&(ae=this._platformLocation.getBaseHrefFromDOM()),null==ae)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ae}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Ne(this._baseHref,B)}path(B=!1){const ae=this._platformLocation.pathname+fe(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&B?`${ae}${Fe}`:ae}pushState(B,ae,Fe,P){const $=this.prepareExternalUrl(Fe+fe(P));this._platformLocation.pushState(B,ae,$)}replaceState(B,ae,Fe,P){const $=this.prepareExternalUrl(Fe+fe(P));this._platformLocation.replaceState(B,ae,$)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var ae,Fe;null===(Fe=(ae=this._platformLocation).historyGo)||void 0===Fe||Fe.call(ae,B)}}return k.\u0275fac=function(B){return new(B||k)(a.LFG(_e),a.LFG(ot,8))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac}),k})(),ut=(()=>{class k extends Pe{constructor(B,ae){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl(B){const ae=Ne(this._baseHref,B);return ae.length>0?"#"+ae:ae}pushState(B,ae,Fe,P){let $=this.prepareExternalUrl(Fe+fe(P));0==$.length&&($=this._platformLocation.pathname),this._platformLocation.pushState(B,ae,$)}replaceState(B,ae,Fe,P){let $=this.prepareExternalUrl(Fe+fe(P));0==$.length&&($=this._platformLocation.pathname),this._platformLocation.replaceState(B,ae,$)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var ae,Fe;null===(Fe=(ae=this._platformLocation).historyGo)||void 0===Fe||Fe.call(ae,B)}}return k.\u0275fac=function(B){return new(B||k)(a.LFG(_e),a.LFG(ot,8))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac}),k})(),ke=(()=>{class k{constructor(B,ae){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=B;const Fe=this._platformStrategy.getBaseHref();this._platformLocation=ae,this._baseHref=Xe(He(Fe)),this._platformStrategy.onPopState(P=>{this._subject.emit({url:this.path(!0),pop:!0,state:P.state,type:P.type})})}path(B=!1){return this.normalize(this._platformStrategy.path(B))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(B,ae=""){return this.path()==this.normalize(B+fe(ae))}normalize(B){return k.stripTrailingSlash(function _t(k,Q){return k&&Q.startsWith(k)?Q.substring(k.length):Q}(this._baseHref,He(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._platformStrategy.prepareExternalUrl(B)}go(B,ae="",Fe=null){this._platformStrategy.pushState(Fe,"",B,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(ae)),Fe)}replaceState(B,ae="",Fe=null){this._platformStrategy.replaceState(Fe,"",B,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+fe(ae)),Fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(B=0){var ae,Fe;null===(Fe=(ae=this._platformStrategy).historyGo)||void 0===Fe||Fe.call(ae,B)}onUrlChange(B){this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)}))}_notifyUrlChangeListeners(B="",ae){this._urlChangeListeners.forEach(Fe=>Fe(B,ae))}subscribe(B,ae,Fe){return this._subject.subscribe({next:B,error:ae,complete:Fe})}}return k.normalizeQueryParams=fe,k.joinWithSlash=Ne,k.stripTrailingSlash=Xe,k.\u0275fac=function(B){return new(B||k)(a.LFG(Pe),a.LFG(_e))},k.\u0275prov=a.Yz7({token:k,factory:function(){return function at(){return new ke((0,a.LFG)(Pe),(0,a.LFG)(_e))}()},providedIn:"root"}),k})();function He(k){return k.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),De=(()=>((De=De||{})[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De))(),qe=(()=>((qe=qe||{})[qe.Decimal=0]="Decimal",qe[qe.Group=1]="Group",qe[qe.List=2]="List",qe[qe.PercentSign=3]="PercentSign",qe[qe.PlusSign=4]="PlusSign",qe[qe.MinusSign=5]="MinusSign",qe[qe.Exponential=6]="Exponential",qe[qe.SuperscriptingExponent=7]="SuperscriptingExponent",qe[qe.PerMille=8]="PerMille",qe[qe.Infinity=9]="Infinity",qe[qe.NaN=10]="NaN",qe[qe.TimeSeparator=11]="TimeSeparator",qe[qe.CurrencyDecimal=12]="CurrencyDecimal",qe[qe.CurrencyGroup=13]="CurrencyGroup",qe))();function et(k,Q){return Yn((0,a.cg1)(k)[a.wAp.DateFormat],Q)}function je(k,Q){return Yn((0,a.cg1)(k)[a.wAp.TimeFormat],Q)}function Oe(k,Q){return Yn((0,a.cg1)(k)[a.wAp.DateTimeFormat],Q)}function Dt(k,Q){const B=(0,a.cg1)(k),ae=B[a.wAp.NumberSymbols][Q];if(void 0===ae){if(Q===qe.CurrencyDecimal)return B[a.wAp.NumberSymbols][qe.Decimal];if(Q===qe.CurrencyGroup)return B[a.wAp.NumberSymbols][qe.Group]}return ae}function jn(k){if(!k[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yn(k,Q){for(let B=Q;B>-1;B--)if(void 0!==k[B])return k[B];throw new Error("Locale data API: locale data undefined")}function Gn(k){const[Q,B]=k.split(":");return{hours:+Q,minutes:+B}}const Ke=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ye={},jt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.ShortGMT=1]="ShortGMT",xt[xt.Long=2]="Long",xt[xt.Extended=3]="Extended",xt))(),Ut=(()=>((Ut=Ut||{})[Ut.FullYear=0]="FullYear",Ut[Ut.Month=1]="Month",Ut[Ut.Date=2]="Date",Ut[Ut.Hours=3]="Hours",Ut[Ut.Minutes=4]="Minutes",Ut[Ut.Seconds=5]="Seconds",Ut[Ut.FractionalSeconds=6]="FractionalSeconds",Ut[Ut.Day=7]="Day",Ut))(),Lt=(()=>((Lt=Lt||{})[Lt.DayPeriods=0]="DayPeriods",Lt[Lt.Days=1]="Days",Lt[Lt.Months=2]="Months",Lt[Lt.Eras=3]="Eras",Lt))();function ar(k,Q,B,ae){let Fe=function We(k){if(bn(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[Fe,P=1,$=1]=k.split("-").map(N=>+N);return qn(Fe,P-1,$)}const B=parseFloat(k);if(!isNaN(k-B))return new Date(B);let ae;if(ae=k.match(Ke))return function Zt(k){const Q=new Date(0);let B=0,ae=0;const Fe=k[8]?Q.setUTCFullYear:Q.setFullYear,P=k[8]?Q.setUTCHours:Q.setHours;k[9]&&(B=Number(k[9]+k[10]),ae=Number(k[9]+k[11])),Fe.call(Q,Number(k[1]),Number(k[2])-1,Number(k[3]));const $=Number(k[4]||0)-B,N=Number(k[5]||0)-ae,ce=Number(k[6]||0),Ge=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return P.call(Q,$,N,ce,Ge),Q}(ae)}const Q=new Date(k);if(!bn(Q))throw new Error(`Unable to convert "${k}" into a date`);return Q}(k);Q=on(B,Q)||Q;let N,$=[];for(;Q;){if(N=jt.exec(Q),!N){$.push(Q);break}{$=$.concat(N.slice(1));const Pt=$.pop();if(!Pt)break;Q=Pt}}let ce=Fe.getTimezoneOffset();ae&&(ce=ge(ae,ce),Fe=function Ae(k,Q,B){const ae=B?-1:1,Fe=k.getTimezoneOffset();return function Ee(k,Q){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+Q),k}(k,ae*(ge(Q,Fe)-Fe))}(Fe,ae,!0));let Ge="";return $.forEach(Pt=>{const zt=function It(k){if(Je[k])return Je[k];let Q;switch(k){case"G":case"GG":case"GGG":Q=Kn(Lt.Eras,Te.Abbreviated);break;case"GGGG":Q=Kn(Lt.Eras,Te.Wide);break;case"GGGGG":Q=Kn(Lt.Eras,Te.Narrow);break;case"y":Q=In(Ut.FullYear,1,0,!1,!0);break;case"yy":Q=In(Ut.FullYear,2,0,!0,!0);break;case"yyy":Q=In(Ut.FullYear,3,0,!1,!0);break;case"yyyy":Q=In(Ut.FullYear,4,0,!1,!0);break;case"Y":Q=we(1);break;case"YY":Q=we(2,!0);break;case"YYY":Q=we(3);break;case"YYYY":Q=we(4);break;case"M":case"L":Q=In(Ut.Month,1,1);break;case"MM":case"LL":Q=In(Ut.Month,2,1);break;case"MMM":Q=Kn(Lt.Months,Te.Abbreviated);break;case"MMMM":Q=Kn(Lt.Months,Te.Wide);break;case"MMMMM":Q=Kn(Lt.Months,Te.Narrow);break;case"LLL":Q=Kn(Lt.Months,Te.Abbreviated,me.Standalone);break;case"LLLL":Q=Kn(Lt.Months,Te.Wide,me.Standalone);break;case"LLLLL":Q=Kn(Lt.Months,Te.Narrow,me.Standalone);break;case"w":Q=Le(1);break;case"ww":Q=Le(2);break;case"W":Q=Le(1,!0);break;case"d":Q=In(Ut.Date,1);break;case"dd":Q=In(Ut.Date,2);break;case"c":case"cc":Q=In(Ut.Day,1);break;case"ccc":Q=Kn(Lt.Days,Te.Abbreviated,me.Standalone);break;case"cccc":Q=Kn(Lt.Days,Te.Wide,me.Standalone);break;case"ccccc":Q=Kn(Lt.Days,Te.Narrow,me.Standalone);break;case"cccccc":Q=Kn(Lt.Days,Te.Short,me.Standalone);break;case"E":case"EE":case"EEE":Q=Kn(Lt.Days,Te.Abbreviated);break;case"EEEE":Q=Kn(Lt.Days,Te.Wide);break;case"EEEEE":Q=Kn(Lt.Days,Te.Narrow);break;case"EEEEEE":Q=Kn(Lt.Days,Te.Short);break;case"a":case"aa":case"aaa":Q=Kn(Lt.DayPeriods,Te.Abbreviated);break;case"aaaa":Q=Kn(Lt.DayPeriods,Te.Wide);break;case"aaaaa":Q=Kn(Lt.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":Q=Kn(Lt.DayPeriods,Te.Abbreviated,me.Standalone,!0);break;case"bbbb":Q=Kn(Lt.DayPeriods,Te.Wide,me.Standalone,!0);break;case"bbbbb":Q=Kn(Lt.DayPeriods,Te.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":Q=Kn(Lt.DayPeriods,Te.Abbreviated,me.Format,!0);break;case"BBBB":Q=Kn(Lt.DayPeriods,Te.Wide,me.Format,!0);break;case"BBBBB":Q=Kn(Lt.DayPeriods,Te.Narrow,me.Format,!0);break;case"h":Q=In(Ut.Hours,1,-12);break;case"hh":Q=In(Ut.Hours,2,-12);break;case"H":Q=In(Ut.Hours,1);break;case"HH":Q=In(Ut.Hours,2);break;case"m":Q=In(Ut.Minutes,1);break;case"mm":Q=In(Ut.Minutes,2);break;case"s":Q=In(Ut.Seconds,1);break;case"ss":Q=In(Ut.Seconds,2);break;case"S":Q=In(Ut.FractionalSeconds,1);break;case"SS":Q=In(Ut.FractionalSeconds,2);break;case"SSS":Q=In(Ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=Ct(xt.Short);break;case"ZZZZZ":Q=Ct(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=Ct(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=Ct(xt.Long);break;default:return null}return Je[k]=Q,Q}(Pt);Ge+=zt?zt(Fe,B,ce):"''"===Pt?"'":Pt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ge}function qn(k,Q,B){const ae=new Date(0);return ae.setFullYear(k,Q,B),ae.setHours(0,0,0),ae}function on(k,Q){const B=function tn(k){return(0,a.cg1)(k)[a.wAp.LocaleId]}(k);if(Ye[B]=Ye[B]||{},Ye[B][Q])return Ye[B][Q];let ae="";switch(Q){case"shortDate":ae=et(k,De.Short);break;case"mediumDate":ae=et(k,De.Medium);break;case"longDate":ae=et(k,De.Long);break;case"fullDate":ae=et(k,De.Full);break;case"shortTime":ae=je(k,De.Short);break;case"mediumTime":ae=je(k,De.Medium);break;case"longTime":ae=je(k,De.Long);break;case"fullTime":ae=je(k,De.Full);break;case"short":const Fe=on(k,"shortTime"),P=on(k,"shortDate");ae=Fr(Oe(k,De.Short),[Fe,P]);break;case"medium":const $=on(k,"mediumTime"),N=on(k,"mediumDate");ae=Fr(Oe(k,De.Medium),[$,N]);break;case"long":const ce=on(k,"longTime"),Ge=on(k,"longDate");ae=Fr(Oe(k,De.Long),[ce,Ge]);break;case"full":const Pt=on(k,"fullTime"),zt=on(k,"fullDate");ae=Fr(Oe(k,De.Full),[Pt,zt])}return ae&&(Ye[B][Q]=ae),ae}function Fr(k,Q){return Q&&(k=k.replace(/\{([^}]+)}/g,function(B,ae){return null!=Q&&ae in Q?Q[ae]:B})),k}function fr(k,Q,B="-",ae,Fe){let P="";(k<0||Fe&&k<=0)&&(Fe?k=1-k:(k=-k,P=B));let $=String(k);for(;$.length<Q;)$="0"+$;return ae&&($=$.substr($.length-Q)),P+$}function In(k,Q,B=0,ae=!1,Fe=!1){return function(P,$){let N=function Mn(k,Q){switch(k){case Ut.FullYear:return Q.getFullYear();case Ut.Month:return Q.getMonth();case Ut.Date:return Q.getDate();case Ut.Hours:return Q.getHours();case Ut.Minutes:return Q.getMinutes();case Ut.Seconds:return Q.getSeconds();case Ut.FractionalSeconds:return Q.getMilliseconds();case Ut.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,P);if((B>0||N>-B)&&(N+=B),k===Ut.Hours)0===N&&-12===B&&(N=12);else if(k===Ut.FractionalSeconds)return function Vn(k,Q){return fr(k,3).substr(0,Q)}(N,Q);const ce=Dt($,qe.MinusSign);return fr(N,Q,ce,ae,Fe)}}function Kn(k,Q,B=me.Format,ae=!1){return function(Fe,P){return function cn(k,Q,B,ae,Fe,P){switch(B){case Lt.Months:return function dt(k,Q,B){const ae=(0,a.cg1)(k),P=Yn([ae[a.wAp.MonthsFormat],ae[a.wAp.MonthsStandalone]],Q);return Yn(P,B)}(Q,Fe,ae)[k.getMonth()];case Lt.Days:return function pt(k,Q,B){const ae=(0,a.cg1)(k),P=Yn([ae[a.wAp.DaysFormat],ae[a.wAp.DaysStandalone]],Q);return Yn(P,B)}(Q,Fe,ae)[k.getDay()];case Lt.DayPeriods:const $=k.getHours(),N=k.getMinutes();if(P){const Ge=function Ft(k){const Q=(0,a.cg1)(k);return jn(Q),(Q[a.wAp.ExtraData][2]||[]).map(ae=>"string"==typeof ae?Gn(ae):[Gn(ae[0]),Gn(ae[1])])}(Q),Pt=function Pn(k,Q,B){const ae=(0,a.cg1)(k);jn(ae);const P=Yn([ae[a.wAp.ExtraData][0],ae[a.wAp.ExtraData][1]],Q)||[];return Yn(P,B)||[]}(Q,Fe,ae),zt=Ge.findIndex(Wn=>{if(Array.isArray(Wn)){const[Sn,g]=Wn,L=$>=Sn.hours&&N>=Sn.minutes,m=$<g.hours||$===g.hours&&N<g.minutes;if(Sn.hours<g.hours){if(L&&m)return!0}else if(L||m)return!0}else if(Wn.hours===$&&Wn.minutes===N)return!0;return!1});if(-1!==zt)return Pt[zt]}return function bt(k,Q,B){const ae=(0,a.cg1)(k),P=Yn([ae[a.wAp.DayPeriodsFormat],ae[a.wAp.DayPeriodsStandalone]],Q);return Yn(P,B)}(Q,Fe,ae)[$<12?0:1];case Lt.Eras:return function ze(k,Q){return Yn((0,a.cg1)(k)[a.wAp.Eras],Q)}(Q,ae)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(Fe,P,k,Q,B,ae)}}function Ct(k){return function(Q,B,ae){const Fe=-1*ae,P=Dt(B,qe.MinusSign),$=Fe>0?Math.floor(Fe/60):Math.ceil(Fe/60);switch(k){case xt.Short:return(Fe>=0?"+":"")+fr($,2,P)+fr(Math.abs(Fe%60),2,P);case xt.ShortGMT:return"GMT"+(Fe>=0?"+":"")+fr($,1,P);case xt.Long:return"GMT"+(Fe>=0?"+":"")+fr($,2,P)+":"+fr(Math.abs(Fe%60),2,P);case xt.Extended:return 0===ae?"Z":(Fe>=0?"+":"")+fr($,2,P)+":"+fr(Math.abs(Fe%60),2,P);default:throw new Error(`Unknown zone width "${k}"`)}}}function Un(k){return qn(k.getFullYear(),k.getMonth(),k.getDate()+(4-k.getDay()))}function Le(k,Q=!1){return function(B,ae){let Fe;if(Q){const P=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,$=B.getDate();Fe=1+Math.floor(($+P)/7)}else{const P=Un(B),$=function _n(k){const Q=qn(k,0,1).getDay();return qn(k,0,1+(Q<=4?4:11)-Q)}(P.getFullYear()),N=P.getTime()-$.getTime();Fe=1+Math.round(N/6048e5)}return fr(Fe,k,Dt(ae,qe.MinusSign))}}function we(k,Q=!1){return function(B,ae){return fr(Un(B).getFullYear(),k,Dt(ae,qe.MinusSign),Q)}}const Je={};function ge(k,Q){k=k.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(B)?Q:B}function bn(k){return k instanceof Date&&!isNaN(k.valueOf())}function si(k,Q){Q=encodeURIComponent(Q);for(const B of k.split(";")){const ae=B.indexOf("="),[Fe,P]=-1==ae?[B,""]:[B.slice(0,ae),B.slice(ae+1)];if(Fe.trim()===Q)return decodeURIComponent(P)}return null}class ni{constructor(Q,B,ae,Fe){this.$implicit=Q,this.ngForOf=B,this.index=ae,this.count=Fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zn=(()=>{class k{constructor(B,ae,Fe){this._viewContainer=B,this._template=ae,this._differs=Fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ae=this._viewContainer;B.forEachOperation((Fe,P,$)=>{if(null==Fe.previousIndex)ae.createEmbeddedView(this._template,new ni(Fe.item,this._ngForOf,-1,-1),null===$?void 0:$);else if(null==$)ae.remove(null===P?void 0:P);else if(null!==P){const N=ae.get(P);ae.move(N,$),ui(N,Fe)}});for(let Fe=0,P=ae.length;Fe<P;Fe++){const N=ae.get(Fe).context;N.index=Fe,N.count=P,N.ngForOf=this._ngForOf}B.forEachIdentityChange(Fe=>{ui(ae.get(Fe.currentIndex),Fe)})}static ngTemplateContextGuard(B,ae){return!0}}return k.\u0275fac=function(B){return new(B||k)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),k})();function ui(k,Q){k.context.$implicit=Q.item}let ee=(()=>{class k{constructor(B,ae){this._viewContainer=B,this._context=new be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){ie("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){ie("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ae){return!0}}return k.\u0275fac=function(B){return new(B||k)(a.Y36(a.s_b),a.Y36(a.Rgc))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),k})();class be{constructor(){this.$implicit=null,this.ngIf=null}}function ie(k,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,a.AaK)(Q)}'.`)}let On=(()=>{class k{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(B){if(B.ngTemplateOutlet){const ae=this._viewContainerRef;this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ae.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(B){return new(B||k)(a.Y36(a.s_b))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),k})();function cr(k,Q){return new a.vHH(2100,"")}class Vr{createSubscription(Q,B){return Q.subscribe({next:B,error:ae=>{throw ae}})}dispose(Q){Q.unsubscribe()}onDestroy(Q){Q.unsubscribe()}}class qr{createSubscription(Q,B){return Q.then(B,ae=>{throw ae})}dispose(Q){}onDestroy(Q){}}const rt=new qr,tt=new Vr;let mt=(()=>{class k{constructor(B){this._ref=B,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,ae=>this._updateLatestValue(B,ae))}_selectStrategy(B){if((0,a.QGY)(B))return rt;if((0,a.F4k)(B))return tt;throw cr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,ae){B===this._obj&&(this._latestValue=ae,this._ref.markForCheck())}}return k.\u0275fac=function(B){return new(B||k)(a.Y36(a.sBO,16))},k.\u0275pipe=a.Yjl({name:"async",type:k,pure:!1}),k})();const $r=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let br=(()=>{class k{constructor(B,ae){this.locale=B,this.defaultTimezone=ae}transform(B,ae="mediumDate",Fe,P){var $;if(null==B||""===B||B!=B)return null;try{return ar(B,ae,P||this.locale,null!==($=null!=Fe?Fe:this.defaultTimezone)&&void 0!==$?$:void 0)}catch(N){throw cr()}}}return k.\u0275fac=function(B){return new(B||k)(a.Y36(a.soG,16),a.Y36($r,24))},k.\u0275pipe=a.Yjl({name:"date",type:k,pure:!0}),k})(),ps=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({}),k})();const Ii="browser";function q(k){return k===Ii}function Me(k){return"server"===k}let rn=(()=>{class k{}return k.\u0275prov=(0,a.Yz7)({token:k,providedIn:"root",factory:()=>new Tn((0,a.LFG)(he),window)}),k})();class Tn{constructor(Q,B){this.document=Q,this.window=B,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const B=function ur(k,Q){const B=k.getElementById(Q)||k.getElementsByName(Q)[0];if(B)return B;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const ae=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let Fe=ae.currentNode;for(;Fe;){const P=Fe.shadowRoot;if(P){const $=P.getElementById(Q)||P.querySelector(`[name="${Q}"]`);if($)return $}Fe=ae.nextNode()}}return null}(this.document,Q);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=Q)}}scrollToElement(Q){const B=Q.getBoundingClientRect(),ae=B.left+this.window.pageXOffset,Fe=B.top+this.window.pageYOffset,P=this.offset();this.window.scrollTo(ae-P[0],Fe-P[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=fn(this.window.history)||fn(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch(Q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Q){return!1}}}function fn(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Ur{}},520:(an,ct,M)=>{"use strict";M.d(ct,{TP:()=>tn,eN:()=>qe,JF:()=>Gn,WM:()=>X});var a=M(9808),b=M(6435),U=M(1086),Ce=M(2916),Ie=M(1406),K=M(2198),he=M(4850);class _e{}class pe{}class X{constructor(Ke){this.normalizedNames=new Map,this.lazyUpdate=null,Ke?this.lazyInit="string"==typeof Ke?()=>{this.headers=new Map,Ke.split("\n").forEach(Ye=>{const jt=Ye.indexOf(":");if(jt>0){const xt=Ye.slice(0,jt),Ut=xt.toLowerCase(),Lt=Ye.slice(jt+1).trim();this.maybeSetNormalizedName(xt,Ut),this.headers.has(Ut)?this.headers.get(Ut).push(Lt):this.headers.set(Ut,[Lt])}})}:()=>{this.headers=new Map,Object.keys(Ke).forEach(Ye=>{let jt=Ke[Ye];const xt=Ye.toLowerCase();"string"==typeof jt&&(jt=[jt]),jt.length>0&&(this.headers.set(xt,jt),this.maybeSetNormalizedName(Ye,xt))})}:this.headers=new Map}has(Ke){return this.init(),this.headers.has(Ke.toLowerCase())}get(Ke){this.init();const Ye=this.headers.get(Ke.toLowerCase());return Ye&&Ye.length>0?Ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ke){return this.init(),this.headers.get(Ke.toLowerCase())||null}append(Ke,Ye){return this.clone({name:Ke,value:Ye,op:"a"})}set(Ke,Ye){return this.clone({name:Ke,value:Ye,op:"s"})}delete(Ke,Ye){return this.clone({name:Ke,value:Ye,op:"d"})}maybeSetNormalizedName(Ke,Ye){this.normalizedNames.has(Ye)||this.normalizedNames.set(Ye,Ke)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ke=>this.applyUpdate(Ke)),this.lazyUpdate=null))}copyFrom(Ke){Ke.init(),Array.from(Ke.headers.keys()).forEach(Ye=>{this.headers.set(Ye,Ke.headers.get(Ye)),this.normalizedNames.set(Ye,Ke.normalizedNames.get(Ye))})}clone(Ke){const Ye=new X;return Ye.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,Ye.lazyUpdate=(this.lazyUpdate||[]).concat([Ke]),Ye}applyUpdate(Ke){const Ye=Ke.name.toLowerCase();switch(Ke.op){case"a":case"s":let jt=Ke.value;if("string"==typeof jt&&(jt=[jt]),0===jt.length)return;this.maybeSetNormalizedName(Ke.name,Ye);const xt=("a"===Ke.op?this.headers.get(Ye):void 0)||[];xt.push(...jt),this.headers.set(Ye,xt);break;case"d":const Ut=Ke.value;if(Ut){let Lt=this.headers.get(Ye);if(!Lt)return;Lt=Lt.filter(ar=>-1===Ut.indexOf(ar)),0===Lt.length?(this.headers.delete(Ye),this.normalizedNames.delete(Ye)):this.headers.set(Ye,Lt)}else this.headers.delete(Ye),this.normalizedNames.delete(Ye)}}forEach(Ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ye=>Ke(this.normalizedNames.get(Ye),this.headers.get(Ye)))}}class J{encodeKey(Ke){return Xe(Ke)}encodeValue(Ke){return Xe(Ke)}decodeKey(Ke){return decodeURIComponent(Ke)}decodeValue(Ke){return decodeURIComponent(Ke)}}const Z=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Xe(At){return encodeURIComponent(At).replace(Z,(Ke,Ye)=>{var jt;return null!==(jt=Ne[Ye])&&void 0!==jt?jt:Ke})}function fe(At){return`${At}`}class Pe{constructor(Ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ke.encoder||new J,Ke.fromString){if(Ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function se(At,Ke){const Ye=new Map;return At.length>0&&At.replace(/^\?/,"").split("&").forEach(xt=>{const Ut=xt.indexOf("="),[Lt,ar]=-1==Ut?[Ke.decodeKey(xt),""]:[Ke.decodeKey(xt.slice(0,Ut)),Ke.decodeValue(xt.slice(Ut+1))],qn=Ye.get(Lt)||[];qn.push(ar),Ye.set(Lt,qn)}),Ye}(Ke.fromString,this.encoder)}else Ke.fromObject?(this.map=new Map,Object.keys(Ke.fromObject).forEach(Ye=>{const jt=Ke.fromObject[Ye];this.map.set(Ye,Array.isArray(jt)?jt:[jt])})):this.map=null}has(Ke){return this.init(),this.map.has(Ke)}get(Ke){this.init();const Ye=this.map.get(Ke);return Ye?Ye[0]:null}getAll(Ke){return this.init(),this.map.get(Ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ke,Ye){return this.clone({param:Ke,value:Ye,op:"a"})}appendAll(Ke){const Ye=[];return Object.keys(Ke).forEach(jt=>{const xt=Ke[jt];Array.isArray(xt)?xt.forEach(Ut=>{Ye.push({param:jt,value:Ut,op:"a"})}):Ye.push({param:jt,value:xt,op:"a"})}),this.clone(Ye)}set(Ke,Ye){return this.clone({param:Ke,value:Ye,op:"s"})}delete(Ke,Ye){return this.clone({param:Ke,value:Ye,op:"d"})}toString(){return this.init(),this.keys().map(Ke=>{const Ye=this.encoder.encodeKey(Ke);return this.map.get(Ke).map(jt=>Ye+"="+this.encoder.encodeValue(jt)).join("&")}).filter(Ke=>""!==Ke).join("&")}clone(Ke){const Ye=new Pe({encoder:this.encoder});return Ye.cloneFrom=this.cloneFrom||this,Ye.updates=(this.updates||[]).concat(Ke),Ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ke=>this.map.set(Ke,this.cloneFrom.map.get(Ke))),this.updates.forEach(Ke=>{switch(Ke.op){case"a":case"s":const Ye=("a"===Ke.op?this.map.get(Ke.param):void 0)||[];Ye.push(fe(Ke.value)),this.map.set(Ke.param,Ye);break;case"d":if(void 0===Ke.value){this.map.delete(Ke.param);break}{let jt=this.map.get(Ke.param)||[];const xt=jt.indexOf(fe(Ke.value));-1!==xt&&jt.splice(xt,1),jt.length>0?this.map.set(Ke.param,jt):this.map.delete(Ke.param)}}}),this.cloneFrom=this.updates=null)}}class ot{constructor(){this.map=new Map}set(Ke,Ye){return this.map.set(Ke,Ye),this}get(Ke){return this.map.has(Ke)||this.map.set(Ke,Ke.defaultValue()),this.map.get(Ke)}delete(Ke){return this.map.delete(Ke),this}has(Ke){return this.map.has(Ke)}keys(){return this.map.keys()}}function ut(At){return"undefined"!=typeof ArrayBuffer&&At instanceof ArrayBuffer}function ke(At){return"undefined"!=typeof Blob&&At instanceof Blob}function at(At){return"undefined"!=typeof FormData&&At instanceof FormData}class He{constructor(Ke,Ye,jt,xt){let Ut;if(this.url=Ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ke.toUpperCase(),function oe(At){switch(At){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xt?(this.body=void 0!==jt?jt:null,Ut=xt):Ut=jt,Ut&&(this.reportProgress=!!Ut.reportProgress,this.withCredentials=!!Ut.withCredentials,Ut.responseType&&(this.responseType=Ut.responseType),Ut.headers&&(this.headers=Ut.headers),Ut.context&&(this.context=Ut.context),Ut.params&&(this.params=Ut.params)),this.headers||(this.headers=new X),this.context||(this.context=new ot),this.params){const Lt=this.params.toString();if(0===Lt.length)this.urlWithParams=Ye;else{const ar=Ye.indexOf("?");this.urlWithParams=Ye+(-1===ar?"?":ar<Ye.length-1?"&":"")+Lt}}else this.params=new Pe,this.urlWithParams=Ye}serializeBody(){return null===this.body?null:ut(this.body)||ke(this.body)||at(this.body)||function _t(At){return"undefined"!=typeof URLSearchParams&&At instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||at(this.body)?null:ke(this.body)?this.body.type||null:ut(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ke={}){var Ye;const jt=Ke.method||this.method,xt=Ke.url||this.url,Ut=Ke.responseType||this.responseType,Lt=void 0!==Ke.body?Ke.body:this.body,ar=void 0!==Ke.withCredentials?Ke.withCredentials:this.withCredentials,qn=void 0!==Ke.reportProgress?Ke.reportProgress:this.reportProgress;let on=Ke.headers||this.headers,Fr=Ke.params||this.params;const fr=null!==(Ye=Ke.context)&&void 0!==Ye?Ye:this.context;return void 0!==Ke.setHeaders&&(on=Object.keys(Ke.setHeaders).reduce((Vn,In)=>Vn.set(In,Ke.setHeaders[In]),on)),Ke.setParams&&(Fr=Object.keys(Ke.setParams).reduce((Vn,In)=>Vn.set(In,Ke.setParams[In]),Fr)),new He(jt,xt,Lt,{params:Fr,headers:on,context:fr,reportProgress:qn,responseType:Ut,withCredentials:ar})}}var wt=(()=>((wt=wt||{})[wt.Sent=0]="Sent",wt[wt.UploadProgress=1]="UploadProgress",wt[wt.ResponseHeader=2]="ResponseHeader",wt[wt.DownloadProgress=3]="DownloadProgress",wt[wt.Response=4]="Response",wt[wt.User=5]="User",wt))();class ve{constructor(Ke,Ye=200,jt="OK"){this.headers=Ke.headers||new X,this.status=void 0!==Ke.status?Ke.status:Ye,this.statusText=Ke.statusText||jt,this.url=Ke.url||null,this.ok=this.status>=200&&this.status<300}}class Ve extends ve{constructor(Ke={}){super(Ke),this.type=wt.ResponseHeader}clone(Ke={}){return new Ve({headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class me extends ve{constructor(Ke={}){super(Ke),this.type=wt.Response,this.body=void 0!==Ke.body?Ke.body:null}clone(Ke={}){return new me({body:void 0!==Ke.body?Ke.body:this.body,headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class Te extends ve{constructor(Ke){super(Ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ke.url||"(unknown url)"}`:`Http failure response for ${Ke.url||"(unknown url)"}: ${Ke.status} ${Ke.statusText}`,this.error=Ke.error||null}}function De(At,Ke){return{body:Ke,headers:At.headers,context:At.context,observe:At.observe,params:At.params,reportProgress:At.reportProgress,responseType:At.responseType,withCredentials:At.withCredentials}}let qe=(()=>{class At{constructor(Ye){this.handler=Ye}request(Ye,jt,xt={}){let Ut;if(Ye instanceof He)Ut=Ye;else{let qn,on;qn=xt.headers instanceof X?xt.headers:new X(xt.headers),xt.params&&(on=xt.params instanceof Pe?xt.params:new Pe({fromObject:xt.params})),Ut=new He(Ye,jt,void 0!==xt.body?xt.body:null,{headers:qn,context:xt.context,params:on,reportProgress:xt.reportProgress,responseType:xt.responseType||"json",withCredentials:xt.withCredentials})}const Lt=(0,U.of)(Ut).pipe((0,Ie.b)(qn=>this.handler.handle(qn)));if(Ye instanceof He||"events"===xt.observe)return Lt;const ar=Lt.pipe((0,K.h)(qn=>qn instanceof me));switch(xt.observe||"body"){case"body":switch(Ut.responseType){case"arraybuffer":return ar.pipe((0,he.U)(qn=>{if(null!==qn.body&&!(qn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return qn.body}));case"blob":return ar.pipe((0,he.U)(qn=>{if(null!==qn.body&&!(qn.body instanceof Blob))throw new Error("Response is not a Blob.");return qn.body}));case"text":return ar.pipe((0,he.U)(qn=>{if(null!==qn.body&&"string"!=typeof qn.body)throw new Error("Response is not a string.");return qn.body}));default:return ar.pipe((0,he.U)(qn=>qn.body))}case"response":return ar;default:throw new Error(`Unreachable: unhandled observe type ${xt.observe}}`)}}delete(Ye,jt={}){return this.request("DELETE",Ye,jt)}get(Ye,jt={}){return this.request("GET",Ye,jt)}head(Ye,jt={}){return this.request("HEAD",Ye,jt)}jsonp(Ye,jt){return this.request("JSONP",Ye,{params:(new Pe).append(jt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ye,jt={}){return this.request("OPTIONS",Ye,jt)}patch(Ye,jt,xt={}){return this.request("PATCH",Ye,De(xt,jt))}post(Ye,jt,xt={}){return this.request("POST",Ye,De(xt,jt))}put(Ye,jt,xt={}){return this.request("PUT",Ye,De(xt,jt))}}return At.\u0275fac=function(Ye){return new(Ye||At)(b.LFG(_e))},At.\u0275prov=b.Yz7({token:At,factory:At.\u0275fac}),At})();class qt{constructor(Ke,Ye){this.next=Ke,this.interceptor=Ye}handle(Ke){return this.interceptor.intercept(Ke,this.next)}}const tn=new b.OlP("HTTP_INTERCEPTORS");let bt=(()=>{class At{intercept(Ye,jt){return jt.handle(Ye)}}return At.\u0275fac=function(Ye){return new(Ye||At)},At.\u0275prov=b.Yz7({token:At,factory:At.\u0275fac}),At})();const Dt=/^\)\]\}',?\n/;let Yt=(()=>{class At{constructor(Ye){this.xhrFactory=Ye}handle(Ye){if("JSONP"===Ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(jt=>{const xt=this.xhrFactory.build();if(xt.open(Ye.method,Ye.urlWithParams),Ye.withCredentials&&(xt.withCredentials=!0),Ye.headers.forEach((In,Mn)=>xt.setRequestHeader(In,Mn.join(","))),Ye.headers.has("Accept")||xt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ye.headers.has("Content-Type")){const In=Ye.detectContentTypeHeader();null!==In&&xt.setRequestHeader("Content-Type",In)}if(Ye.responseType){const In=Ye.responseType.toLowerCase();xt.responseType="json"!==In?In:"text"}const Ut=Ye.serializeBody();let Lt=null;const ar=()=>{if(null!==Lt)return Lt;const In=xt.statusText||"OK",Mn=new X(xt.getAllResponseHeaders()),Kn=function Gt(At){return"responseURL"in At&&At.responseURL?At.responseURL:/^X-Request-URL:/m.test(At.getAllResponseHeaders())?At.getResponseHeader("X-Request-URL"):null}(xt)||Ye.url;return Lt=new Ve({headers:Mn,status:xt.status,statusText:In,url:Kn}),Lt},qn=()=>{let{headers:In,status:Mn,statusText:Kn,url:cn}=ar(),Ct=null;204!==Mn&&(Ct=void 0===xt.response?xt.responseText:xt.response),0===Mn&&(Mn=Ct?200:0);let Xt=Mn>=200&&Mn<300;if("json"===Ye.responseType&&"string"==typeof Ct){const Cn=Ct;Ct=Ct.replace(Dt,"");try{Ct=""!==Ct?JSON.parse(Ct):null}catch(_n){Ct=Cn,Xt&&(Xt=!1,Ct={error:_n,text:Ct})}}Xt?(jt.next(new me({body:Ct,headers:In,status:Mn,statusText:Kn,url:cn||void 0})),jt.complete()):jt.error(new Te({error:Ct,headers:In,status:Mn,statusText:Kn,url:cn||void 0}))},on=In=>{const{url:Mn}=ar(),Kn=new Te({error:In,status:xt.status||0,statusText:xt.statusText||"Unknown Error",url:Mn||void 0});jt.error(Kn)};let Fr=!1;const fr=In=>{Fr||(jt.next(ar()),Fr=!0);let Mn={type:wt.DownloadProgress,loaded:In.loaded};In.lengthComputable&&(Mn.total=In.total),"text"===Ye.responseType&&!!xt.responseText&&(Mn.partialText=xt.responseText),jt.next(Mn)},Vn=In=>{let Mn={type:wt.UploadProgress,loaded:In.loaded};In.lengthComputable&&(Mn.total=In.total),jt.next(Mn)};return xt.addEventListener("load",qn),xt.addEventListener("error",on),xt.addEventListener("timeout",on),xt.addEventListener("abort",on),Ye.reportProgress&&(xt.addEventListener("progress",fr),null!==Ut&&xt.upload&&xt.upload.addEventListener("progress",Vn)),xt.send(Ut),jt.next({type:wt.Sent}),()=>{xt.removeEventListener("error",on),xt.removeEventListener("abort",on),xt.removeEventListener("load",qn),xt.removeEventListener("timeout",on),Ye.reportProgress&&(xt.removeEventListener("progress",fr),null!==Ut&&xt.upload&&xt.upload.removeEventListener("progress",Vn)),xt.readyState!==xt.DONE&&xt.abort()}})}}return At.\u0275fac=function(Ye){return new(Ye||At)(b.LFG(a.JF))},At.\u0275prov=b.Yz7({token:At,factory:At.\u0275fac}),At})();const ln=new b.OlP("XSRF_COOKIE_NAME"),pn=new b.OlP("XSRF_HEADER_NAME");class or{}let vn=(()=>{class At{constructor(Ye,jt,xt){this.doc=Ye,this.platform=jt,this.cookieName=xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ye=this.doc.cookie||"";return Ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)(Ye,this.cookieName),this.lastCookieString=Ye),this.lastToken}}return At.\u0275fac=function(Ye){return new(Ye||At)(b.LFG(a.K0),b.LFG(b.Lbi),b.LFG(ln))},At.\u0275prov=b.Yz7({token:At,factory:At.\u0275fac}),At})(),jn=(()=>{class At{constructor(Ye,jt){this.tokenService=Ye,this.headerName=jt}intercept(Ye,jt){const xt=Ye.url.toLowerCase();if("GET"===Ye.method||"HEAD"===Ye.method||xt.startsWith("http://")||xt.startsWith("https://"))return jt.handle(Ye);const Ut=this.tokenService.getToken();return null!==Ut&&!Ye.headers.has(this.headerName)&&(Ye=Ye.clone({headers:Ye.headers.set(this.headerName,Ut)})),jt.handle(Ye)}}return At.\u0275fac=function(Ye){return new(Ye||At)(b.LFG(or),b.LFG(pn))},At.\u0275prov=b.Yz7({token:At,factory:At.\u0275fac}),At})(),Ft=(()=>{class At{constructor(Ye,jt){this.backend=Ye,this.injector=jt,this.chain=null}handle(Ye){if(null===this.chain){const jt=this.injector.get(tn,[]);this.chain=jt.reduceRight((xt,Ut)=>new qt(xt,Ut),this.backend)}return this.chain.handle(Ye)}}return At.\u0275fac=function(Ye){return new(Ye||At)(b.LFG(pe),b.LFG(b.zs3))},At.\u0275prov=b.Yz7({token:At,factory:At.\u0275fac}),At})(),Yn=(()=>{class At{static disable(){return{ngModule:At,providers:[{provide:jn,useClass:bt}]}}static withOptions(Ye={}){return{ngModule:At,providers:[Ye.cookieName?{provide:ln,useValue:Ye.cookieName}:[],Ye.headerName?{provide:pn,useValue:Ye.headerName}:[]]}}}return At.\u0275fac=function(Ye){return new(Ye||At)},At.\u0275mod=b.oAB({type:At}),At.\u0275inj=b.cJS({providers:[jn,{provide:tn,useExisting:jn,multi:!0},{provide:or,useClass:vn},{provide:ln,useValue:"XSRF-TOKEN"},{provide:pn,useValue:"X-XSRF-TOKEN"}]}),At})(),Gn=(()=>{class At{}return At.\u0275fac=function(Ye){return new(Ye||At)},At.\u0275mod=b.oAB({type:At}),At.\u0275inj=b.cJS({providers:[qe,{provide:_e,useClass:Ft},Yt,{provide:pe,useExisting:Yt}],imports:[[Yn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),At})()},6435:(an,ct,M)=>{"use strict";M.d(ct,{deG:()=>ss,tb:()=>gb,AFp:()=>db,ip1:()=>cb,CZH:()=>v_,hGG:()=>uI,z2F:()=>D_,sBO:()=>Ww,Sil:()=>Tw,_Vd:()=>dy,EJc:()=>Cw,SBq:()=>Vp,qLn:()=>Wl,vpe:()=>Ju,tBr:()=>nl,XFs:()=>mn,OlP:()=>ki,zs3:()=>Qo,ZZ4:()=>R_,aQg:()=>O_,soG:()=>b_,YKP:()=>I0,h0i:()=>xh,PXZ:()=>Bw,R0b:()=>Iu,FiY:()=>Pa,Lbi:()=>pb,g9A:()=>fb,Qsj:()=>EE,FYo:()=>v0,JOm:()=>ma,tp0:()=>rl,Rgc:()=>Hp,dDg:()=>_b,q4F:()=>b0,GfV:()=>_0,s_b:()=>py,ifc:()=>on,eFA:()=>wb,G48:()=>zw,Gpc:()=>fe,X6Q:()=>Gw,_c5:()=>aI,VLi:()=>Nw,c2e:()=>mb,zSh:()=>id,wAp:()=>Sr,vHH:()=>oe,cg1:()=>wu,kL8:()=>ny,dqk:()=>Mn,sIi:()=>cc,CqO:()=>hp,QGY:()=>dp,F4k:()=>Mm,RDi:()=>Q,AaK:()=>Z,qOj:()=>od,TTD:()=>Ii,_Bn:()=>g0,xp6:()=>sf,uIk:()=>Qf,ekj:()=>Ep,Suo:()=>H0,Xpm:()=>ge,lG2:()=>Jn,Yz7:()=>Yt,cJS:()=>pn,oAB:()=>bn,Yjl:()=>Rn,Y36:()=>mc,_UZ:()=>cp,GkF:()=>_u,qZA:()=>ph,TgZ:()=>lp,EpF:()=>dd,n5z:()=>ys,LFG:()=>oi,$8M:()=>Ys,$Z:()=>Am,NdJ:()=>gh,CRH:()=>G0,oxw:()=>fp,ALo:()=>P0,lcZ:()=>k0,xi3:()=>N0,Hsn:()=>Om,F$t:()=>Rm,Q6J:()=>ap,DdM:()=>S0,iGM:()=>$0,MAs:()=>dh,CHM:()=>Ka,LSH:()=>pi,YNc:()=>ch,_uU:()=>Tp,Oqu:()=>wh,hij:()=>Ih,Gf:()=>j0});var a=M(8929),b=M(2654),U=M(2916),Ce=M(6787),Ie=M(1762);class he{constructor(r,s){this.subjectFactory=r,this.selector=s}call(r,s){const{selector:u}=this,c=this.subjectFactory(),d=u(c).subscribe(r);return d.add(s.subscribe(c)),d}}var _e=M(4327);function pe(){return new a.xQ}function J(n){for(let r in n)if(n[r]===J)return r;throw Error("Could not find renamed property on target object.")}function se(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Z(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Z).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ne(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Xe=J({__forward_ref__:J});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Z(this())},n}function Pe(n){return ye(n)?n():n}function ye(n){return"function"==typeof n&&n.hasOwnProperty(Xe)&&n.__forward_ref__===fe}class oe extends Error{constructor(r,s){super(function ut(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function ke(n){return"string"==typeof n?n:null==n?"":String(n)}function at(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ke(n)}function ve(n,r){const s=r?` in ${r}`:"";throw new oe(-201,`No provider for ${at(n)} found${s}`)}function et(n,r){null==n&&function je(n,r,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Yt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pn(n){return{providers:n.providers||[],imports:n.imports||[]}}function or(n){return vn(n,nr)||vn(n,Gn)}function vn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Pn(n){return n&&(n.hasOwnProperty(Yn)||n.hasOwnProperty(Zn))?n[Yn]:null}const nr=J({\u0275prov:J}),Yn=J({\u0275inj:J}),Gn=J({ngInjectableDef:J}),Zn=J({ngInjectorDef:J});var mn=(()=>((mn=mn||{})[mn.Default=0]="Default",mn[mn.Host=1]="Host",mn[mn.Self=2]="Self",mn[mn.SkipSelf=4]="SkipSelf",mn[mn.Optional=8]="Optional",mn))();let At;function Ye(n){const r=At;return At=n,r}function jt(n,r,s){const u=or(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&mn.Optional?null:void 0!==r?r:void ve(Z(n),"Injector")}function Ut(n){return{toString:n}.toString()}var Lt=(()=>((Lt=Lt||{})[Lt.OnPush=0]="OnPush",Lt[Lt.Default=1]="Default",Lt))(),on=(()=>{return(n=on||(on={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",on;var n})();const Fr="undefined"!=typeof globalThis&&globalThis,fr="undefined"!=typeof window&&window,Vn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mn=Fr||"undefined"!=typeof global&&global||fr||Vn,Ct={},Xt=[],Cn=J({\u0275cmp:J}),_n=J({\u0275dir:J}),Un=J({\u0275pipe:J}),Le=J({\u0275mod:J}),we=J({\u0275fac:J}),Je=J({__NG_ELEMENT_ID__:J});let It=0;function ge(n){return Ut(()=>{const s={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Xt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||on.Emulated,id:"c",styles:n.styles||Xt,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,d=n.features,y=n.pipes;return u.id+=It++,u.inputs=En(n.inputs,s),u.outputs=En(n.outputs),d&&d.forEach(C=>C(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ae):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(We):null,u})}function Ae(n){return er(n)||function tr(n){return n[_n]||null}(n)}function We(n){return function Rr(n){return n[Un]||null}(n)}const Zt={};function bn(n){return Ut(()=>{const r={type:n.type,bootstrap:n.bootstrap||Xt,declarations:n.declarations||Xt,imports:n.imports||Xt,exports:n.exports||Xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Zt[n.id]=n.type),r})}function En(n,r){if(null==n)return Ct;const s={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=u,r&&(r[c]=d)}return s}const Jn=ge;function Rn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function er(n){return n[Cn]||null}function Or(n,r){const s=n[Le]||null;if(!s&&!0===r)throw new Error(`Type ${Z(n)} does not have '\u0275mod' property.`);return s}function $t(n){return Array.isArray(n)&&"object"==typeof n[1]}function yn(n){return Array.isArray(n)&&!0===n[1]}function On(n){return 0!=(8&n.flags)}function Bn(n){return 2==(2&n.flags)}function cr(n){return 1==(1&n.flags)}function Vr(n){return null!==n.template}function qr(n){return 0!=(512&n[2])}function yi(n,r){return n.hasOwnProperty(we)?n[we]:null}class ps{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ii(){return vi}function vi(n){return n.type.prototype.ngOnChanges&&(n.setInput=Y),gs}function gs(){const n=Me(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Ct)n.previous=r;else for(let u in r)s[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Y(n,r,s,u){const c=Me(n)||function Ze(n,r){return n[q]=r}(n,{previous:Ct,current:null}),d=c.current||(c.current={}),y=c.previous,C=this.declaredInputs[s],R=y[C];d[C]=new ps(R&&R.currentValue,r,y===Ct),n[u]=r}Ii.ngInherit=!0;const q="__ngSimpleChanges__";function Me(n){return n[q]||null}let k;function Q(n){k=n}function Fe(n){return!!n.listen}const P={createRenderer:(n,r)=>function B(){return void 0!==k?k:"undefined"!=typeof document?document:void 0}()};function N(n){for(;Array.isArray(n);)n=n[0];return n}function Pt(n,r){return N(r[n])}function zt(n,r){return N(r[n.index])}function Sn(n,r){return n.data[r]}function g(n,r){return n[r]}function L(n,r){const s=r[n];return $t(s)?s:s[0]}function m(n){return 4==(4&n[2])}function V(n){return 128==(128&n[2])}function S(n,r){return null==r?null:n[r]}function A(n){n[18]=0}function T(n,r){n[5]+=r;let s=n,u=n[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const G={lFrame:lo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ci(){return G.bindingsEnabled}function Kt(){return G.lFrame.lView}function jr(){return G.lFrame.tView}function Ka(n){return G.lFrame.contextLView=n,n[8]}function fi(){let n=Du();for(;null!==n&&64===n.type;)n=n.parent;return n}function Du(){return G.lFrame.currentTNode}function xs(n,r){const s=G.lFrame;s.currentTNode=n,s.isParent=r}function uo(){return G.lFrame.isParent}function _s(){G.lFrame.isParent=!1}function na(){return G.isInCheckNoChangesMode}function Ms(n){G.isInCheckNoChangesMode=n}function Fi(){const n=G.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ls(){return G.lFrame.bindingIndex++}function Qu(n,r){const s=G.lFrame;s.bindingIndex=s.bindingRootIndex=n,Eo(r)}function Eo(n){G.lFrame.currentDirectiveIndex=n}function Bs(){return G.lFrame.currentQueryIndex}function Da(n){G.lFrame.currentQueryIndex=n}function zs(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function sa(n,r,s){if(s&mn.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||s&mn.Host||(c=zs(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,n=d}const u=G.lFrame=oa();return u.currentTNode=r,u.lView=n,!0}function wo(n){const r=oa(),s=n[1];G.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function oa(){const n=G.lFrame,r=null===n?null:n.child;return null===r?lo(n):r}function lo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Su(){const n=G.lFrame;return G.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Au=Su;function aa(){const n=Su();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Wi(){return G.lFrame.selectedIndex}function Vs(n){G.lFrame.selectedIndex=n}function gi(){const n=G.lFrame;return Sn(n.tView,n.selectedIndex)}function io(n,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:ne}=d;y&&(n.contentHooks||(n.contentHooks=[])).push(-s,y),C&&((n.contentHooks||(n.contentHooks=[])).push(s,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,C)),R&&(n.viewHooks||(n.viewHooks=[])).push(-s,R),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ne)}}function co(n,r,s){ts(n,r,3,s)}function ua(n,r,s,u){(3&n[2])===s&&ts(n,r,s,u)}function ms(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function ts(n,r,s,u){const d=null!=u?u:-1,y=r.length-1;let C=0;for(let R=void 0!==u?65535&n[18]:0;R<y;R++)if("number"==typeof r[R+1]){if(C=r[R],null!=u&&C>=u)break}else r[R]<0&&(n[18]+=65536),(C<d||-1==d)&&(Aa(n,s,r,R),n[18]=(4294901760&n[18])+R+2),R++}function Aa(n,r,s,u){const c=s[u]<0,d=s[u+1],C=n[c?-s[u]:s[u]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(C)}finally{}}}else try{d.call(C)}finally{}}class so{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function _i(n,r,s){const u=Fe(n);let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const y=s[c++],C=s[c++],R=s[c++];u?n.setAttribute(r,C,R,y):r.setAttributeNS(y,C,R)}else{const y=d,C=s[++c];Rs(y)?u&&n.setProperty(r,y,C):u?n.setAttribute(r,y,C):r.setAttribute(y,C),c++}}return c}function eu(n){return 3===n||4===n||6===n}function Rs(n){return 64===n.charCodeAt(0)}function Co(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const c=r[u];"number"==typeof c?s=c:0===s||ho(n,s,c,null,-1===s||2===s?r[++u]:null)}}return n}function ho(n,r,s,u,c){let d=0,y=n.length;if(-1===r)y=-1;else for(;d<n.length;){const C=n[d++];if("number"==typeof C){if(C===r){y=-1;break}if(C>r){y=d-1;break}}}for(;d<n.length;){const C=n[d];if("number"==typeof C)break;if(C===s){if(null===u)return void(null!==c&&(n[d+1]=c));if(u===n[d+1])return void(n[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==y&&(n.splice(y,0,r),d=y+1),n.splice(d++,0,s),null!==u&&n.splice(d++,0,u),null!==c&&n.splice(d++,0,c)}function xa(n){return-1!==n}function Do(n){return 32767&n}function $s(n,r){let s=function qi(n){return n>>16}(n),u=r;for(;s>0;)u=u[15],s--;return u}let Es=!0;function qs(n){const r=Es;return Es=n,r}let rs=0;function Ln(n,r){const s=Go(n,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,pr(u.data,n),pr(r,null),pr(u.blueprint,null));const c=An(n,r),d=n.injectorIndex;if(xa(c)){const y=Do(c),C=$s(c,r),R=C[1].data;for(let z=0;z<8;z++)r[d+z]=C[y+z]|R[y+z]}return r[d+8]=c,d}function pr(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Go(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function An(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,c=r;for(;null!==c;){const d=c[1],y=d.type;if(u=2===y?d.declTNode:1===y?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function w(n,r,s){!function la(n,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Je)&&(u=s[Je]),null==u&&(u=s[Je]=rs++);const c=255&u;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function E(n,r,s){if(s&mn.Optional)return n;ve(r,"NodeInjector")}function F(n,r,s,u){if(s&mn.Optional&&void 0===u&&(u=null),0==(s&(mn.Self|mn.Host))){const c=n[9],d=Ye(void 0);try{return c?c.get(r,u,s&mn.Optional):jt(r,u,s&mn.Optional)}finally{Ye(d)}}return E(u,r,s)}function H(n,r,s,u=mn.Default,c){if(null!==n){const d=function Hr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Je)?n[Je]:void 0;return"number"==typeof r?r>=0?255&r:Be:r}(s);if("function"==typeof d){if(!sa(r,n,u))return u&mn.Host?E(c,s,u):F(r,s,u,c);try{const y=d(u);if(null!=y||u&mn.Optional)return y;ve(s)}finally{Au()}}else if("number"==typeof d){let y=null,C=Go(n,r),R=-1,z=u&mn.Host?r[16][6]:null;for((-1===C||u&mn.SkipSelf)&&(R=-1===C?An(n,r):r[C+8],-1!==R&&Mr(u,!1)?(y=r[1],C=Do(R),r=$s(R,r)):C=-1);-1!==C;){const ne=r[1];if(lr(d,C,ne.data)){const Re=nt(C,r,s,y,u,z);if(Re!==ue)return Re}R=r[C+8],-1!==R&&Mr(u,r[1].data[C+8]===z)&&lr(d,C,r)?(y=ne,C=Do(R),r=$s(R,r)):C=-1}}}return F(r,s,u,c)}const ue={};function Be(){return new Gr(fi(),Kt())}function nt(n,r,s,u,c,d){const y=r[1],C=y.data[n+8],ne=Vt(C,y,s,null==u?Bn(C)&&Es:u!=y&&0!=(3&C.type),c&mn.Host&&d===C);return null!==ne?Nn(r,y,ne,C):ue}function Vt(n,r,s,u,c){const d=n.providerIndexes,y=r.data,C=1048575&d,R=n.directiveStart,ne=d>>20,st=c?C+ne:n.directiveEnd;for(let Et=u?C:C+ne;Et<st;Et++){const Wt=y[Et];if(Et<R&&s===Wt||Et>=R&&Wt.type===s)return Et}if(c){const Et=y[R];if(Et&&Vr(Et)&&Et.type===s)return R}return null}function Nn(n,r,s,u){let c=n[s];const d=r.data;if(function $o(n){return n instanceof so}(c)){const y=c;y.resolving&&function _t(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new oe(-200,`Circular dependency in DI detected for ${n}${s}`)}(at(d[s]));const C=qs(y.canSeeViewProviders);y.resolving=!0;const R=y.injectImpl?Ye(y.injectImpl):null;sa(n,u,mn.Default);try{c=n[s]=y.factory(void 0,d,n,u),r.firstCreatePass&&s>=u.directiveStart&&function Ja(n,r,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(u){const y=vi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==R&&Ye(R),qs(C),y.resolving=!1,Au()}}return c}function lr(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Mr(n,r){return!(n&mn.Self||n&mn.Host&&r)}class Gr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return H(this._tNode,this._lView,r,u,s)}}function ys(n){return Ut(()=>{const r=n.prototype.constructor,s=r[we]||Ar(r),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const d=c[we]||Ar(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Ar(n){return ye(n)?()=>{const r=Ar(Pe(n));return r&&r()}:yi(n)}function Ys(n){return function v(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const d=s[c];if(eu(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(fi(),n)}const ti="__parameters__";function Ra(n,r,s){return Ut(()=>{const u=function zo(n){return function(...s){if(n){const u=n(...s);for(const c in u)this[c]=u[c]}}}(r);function c(...d){if(this instanceof c)return u.apply(this,d),this;const y=new c(...d);return C.annotation=y,C;function C(R,z,ne){const Re=R.hasOwnProperty(ti)?R[ti]:Object.defineProperty(R,ti,{value:[]})[ti];for(;Re.length<=ne;)Re.push(null);return(Re[ne]=Re[ne]||[]).push(y),R}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class ki{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Yt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ss=new ki("AnalyzeForEntryComponents");function hs(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let u=n[s];Array.isArray(u)?(r===n&&(r=n.slice(0,s)),hs(u,r)):r!==n&&r.push(u)}return r}function po(n,r){n.forEach(s=>Array.isArray(s)?po(s,r):r(s))}function xn(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function nu(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Wo(n,r){const s=[];for(let u=0;u<n;u++)s.push(r);return s}function Ui(n,r,s){let u=Ro(n,r);return u>=0?n[1|u]=s:(u=~u,function ru(n,r,s,u){let c=n.length;if(c==r)n.push(s,u);else if(1===c)n.push(u,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=u}}(n,u,r,s)),u}function go(n,r){const s=Ro(n,r);if(s>=0)return n[1|s]}function Ro(n,r){return function Oa(n,r,s){let u=0,c=n.length>>s;for(;c!==u;){const d=u+(c-u>>1),y=n[d<<s];if(r===y)return d<<s;y>r?c=d:u=d+1}return~(c<<s)}(n,r,1)}const $n={},Cr="__NG_DI_FLAG__",yr="ngTempTokenPath",Tr=/\n/gm,os="__source",Ps=J({provide:String,useValue:J});let fa;function qo(n){const r=fa;return fa=n,r}function mo(n,r=mn.Default){if(void 0===fa)throw new oe(203,"");return null===fa?jt(n,void 0,r):fa.get(n,r&mn.Optional?null:void 0,r)}function oi(n,r=mn.Default){return(function Ke(){return At}()||mo)(Pe(n),r)}const su=oi;function Ru(n){const r=[];for(let s=0;s<n.length;s++){const u=Pe(n[s]);if(Array.isArray(u)){if(0===u.length)throw new oe(900,"");let c,d=mn.Default;for(let y=0;y<u.length;y++){const C=u[y],R=vs(C);"number"==typeof R?-1===R?c=C.token:d|=R:c=C}r.push(oi(c,d))}else r.push(oi(u))}return r}function pa(n,r){return n[Cr]=r,n.prototype[Cr]=r,n}function vs(n){return n[Cr]}const nl=pa(Ra("Inject",n=>({token:n})),-1),Pa=pa(Ra("Optional"),8),rl=pa(Ra("SkipSelf"),4);class uu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Zo(n){return n instanceof uu?n.changingThisBreaksApplicationSecurity:n}const St=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ki=(()=>((Ki=Ki||{})[Ki.NONE=0]="NONE",Ki[Ki.HTML=1]="HTML",Ki[Ki.STYLE=2]="STYLE",Ki[Ki.SCRIPT=3]="SCRIPT",Ki[Ki.URL=4]="URL",Ki[Ki.RESOURCE_URL=5]="RESOURCE_URL",Ki))();function pi(n){const r=function Fc(){const n=Kt();return n&&n[12]}();return r?r.sanitize(Ki.URL,n)||"":function vo(n,r){const s=function Sd(n){return n instanceof uu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Zo(n):function vr(n){return(n=String(n)).match(St)||n.match(ir)?n:"unsafe:"+n}(ke(n))}const Kp="__ngContext__";function Js(n,r){n[Kp]=r}function Od(n){const r=function cu(n){return n[Kp]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Uh(n){return n.ngOriginalError}function Bc(n,...r){n.error(...r)}class Wl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),u=function Dy(n){return n&&n.ngErrorLogger||Bc}(r);u(this._console,"ERROR",r),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Uh(r);for(;s&&Uh(s);)s=Uh(s);return s||null}}const My=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mn))();function Ba(n){return n instanceof Function?n():n}var ma=(()=>((ma=ma||{})[ma.Important=1]="Important",ma[ma.DashCase=2]="DashCase",ma))();function zh(n,r){return undefined(n,r)}function Vc(n){const r=n[3];return yn(r)?r[3]:r}function Wh(n){return ug(n[13])}function qh(n){return ug(n[4])}function ug(n){for(;null!==n&&!yn(n);)n=n[4];return n}function Zl(n,r,s,u,c){if(null!=u){let d,y=!1;yn(u)?d=u:$t(u)&&(y=!0,u=u[0]);const C=N(u);0===n&&null!==s?null==c?Kh(r,s,C):du(r,s,C,c||null,!0):1===n&&null!==s?du(r,s,C,c||null,!0):2===n?function ef(n,r,s){const u=Kl(n,r);u&&function Xh(n,r,s,u){Fe(n)?n.removeChild(r,s,u):r.removeChild(s)}(n,u,r,s)}(r,C,y):3===n&&r.destroyNode(C),null!=d&&function yg(n,r,s,u,c){const d=s[7];d!==N(s)&&Zl(r,n,u,d,c);for(let C=10;C<s.length;C++){const R=s[C];ml(R[1],R,n,r,u,d)}}(r,n,d,s,c)}}function Fd(n,r,s){if(Fe(n))return n.createElement(r,s);{const u=null!==s?function Ur(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===u?n.createElement(r):n.createElementNS(u,r)}}function Uc(n,r){const s=n[9],u=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,T(c,-1)),s.splice(u,1)}function Oo(n,r){if(n.length<=10)return;const s=10+r,u=n[s];if(u){const c=u[17];null!==c&&c!==n&&Uc(c,u),r>0&&(n[s-1][4]=u[4]);const d=nu(n,10+r);!function Fy(n,r){ml(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const y=d[19];null!==y&&y.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function fg(n,r){if(!(256&r[2])){const s=r[11];Fe(s)&&s.destroyNode&&ml(n,r,s,3,null,null),function dg(n){let r=n[13];if(!r)return hl(n[1],n);for(;r;){let s=null;if($t(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==n;)$t(r)&&hl(r[1],r),r=r[3];null===r&&(r=n),$t(r)&&hl(r[1],r),s=r&&r[4]}r=s}}(r)}}function hl(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function By(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const c=r[s[u]];if(!(c instanceof so)){const d=s[u+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const C=c[d[y]],R=d[y+1];try{R.call(C)}finally{}}else try{d.call(c)}finally{}}}}(n,r),function fl(n,r){const s=n.cleanup,u=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const y=s[d+1],C="function"==typeof y?y(r):N(r[y]),R=u[c=s[d+2]],z=s[d+3];"boolean"==typeof z?C.removeEventListener(s[d],R,z):z>=0?u[c=z]():u[c=-z].unsubscribe(),d+=2}else{const y=u[c=s[d+1]];s[d].call(y)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();r[7]=null}}(n,r),1===r[1].type&&Fe(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&yn(r[3])){s!==r[3]&&Uc(s,r);const u=r[19];null!==u&&u.detachView(n)}}}function Lu(n,r,s){return function Zh(n,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const c=n.data[u.directiveStart].encapsulation;if(c===on.None||c===on.Emulated)return null}return zt(u,s)}(n,r.parent,s)}function du(n,r,s,u,c){Fe(n)?n.insertBefore(r,s,u,c):r.insertBefore(s,u,c)}function Kh(n,r,s){Fe(n)?n.appendChild(r,s):r.appendChild(s)}function Ds(n,r,s,u,c){null!==u?du(n,r,s,u,c):Kh(n,r,s)}function Kl(n,r){return Fe(n)?n.parentNode(r):r.parentNode}function hu(n,r,s){return pg(n,r,s)}let pg=function Qh(n,r,s){return 40&n.type?zt(n,s):null};function Ua(n,r,s,u){const c=Lu(n,u,r),d=r[11],C=hu(u.parent||r[6],u,r);if(null!=c)if(Array.isArray(s))for(let R=0;R<s.length;R++)Ds(d,c,s[R],C,!1);else Ds(d,c,s,C,!1)}function $a(n,r){if(null!==r){const s=r.type;if(3&s)return zt(r,n);if(4&s)return gl(-1,n[r.index]);if(8&s){const u=r.child;if(null!==u)return $a(n,u);{const c=n[r.index];return yn(c)?gl(-1,c):N(c)}}if(32&s)return zh(r,n)()||N(n[r.index]);{const u=pl(n,r);return null!==u?Array.isArray(u)?u[0]:$a(Vc(n[16]),u):$a(n,r.next)}}return null}function pl(n,r){return null!==r?n[16][6].projection[r.projection]:null}function gl(n,r){const s=10+n+1;if(s<r.length){const u=r[s],c=u[1].firstChild;if(null!==c)return $a(u,c)}return r[7]}function jc(n,r,s,u,c,d,y){for(;null!=s;){const C=u[s.index],R=s.type;if(y&&0===r&&(C&&Js(N(C),u),s.flags|=4),64!=(64&s.flags))if(8&R)jc(n,r,s.child,u,c,d,!1),Zl(r,n,c,C,d);else if(32&R){const z=zh(s,u);let ne;for(;ne=z();)Zl(r,n,c,ne,d);Zl(r,n,c,C,d)}else 16&R?mg(n,r,u,s,c,d):Zl(r,n,c,C,d);s=y?s.projectionNext:s.next}}function ml(n,r,s,u,c,d){jc(s,u,n.firstChild,r,c,d,!1)}function mg(n,r,s,u,c,d){const y=s[16],R=y[6].projection[u.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)Zl(r,n,c,R[z],d);else jc(n,r,R,y[3],c,d,!0)}function Bd(n,r,s){Fe(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function yl(n,r,s){Fe(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function vl(n,r,s){let u=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===u||n.charCodeAt(c+d)<=32)return c}s=c+1}}const tf="ng-template";function Vy(n,r,s){let u=0;for(;u<n.length;){let c=n[u++];if(s&&"class"===c){if(c=n[u],-1!==vl(c.toLowerCase(),r,0))return!0}else if(1===c){for(;u<n.length&&"string"==typeof(c=n[u++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function _g(n){return 4===n.type&&n.value!==tf}function Uy(n,r,s){return r===(4!==n.type||s?n.value:tf)}function Vd(n,r,s){let u=4;const c=n.attrs||[],d=function jy(n){for(let r=0;r<n.length;r++)if(eu(n[r]))return r;return n.length}(c);let y=!1;for(let C=0;C<r.length;C++){const R=r[C];if("number"!=typeof R){if(!y)if(4&u){if(u=2|1&u,""!==R&&!Uy(n,R,s)||""===R&&1===r.length){if(Ns(u))return!1;y=!0}}else{const z=8&u?R:r[++C];if(8&u&&null!==n.attrs){if(!Vy(n.attrs,z,s)){if(Ns(u))return!1;y=!0}continue}const Re=_l(8&u?"class":R,c,_g(n),s);if(-1===Re){if(Ns(u))return!1;y=!0;continue}if(""!==z){let st;st=Re>d?"":c[Re+1].toLowerCase();const Et=8&u?st:null;if(Et&&-1!==vl(Et,z,0)||2&u&&z!==st){if(Ns(u))return!1;y=!0}}}}else{if(!y&&!Ns(u)&&!Ns(R))return!1;if(y&&Ns(R))continue;y=!1,u=R|1&u}}return Ns(u)||y}function Ns(n){return 0==(1&n)}function _l(n,r,s,u){if(null===r)return-1;let c=0;if(u||!s){let d=!1;for(;c<r.length;){const y=r[c];if(y===n)return c;if(3===y||6===y)d=!0;else{if(1===y||2===y){let C=r[++c];for(;"string"==typeof C;)C=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=d?1:2}return-1}return function rf(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,n)}function nf(n,r,s=!1){for(let u=0;u<r.length;u++)if(Vd(n,r[u],s))return!0;return!1}function Ud(n,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(n.length===u.length){for(let c=0;c<n.length;c++)if(n[c]!==u[c])continue e;return!0}}return!1}function bg(n,r){return n?":not("+r.trim()+")":r}function Eg(n){let r=n[0],s=1,u=2,c="",d=!1;for(;s<n.length;){let y=n[s];if("string"==typeof y)if(2&u){const C=n[++s];c+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!Ns(y)&&(r+=bg(d,c),c=""),u=y,d=d||!Ns(u);s++}return""!==c&&(r+=bg(d,c)),r}const kr={};function sf(n){ao(jr(),Kt(),Wi()+n,na())}function ao(n,r,s,u){if(!u)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&co(r,d,s)}else{const d=n.preOrderHooks;null!==d&&ua(r,d,0,s)}Vs(s)}function bl(n,r){return n<<17|r<<2}function Po(n){return n>>17&32767}function Vu(n){return 2|n}function ja(n){return(131068&n)>>2}function fu(n,r){return-131069&n|r<<2}function Uu(n){return 1|n}function kg(n,r){const s=n.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],d=s[u+1];if(-1!==d){const y=n.data[d];Da(c),y.contentQueries(2,r[d],d)}}}function El(n,r,s,u,c,d,y,C,R,z){const ne=r.blueprint.slice();return ne[0]=c,ne[2]=140|u,A(ne),ne[3]=ne[15]=n,ne[8]=s,ne[10]=y||n&&n[10],ne[11]=C||n&&n[11],ne[12]=R||n&&n[12]||null,ne[9]=z||n&&n[9]||null,ne[6]=d,ne[16]=2==r.type?n[16]:ne,ne}function tc(n,r,s,u,c){let d=n.data[r];if(null===d)d=function yf(n,r,s,u,c){const d=Du(),y=uo(),R=n.data[r]=function Ef(n,r,s,u,c,d){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,s,r,u,c);return null===n.firstChild&&(n.firstChild=R),null!==d&&(y?null==d.child&&null!==R.parent&&(d.child=R):null===d.next&&(d.next=R)),R}(n,r,s,u,c),function Vo(){return G.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=u,d.attrs=c;const y=function Gs(){const n=G.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return xs(d,!0),d}function ju(n,r,s,u){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(u),n.blueprint.push(u),n.data.push(null);return c}function us(n,r,s){wo(r);try{const u=n.viewQuery;null!==u&&Xd(1,u,s);const c=n.template;null!==c&&Ng(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&kg(n,r),n.staticViewQueries&&Xd(2,n.viewQuery,s);const d=n.components;null!==d&&function Ky(n,r){for(let s=0;s<r.length;s++)sv(n,r[s])}(r,d)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,aa()}}function nc(n,r,s,u){const c=r[2];if(256==(256&c))return;wo(r);const d=na();try{A(r),function Di(n){return G.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Ng(n,r,s,2,u);const y=3==(3&c);if(!d)if(y){const z=n.preOrderCheckHooks;null!==z&&co(r,z,null)}else{const z=n.preOrderHooks;null!==z&&ua(r,z,0,null),ms(r,0)}if(function Mf(n){for(let r=Wh(n);null!==r;r=qh(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const c=s[u],d=c[3];0==(1024&c[2])&&T(d,1),c[2]|=1024}}}(r),function rv(n){for(let r=Wh(n);null!==r;r=qh(r))for(let s=10;s<r.length;s++){const u=r[s],c=u[1];V(u)&&nc(c,u,c.template,u[8])}}(r),null!==n.contentQueries&&kg(n,r),!d)if(y){const z=n.contentCheckHooks;null!==z&&co(r,z)}else{const z=n.contentHooks;null!==z&&ua(r,z,1),ms(r,1)}!function Pg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)Vs(~c);else{const d=c,y=s[++u],C=s[++u];Qu(y,d),C(2,r[d])}}}finally{Vs(-1)}}(n,r);const C=n.components;null!==C&&function mf(n,r){for(let s=0;s<r.length;s++)iv(n,r[s])}(r,C);const R=n.viewQuery;if(null!==R&&Xd(2,R,u),!d)if(y){const z=n.viewCheckHooks;null!==z&&co(r,z)}else{const z=n.viewHooks;null!==z&&ua(r,z,2),ms(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),d||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,T(r[3],-1))}finally{aa()}}function Xy(n,r,s,u){const c=r[10],d=!na(),y=m(r);try{d&&!y&&c.begin&&c.begin(),y&&us(n,r,u),nc(n,r,s,u)}finally{d&&!y&&c.end&&c.end()}}function Ng(n,r,s,u,c){const d=Wi(),y=2&u;try{Vs(-1),y&&r.length>20&&ao(n,r,20,na()),s(u,c)}finally{Vs(d)}}function Fg(n,r,s){if(On(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const y=n.data[d];y.contentQueries&&y.contentQueries(1,s[d],d)}}}function vf(n,r,s){!Ci()||(function ev(n,r,s,u){const c=s.directiveStart,d=s.directiveEnd;n.firstCreatePass||Ln(s,r),Js(u,r);const y=s.initialInputs;for(let C=c;C<d;C++){const R=n.data[C],z=Vr(R);z&&Qc(r,s,R);const ne=Nn(r,n,C,s);Js(ne,r),null!==y&&Sf(0,C-c,ne,R,0,y),z&&(L(s.index,r)[8]=ne)}}(n,r,s,zt(s,r)),128==(128&s.flags)&&function tv(n,r,s){const u=s.directiveStart,c=s.directiveEnd,y=s.index,C=function ra(){return G.lFrame.currentDirectiveIndex}();try{Vs(y);for(let R=u;R<c;R++){const z=n.data[R],ne=r[R];Eo(R),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Ug(z,ne)}}finally{Vs(-1),Eo(C)}}(n,r,s))}function _f(n,r,s=zt){const u=r.localNames;if(null!==u){let c=r.index+1;for(let d=0;d<u.length;d+=2){const y=u[d+1],C=-1===y?s(r,n):n[y];n[c++]=C}}}function Wd(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Yc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Yc(n,r,s,u,c,d,y,C,R,z){const ne=20+u,Re=ne+c,st=function Lg(n,r){const s=[];for(let u=0;u<r;u++)s.push(u<n?null:kr);return s}(ne,Re),Et="function"==typeof z?z():z;return st[1]={type:n,blueprint:st,template:s,queries:null,viewQuery:C,declTNode:r,data:st.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:R,consts:Et,incompleteFirstPass:!1}}function Zc(n,r,s,u){const c=Gg(r);null===s?c.push(u):(c.push(s),n.firstCreatePass&&Jd(n).push(u,c.length-1))}function Yd(n,r,s){for(let u in n)if(n.hasOwnProperty(u)){const c=n[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,c):s[u]=[r,c]}return s}function Xc(n,r,s,u){let c=!1;if(Ci()){const d=function nv(n,r,s){const u=n.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const y=u[d];nf(s,y.selectors,!1)&&(c||(c=[]),w(Ln(s,r),n,y.type),Vr(y)?(ic(n,s),c.unshift(y)):c.push(y))}return c}(n,r,s),y=null===u?null:{"":-1};if(null!==d){c=!0,Zd(s,n.data.length,d.length);for(let ne=0;ne<d.length;ne++){const Re=d[ne];Re.providersResolver&&Re.providersResolver(Re)}let C=!1,R=!1,z=ju(n,r,d.length,null);for(let ne=0;ne<d.length;ne++){const Re=d[ne];s.mergedAttrs=Co(s.mergedAttrs,Re.hostAttrs),Jc(n,s,r,z,Re),sc(z,Re,y),null!==Re.contentQueries&&(s.flags|=8),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(s.flags|=128);const st=Re.type.prototype;!C&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),C=!0),!R&&(st.ngOnChanges||st.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),R=!0),z++}!function wf(n,r){const u=r.directiveEnd,c=n.data,d=r.attrs,y=[];let C=null,R=null;for(let z=r.directiveStart;z<u;z++){const ne=c[z],Re=ne.inputs,st=null===d||_g(r)?null:Af(Re,d);y.push(st),C=Yd(Re,z,C),R=Yd(ne.outputs,z,R)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=C,r.outputs=R}(n,s)}y&&function Tf(n,r,s){if(r){const u=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new oe(-301,!1);u.push(r[c],d)}}}(s,u,y)}return s.mergedAttrs=Co(s.mergedAttrs,s.attrs),c}function Df(n,r,s,u,c,d){const y=d.hostBindings;if(y){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const R=~r.index;(function Qy(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(C)!=R&&C.push(R),C.push(u,c,y)}}function Ug(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ic(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function sc(n,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=n;Vr(r)&&(s[""]=n)}}function Zd(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Jc(n,r,s,u,c){n.data[u]=c;const d=c.factory||(c.factory=yi(c.type)),y=new so(d,Vr(c),null);n.blueprint[u]=y,s[u]=y,Df(n,r,0,u,ju(n,s,c.hostVars,kr),c)}function Qc(n,r,s){const u=zt(r,n),c=Wd(s),d=n[10],y=Il(n,El(n,c,null,s.onPush?64:16,u,r,d,d.createRenderer(u,s),null,null));n[r.index]=y}function Jo(n,r,s,u,c,d){const y=zt(n,r);!function Kd(n,r,s,u,c,d,y){if(null==d)Fe(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const C=null==y?ke(d):y(d,u||"",c);Fe(n)?n.setAttribute(r,c,C,s):s?r.setAttributeNS(s,c,C):r.setAttribute(c,C)}}(r[11],y,d,n.value,s,u,c)}function Sf(n,r,s,u,c,d){const y=d[r];if(null!==y){const C=u.setInput;for(let R=0;R<y.length;){const z=y[R++],ne=y[R++],Re=y[R++];null!==C?u.setInput(s,Re,z,ne):s[ne]=Re}}}function Af(n,r){let s=null,u=0;for(;u<r.length;){const c=r[u];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[u+1])),u+=2}else u+=2;else u+=4}return s}function xf(n,r,s,u){return new Array(n,!0,!1,r,null,0,u,s,null,null)}function iv(n,r){const s=L(r,n);if(V(s)){const u=s[1];80&s[2]?nc(u,s,u.template,s[8]):s[5]>0&&ed(s)}}function ed(n){for(let u=Wh(n);null!==u;u=qh(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const y=d[1];nc(y,d,y.template,d[8])}else d[5]>0&&ed(d)}const s=n[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=L(s[u],n);V(c)&&c[5]>0&&ed(c)}}function sv(n,r){const s=L(r,n),u=s[1];(function Rf(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(u,s),us(u,s,s[8])}function Il(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function td(n){for(;n;){n[2]|=64;const r=Vc(n);if(qr(n)&&!r)return n;n=r}return null}function nd(n,r,s){const u=r[10];u.begin&&u.begin();try{nc(n,r,n.template,s)}catch(c){throw Qd(r,c),c}finally{u.end&&u.end()}}function jg(n){!function Hu(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],u=Od(s),c=u[1];Xy(c,u,c.template,s)}}(n[8])}function Xd(n,r,s){Da(0),r(n,s)}const Of=(()=>Promise.resolve(null))();function Gg(n){return n[7]||(n[7]=[])}function Jd(n){return n.cleanup||(n.cleanup=[])}function Qd(n,r){const s=n[9],u=s?s.get(Wl,null):null;u&&u.handleError(r)}function Wg(n,r,s,u,c){for(let d=0;d<s.length;){const y=s[d++],C=s[d++],R=r[y],z=n.data[y];null!==z.setInput?z.setInput(R,c,u,C):R[C]=c}}function ya(n,r,s){const u=Pt(r,n);!function lg(n,r,s){Fe(n)?n.setValue(r,s):r.textContent=s}(n[11],u,s)}function rd(n,r,s){let u=s?n.styles:null,c=s?n.classes:null,d=0;if(null!==r)for(let y=0;y<r.length;y++){const C=r[y];"number"==typeof C?d=C:1==d?c=Ne(c,C):2==d&&(u=Ne(u,C+": "+r[++y]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=c:n.classesWithoutHost=c}const Gu=new ki("INJECTOR",-1);class gu{get(r,s=$n){if(s===$n){const u=new Error(`NullInjectorError: No provider for ${Z(r)}!`);throw u.name="NullInjectorError",u}return s}}const id=new ki("Set Injector scope."),za={},oc={};let eh;function Cl(){return void 0===eh&&(eh=new gu),eh}function Yg(n,r=null,s=null,u){const c=Zg(n,r,s,u);return c._resolveInjectorDefTypes(),c}function Zg(n,r=null,s=null,u){return new Nf(n,s,r||Cl(),u)}class Nf{constructor(r,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&po(s,C=>this.processProvider(C,r,s)),po([r],C=>this.processInjectorType(C,[],d)),this.records.set(Gu,ac(void 0,this));const y=this.records.get(id);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof r?null:Z(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=$n,u=mn.Default){this.assertNotDestroyed();const c=qo(this),d=Ye(void 0);try{if(!(u&mn.SkipSelf)){let C=this.records.get(r);if(void 0===C){const R=function Qg(n){return"function"==typeof n||"object"==typeof n&&n instanceof ki}(r)&&or(r);C=R&&this.injectableDefInScope(R)?ac(sd(r),za):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(u&mn.Self?Cl():this.parent).get(r,s=u&mn.Optional&&s===$n?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[yr]=y[yr]||[]).unshift(Z(r)),c)throw y;return function Ed(n,r,s,u){const c=n[yr];throw r[os]&&c.unshift(r[os]),n.message=function Oh(n,r,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=Z(r);if(Array.isArray(r))c=r.map(Z).join(" -> ");else if("object"==typeof r){let d=[];for(let y in r)if(r.hasOwnProperty(y)){let C=r[y];d.push(y+":"+("string"==typeof C?JSON.stringify(C):Z(C)))}c=`{${d.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${n.replace(Tr,"\n  ")}`}("\n"+n.message,c,s,u),n.ngTokenPath=c,n[yr]=null,n}(y,r,"R3InjectorError",this.source)}throw y}finally{Ye(d),qo(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,c)=>r.push(Z(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processInjectorType(r,s,u){if(!(r=Pe(r)))return!1;let c=Pn(r);const d=null==c&&r.ngModule||void 0,y=void 0===d?r:d,C=-1!==u.indexOf(y);if(void 0!==d&&(c=Pn(d)),null==c)return!1;if(null!=c.imports&&!C){let ne;u.push(y);try{po(c.imports,Re=>{this.processInjectorType(Re,s,u)&&(void 0===ne&&(ne=[]),ne.push(Re))})}finally{}if(void 0!==ne)for(let Re=0;Re<ne.length;Re++){const{ngModule:st,providers:Et}=ne[Re];po(Et,Wt=>this.processProvider(Wt,st,Et||Xt))}}this.injectorDefTypes.add(y);const R=yi(y)||(()=>new y);this.records.set(y,ac(R,za));const z=c.providers;if(null!=z&&!C){const ne=r;po(z,Re=>this.processProvider(Re,ne,z))}return void 0!==d&&void 0!==r.providers}processProvider(r,s,u){let c=Dl(r=Pe(r))?r:Pe(r&&r.provide);const d=function Lf(n,r,s){return th(n)?ac(void 0,n.useValue):ac(Kg(n),za)}(r);if(Dl(r)||!0!==r.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=ac(void 0,za,!0),y.factory=()=>Ru(y.multi),this.records.set(c,y)),c=r,y.multi.push(r)}this.records.set(c,d)}hydrate(r,s){return s.value===za&&(s.value=oc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Jg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Pe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function sd(n){const r=or(n),s=null!==r?r.factory:yi(n);if(null!==s)return s;if(n instanceof ki)throw new oe(204,!1);if(n instanceof Function)return function Ff(n){const r=n.length;if(r>0)throw Wo(r,"?"),new oe(204,!1);const s=function jn(n){const r=n&&(n[nr]||n[Gn]);if(r){const s=function Ft(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new oe(204,!1)}function Kg(n,r,s){let u;if(Dl(n)){const c=Pe(n);return yi(c)||sd(c)}if(th(n))u=()=>Pe(n.useValue);else if(function av(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Ru(n.deps||[]));else if(function Bf(n){return!(!n||!n.useExisting)}(n))u=()=>oi(Pe(n.useExisting));else{const c=Pe(n&&(n.useClass||n.provide));if(!function Xg(n){return!!n.deps}(n))return yi(c)||sd(c);u=()=>new c(...Ru(n.deps))}return u}function ac(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function th(n){return null!==n&&"object"==typeof n&&Ps in n}function Dl(n){return"function"==typeof n}let Qo=(()=>{class n{static create(s,u){var c;if(Array.isArray(s))return Yg({name:""},u,s,"");{const d=null!==(c=s.name)&&void 0!==c?c:"";return Yg({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=$n,n.NULL=new gu,n.\u0275prov=Yt({token:n,providedIn:"any",factory:()=>oi(Gu)}),n.__NG_ELEMENT_ID__=-1,n})();function cv(n,r){io(Od(n)[1],fi())}function od(n){let r=function Wa(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;r;){let c;if(Vr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new oe(903,"");c=r.\u0275dir}if(c){if(s){u.push(c);const y=n;y.inputs=ad(n.inputs),y.declaredInputs=ad(n.declaredInputs),y.outputs=ad(n.outputs);const C=c.hostBindings;C&&Yf(n,C);const R=c.viewQuery,z=c.contentQueries;if(R&&hv(n,R),z&&fv(n,z),se(n.inputs,c.inputs),se(n.declaredInputs,c.declaredInputs),se(n.outputs,c.outputs),Vr(c)&&c.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let y=0;y<d.length;y++){const C=d[y];C&&C.ngInherit&&C(n),C===od&&(s=!1)}}r=Object.getPrototypeOf(r)}!function dv(n){let r=0,s=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=r+=c.hostVars,c.hostAttrs=Co(c.hostAttrs,s=Co(s,c.hostAttrs))}}(u)}function ad(n){return n===Ct?{}:n===Xt?[]:n}function hv(n,r){const s=n.viewQuery;n.viewQuery=s?(u,c)=>{r(u,c),s(u,c)}:r}function fv(n,r){const s=n.contentQueries;n.contentQueries=s?(u,c,d)=>{r(u,c,d),s(u,c,d)}:r}function Yf(n,r){const s=n.hostBindings;n.hostBindings=s?(u,c)=>{r(u,c),s(u,c)}:r}let uc=null;function lc(){if(!uc){const n=Mn.Symbol;if(n&&n.iterator)uc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(uc=u)}}}return uc}function cc(n){return!!Jf(n)&&(Array.isArray(n)||!(n instanceof Map)&&lc()in n)}function Jf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qa(n,r,s){return n[r]=s}function Qs(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Qf(n,r,s,u){const c=Kt();return Qs(c,Ls(),r)&&(jr(),Jo(gi(),c,n,r,s,u)),Qf}function ch(n,r,s,u,c,d,y,C){const R=Kt(),z=jr(),ne=n+20,Re=z.firstCreatePass?function fm(n,r,s,u,c,d,y,C,R){const z=r.consts,ne=tc(r,n,4,y||null,S(z,C));Xc(r,s,ne,S(z,R)),io(r,ne);const Re=ne.tViews=Yc(2,ne,u,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,ne),Re.queries=r.queries.embeddedTView(ne)),ne}(ne,z,R,r,s,u,c,d,y):z.data[ne];xs(Re,!1);const st=R[11].createComment("");Ua(z,R,st,Re),Js(st,R),Il(R,R[ne]=xf(st,R,st,Re)),cr(Re)&&vf(z,R,Re),null!=y&&_f(R,Re,C)}function dh(n){return g(function bo(){return G.lFrame.contextLView}(),20+n)}function mc(n,r=mn.Default){const s=Kt();return null===s?oi(n,r):H(fi(),s,Pe(n),r)}function Am(){throw new Error("invalid")}function ap(n,r,s){const u=Kt();return Qs(u,Ls(),r)&&function ko(n,r,s,u,c,d,y,C){const R=zt(r,s);let ne,z=r.inputs;!C&&null!=z&&(ne=z[u])?(Wg(n,s,ne,u,c),Bn(r)&&function Vg(n,r){const s=L(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(u=function Bg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=y?y(c,r.value||"",u):c,Fe(d)?d.setProperty(R,u,c):Rs(u)||(R.setProperty?R.setProperty(u,c):R[u]=c))}(jr(),gi(),u,n,r,u[11],s,!1),ap}function up(n,r,s,u,c){const y=c?"class":"style";Wg(n,s,r.inputs[y],y,u)}function lp(n,r,s,u){const c=Kt(),d=jr(),y=20+n,C=c[11],R=c[y]=Fd(C,r,function Li(){return G.lFrame.currentNamespace}()),z=d.firstCreatePass?function Tv(n,r,s,u,c,d,y){const C=r.consts,z=tc(r,n,2,c,S(C,d));return Xc(r,s,z,S(C,y)),null!==z.attrs&&rd(z,z.attrs,!1),null!==z.mergedAttrs&&rd(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(y,d,c,0,r,s,u):d.data[y];xs(z,!0);const ne=z.mergedAttrs;null!==ne&&_i(C,R,ne);const Re=z.classes;null!==Re&&yl(C,R,Re);const st=z.styles;return null!==st&&Bd(C,R,st),64!=(64&z.flags)&&Ua(d,c,R,z),0===function gn(){return G.lFrame.elementDepthCount}()&&Js(R,c),function Er(){G.lFrame.elementDepthCount++}(),cr(z)&&(vf(d,c,z),Fg(d,z,c)),null!==u&&_f(c,z),lp}function ph(){let n=fi();uo()?_s():(n=n.parent,xs(n,!1));const r=n;!function Zr(){G.lFrame.elementDepthCount--}();const s=jr();return s.firstCreatePass&&(io(s,n),On(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Io(n){return 0!=(16&n.flags)}(r)&&up(s,r,Kt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function xu(n){return 0!=(32&n.flags)}(r)&&up(s,r,Kt(),r.stylesWithoutHost,!1),ph}function cp(n,r,s,u){return lp(n,r,s,u),ph(),cp}function xm(n,r,s){const u=Kt(),c=jr(),d=n+20,y=c.firstCreatePass?function vu(n,r,s,u,c){const d=r.consts,y=S(d,u),C=tc(r,n,8,"ng-container",y);return null!==y&&rd(C,y,!0),Xc(r,s,C,S(d,c)),null!==r.queries&&r.queries.elementStart(r,C),C}(d,c,u,r,s):c.data[d];xs(y,!0);const C=u[d]=u[11].createComment("");return Ua(c,u,C,y),Js(C,u),cr(y)&&(vf(c,u,y),Fg(c,y,u)),null!=s&&_f(u,y),xm}function ea(){let n=fi();const r=jr();return uo()?_s():(n=n.parent,xs(n,!1)),r.firstCreatePass&&(io(r,n),On(n)&&r.queries.elementEnd(n)),ea}function _u(n,r,s){return xm(n,r,s),ea(),_u}function dd(){return Kt()}function dp(n){return!!n&&"function"==typeof n.then}function Mm(n){return!!n&&"function"==typeof n.subscribe}const hp=Mm;function gh(n,r,s,u){const c=Kt(),d=jr(),y=fi();return function Wu(n,r,s,u,c,d,y,C){const R=cr(u),ne=n.firstCreatePass&&Jd(n),Re=r[8],st=Gg(r);let Et=!0;if(3&u.type||C){const Fn=zt(u,r),sr=C?C(Fn):Fn,sn=st.length,Dr=C?ai=>C(N(ai[u.index])):u.index;if(Fe(s)){let ai=null;if(!C&&R&&(ai=function Av(n,r,s,u){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const y=c[d];if(y===s&&c[d+1]===u){const C=r[7],R=c[d+2];return C.length>R?C[R]:null}"string"==typeof y&&(d+=2)}return null}(n,r,c,u.index)),null!==ai)(ai.__ngLastListenerFn__||ai).__ngNextListenerFn__=d,ai.__ngLastListenerFn__=d,Et=!1;else{d=Pl(u,r,Re,d,!1);const Si=s.listen(sr,c,d);st.push(d,Si),ne&&ne.push(c,Dr,sn,sn+1)}}else d=Pl(u,r,Re,d,!0),sr.addEventListener(c,d,y),st.push(d),ne&&ne.push(c,Dr,sn,y)}else d=Pl(u,r,Re,d,!1);const Wt=u.outputs;let wn;if(Et&&null!==Wt&&(wn=Wt[c])){const Fn=wn.length;if(Fn)for(let sr=0;sr<Fn;sr+=2){const Ia=r[wn[sr]][wn[sr+1]].subscribe(d),_d=st.length;st.push(d,Ia),ne&&ne.push(c,u.index,_d,-(_d+1))}}}(d,c,c[11],y,n,r,!!s,u),gh}function fd(n,r,s,u){try{return!1!==s(u)}catch(c){return Qd(n,c),!1}}function Pl(n,r,s,u,c){return function d(y){if(y===Function)return u;const C=2&n.flags?L(n.index,r):r;0==(32&r[2])&&td(C);let R=fd(r,0,u,y),z=d.__ngNextListenerFn__;for(;z;)R=fd(r,0,z,y)&&R,z=z.__ngNextListenerFn__;return c&&!1===R&&(y.preventDefault(),y.returnValue=!1),R}}function fp(n=1){return function Ta(n){return(G.lFrame.contextLView=function el(n,r){for(;n>0;)r=r[15],n--;return r}(n,G.lFrame.contextLView))[8]}(n)}function pp(n,r){let s=null;const u=function $y(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===u?nf(n,d,!0):Ud(u,d))return c}else s=c}return s}function Rm(n){const r=Kt()[16][6];if(!r.projection){const u=r.projection=Wo(n?n.length:1,null),c=u.slice();let d=r.child;for(;null!==d;){const y=n?pp(d,n):0;null!==y&&(c[y]?c[y].projectionNext=d:u[y]=d,c[y]=d),d=d.next}}}function Om(n,r=0,s){const u=Kt(),c=jr(),d=tc(c,20+n,16,null,s||null);null===d.projection&&(d.projection=r),_s(),64!=(64&d.flags)&&function gg(n,r,s){mg(r[11],0,r,s,Lu(n,s,r),hu(s.parent||r[6],s,r))}(c,u,d)}function yc(n,r,s,u,c){const d=n[s+1],y=null===r;let C=u?Po(d):ja(d),R=!1;for(;0!==C&&(!1===R||y);){const ne=n[C+1];xv(n[C],r)&&(R=!0,n[C+1]=u?Uu(ne):Vu(ne)),C=u?Po(ne):ja(ne)}R&&(n[s+1]=u?Vu(d):Uu(d))}function xv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ro(n,r)>=0}function Ep(n,r){return function ba(n,r,s,u){const c=Kt(),d=jr(),y=function ro(n){const r=G.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);d.firstUpdatePass&&function Ip(n,r,s,u){const c=n.data;if(null===c[s+1]){const d=c[Wi()],y=function wp(n,r){return r>=n.expandoStartIndex}(n,s);(function Gm(n,r){return 0!=(n.flags&(r?16:32))})(d,u)&&null===r&&!y&&(r=!1),r=function Vm(n,r,s,u){const c=function ia(n){const r=G.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=u?r.residualClasses:r.residualStyles;if(null===c)0===(u?r.classBindings:r.styleBindings)&&(s=vc(s=Dp(null,n,r,s,u),r.attrs,u),d=null);else{const y=r.directiveStylingLast;if(-1===y||n[y]!==c)if(s=Dp(c,n,r,s,u),null===d){let R=function Um(n,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==ja(u))return n[Po(u)]}(n,r,u);void 0!==R&&Array.isArray(R)&&(R=Dp(null,n,r,R[1],u),R=vc(R,r.attrs,u),function Cp(n,r,s,u){n[Po(s?r.classBindings:r.styleBindings)]=u}(n,r,u,R))}else d=function bh(n,r,s){let u;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)u=vc(u,n[d].hostAttrs,s);return vc(u,r.attrs,s)}(n,r,u)}return void 0!==d&&(u?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,u),function _h(n,r,s,u,c,d){let y=d?r.classBindings:r.styleBindings,C=Po(y),R=ja(y);n[u]=s;let ne,z=!1;if(Array.isArray(s)){const Re=s;ne=Re[1],(null===ne||Ro(Re,ne)>0)&&(z=!0)}else ne=s;if(c)if(0!==R){const st=Po(n[C+1]);n[u+1]=bl(st,C),0!==st&&(n[st+1]=fu(n[st+1],u)),n[C+1]=function Bu(n,r){return 131071&n|r<<17}(n[C+1],u)}else n[u+1]=bl(C,0),0!==C&&(n[C+1]=fu(n[C+1],u)),C=u;else n[u+1]=bl(R,0),0===C?C=u:n[R+1]=fu(n[R+1],u),R=u;z&&(n[u+1]=Vu(n[u+1])),yc(n,ne,u,!0),yc(n,ne,u,!1),function Nm(n,r,s,u,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&Ro(d,r)>=0&&(s[u+1]=Uu(s[u+1]))}(r,ne,n,u,d),y=bl(C,R),d?r.classBindings=y:r.styleBindings=y}(c,d,r,s,y,u)}}(d,n,y,u),r!==kr&&Qs(c,y,r)&&function jm(n,r,s,u,c,d,y,C){if(!(3&r.type))return;const R=n.data,z=R[C+1];Eh(function wg(n){return 1==(1&n)}(z)?Hm(R,r,s,c,ja(z),y):void 0)||(Eh(d)||function uf(n){return 2==(2&n)}(z)&&(d=Hm(R,null,s,c,C,y)),function vg(n,r,s,u,c){const d=Fe(n);if(r)c?d?n.addClass(s,u):s.classList.add(u):d?n.removeClass(s,u):s.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:ma.DashCase;if(null==c)d?n.removeStyle(s,u,y):s.style.removeProperty(u);else{const C="string"==typeof c&&c.endsWith("!important");C&&(c=c.slice(0,-10),y|=ma.Important),d?n.setStyle(s,u,c,y):s.style.setProperty(u,c,C?"important":"")}}}(u,y,Pt(Wi(),s),c,d))}(d,d.data[Wi()],c,c[11],n,c[y+1]=function Fv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Z(Zo(n)))),n}(r,s),u,y)}(n,r,null,!0),Ep}function Dp(n,r,s,u,c){let d=null;const y=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<y&&(d=r[C],u=vc(u,d.hostAttrs,c),d!==n);)C++;return null!==n&&(s.directiveStylingLast=C),u}function vc(n,r,s){const u=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const y=r[d];"number"==typeof y?c=y:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ui(n,y,!!s||r[++d]))}return void 0===n?null:n}function Hm(n,r,s,u,c,d){const y=null===r;let C;for(;c>0;){const R=n[c],z=Array.isArray(R),ne=z?R[1]:R,Re=null===ne;let st=s[c+1];st===kr&&(st=Re?Xt:void 0);let Et=Re?go(st,u):ne===u?st:void 0;if(z&&!Eh(Et)&&(Et=go(R,u)),Eh(Et)&&(C=Et,y))return C;const Wt=n[c+1];c=y?Po(Wt):ja(Wt)}if(null!==r){let R=d?r.residualClasses:r.residualStyles;null!=R&&(C=go(R,u))}return C}function Eh(n){return void 0!==n}function Tp(n,r=""){const s=Kt(),u=jr(),c=n+20,d=u.firstCreatePass?tc(u,c,1,r,null):u.data[c],y=s[c]=function Yh(n,r){return Fe(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Ua(u,s,y,d),xs(d,!1)}function wh(n){return Ih("",n,""),wh}function Ih(n,r,s){const u=Kt(),c=function xl(n,r,s,u){return Qs(n,Ls(),s)?r+ke(s)+u:kr}(u,n,r,s);return c!==kr&&ya(u,Wi(),c),Ih}const Fl=void 0;var Ec=["en",[["a","p"],["AM","PM"],Fl],[["AM","PM"],Fl,Fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fl,"{1} 'at' {0}",Fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kp(n){const s=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let ta={};function wu(n){const r=function zv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=ry(r);if(s)return s;const u=r.split("-")[0];if(s=ry(u),s)return s;if("en"===u)return Ec;throw new Error(`Missing locale data for the locale "${n}".`)}function ny(n){return wu(n)[Sr.PluralCase]}function ry(n){return n in ta||(ta[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),ta[n]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const Th="en-US";let oy=Th;function Jv(n,r,s,u,c){if(n=Pe(n),Array.isArray(n))for(let d=0;d<n.length;d++)Jv(n[d],r,s,u,c);else{const d=jr(),y=Kt();let C=Dl(n)?n:Pe(n.provide),R=Kg(n);const z=fi(),ne=1048575&z.providerIndexes,Re=z.directiveStart,st=z.providerIndexes>>20;if(Dl(n)||!n.multi){const Et=new so(R,c,mc),Wt=e_(C,r,c?ne:ne+st,Re);-1===Wt?(w(Ln(z,y),d,C),Qv(d,n,r.length),r.push(C),z.directiveStart++,z.directiveEnd++,c&&(z.providerIndexes+=1048576),s.push(Et),y.push(Et)):(s[Wt]=Et,y[Wt]=Et)}else{const Et=e_(C,r,ne+st,Re),Wt=e_(C,r,ne,ne+st),wn=Et>=0&&s[Et],Fn=Wt>=0&&s[Wt];if(c&&!Fn||!c&&!wn){w(Ln(z,y),d,C);const sr=function gE(n,r,s,u,c){const d=new so(n,s,mc);return d.multi=[],d.index=r,d.componentProviders=0,p0(d,c,u&&!s),d}(c?pE:fE,s.length,c,u,R);!c&&Fn&&(s[Wt].providerFactory=sr),Qv(d,n,r.length,0),r.push(C),z.directiveStart++,z.directiveEnd++,c&&(z.providerIndexes+=1048576),s.push(sr),y.push(sr)}else Qv(d,n,Et>-1?Et:Wt,p0(s[c?Wt:Et],R,!c&&u));!c&&u&&Fn&&s[Wt].componentProviders++}}}function Qv(n,r,s,u){const c=Dl(r),d=function uv(n){return!!n.useClass}(r);if(c||d){const R=(d?Pe(r.useClass):r).prototype.ngOnDestroy;if(R){const z=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const ne=z.indexOf(s);-1===ne?z.push(s,[u,R]):z[ne+1].push(u,R)}else z.push(s,R)}}}function p0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function e_(n,r,s,u){for(let c=s;c<u;c++)if(r[c]===n)return c;return-1}function fE(n,r,s,u){return t_(this.multi,[])}function pE(n,r,s,u){const c=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Nn(s,s[1],this.providerFactory.index,u);d=C.slice(0,y),t_(c,d);for(let R=y;R<C.length;R++)d.push(C[R])}else d=[],t_(c,d);return d}function t_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function g0(n,r=[]){return s=>{s.providersResolver=(u,c)=>function hE(n,r,s){const u=jr();if(u.firstCreatePass){const c=Vr(n);Jv(s,u.data,u.blueprint,c,!0),Jv(r,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,r)}}class m0{}class vE{resolveComponentFactory(r){throw function yE(n){const r=Error(`No component factory found for ${Z(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let dy=(()=>{class n{}return n.NULL=new vE,n})();function _E(){return Ah(fi(),Kt())}function Ah(n,r){return new Vp(zt(n,r))}let Vp=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=_E,n})();function bE(n){return n instanceof Vp?n.nativeElement:n}class v0{}let EE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function IE(){const n=Kt(),s=L(fi().index,n);return function wE(n){return n[11]}($t(s)?s:n)}(),n})(),CE=(()=>{class n{}return n.\u0275prov=Yt({token:n,providedIn:"root",factory:()=>null}),n})();class _0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const b0=new _0("13.2.7"),n_={};function hy(n,r,s,u,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&u.push(N(d)),yn(d))for(let C=10;C<d.length;C++){const R=d[C],z=R[1].firstChild;null!==z&&hy(R[1],R,z,u)}const y=s.type;if(8&y)hy(n,r,s.child,u);else if(32&y){const C=zh(s,r);let R;for(;R=C();)u.push(R)}else if(16&y){const C=pl(r,s);if(Array.isArray(C))u.push(...C);else{const R=Vc(r[16]);hy(R[1],R,C,u,!0)}}s=c?s.projectionNext:s.next}return u}class Up{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return hy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(yn(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(Oo(r,u),nu(s,u))}this._attachedToViewContainer=!1}fg(this._lView[1],this._lView)}onDestroy(r){Zc(this._lView[1],this._lView,null,r)}markForCheck(){td(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ov(n,r,s){Ms(!0);try{nd(n,r,s)}finally{Ms(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ly(n,r){ml(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new oe(902,"");this._appRef=r}}class DE extends Up{constructor(r){super(r),this._view=r}detectChanges(){jg(this._view)}checkNoChanges(){!function Hg(n){Ms(!0);try{jg(n)}finally{Ms(!1)}}(this._view)}get context(){return null}}class E0 extends dy{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=er(r);return new r_(s,this.ngModule)}}function w0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class r_ extends m0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Hc(n){return n.map(Eg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(r,s,u,c){const d=(c=c||this.ngModule)?function SE(n,r){return{get:(s,u,c)=>{const d=n.get(s,n_,c);return d!==n_||u===n_?d:r.get(s,u,c)}}}(r,c.injector):r,y=d.get(v0,P),C=d.get(CE,null),R=y.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",ne=u?function rc(n,r,s){if(Fe(n))return n.selectRootElement(r,s===on.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}(R,u,this.componentDef.encapsulation):Fd(y.createRenderer(null,this.componentDef),z,function TE(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(z)),Re=this.componentDef.onPush?576:528,st=function ih(n,r){return{components:[],scheduler:n||My,clean:Of,playerHandler:r||null,flags:0}}(),Et=Yc(0,null,null,1,0,null,null,null,null,null),Wt=El(null,Et,st,Re,null,null,y,R,C,d);let wn,Fn;wo(Wt);try{const sr=function Tl(n,r,s,u,c,d){const y=s[1];s[20]=n;const R=tc(y,20,2,"#host",null),z=R.mergedAttrs=r.hostAttrs;null!==z&&(rd(R,z,!0),null!==n&&(_i(c,n,z),null!==R.classes&&yl(c,n,R.classes),null!==R.styles&&Bd(c,n,R.styles)));const ne=u.createRenderer(n,r),Re=El(s,Wd(r),null,r.onPush?64:16,s[20],R,u,ne,d||null,null);return y.firstCreatePass&&(w(Ln(R,s),y,r.type),ic(y,R),Zd(R,s.length,1)),Il(s,Re),s[20]=Re}(ne,this.componentDef,Wt,y,R);if(ne)if(u)_i(R,ne,["ng-version",b0.full]);else{const{attrs:sn,classes:Dr}=function $d(n){const r=[],s=[];let u=1,c=2;for(;u<n.length;){let d=n[u];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++u]):8===c&&s.push(d);else{if(!Ns(c))break;c=d}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);sn&&_i(R,ne,sn),Dr&&Dr.length>0&&yl(R,ne,Dr.join(" "))}if(Fn=Sn(Et,20),void 0!==s){const sn=Fn.projection=[];for(let Dr=0;Dr<this.ngContentSelectors.length;Dr++){const ai=s[Dr];sn.push(null!=ai?Array.from(ai):null)}}wn=function qf(n,r,s,u,c){const d=s[1],y=function Kc(n,r,s){const u=fi();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Jc(n,u,r,ju(n,r,1,null),s));const c=Nn(r,n,u.directiveStart,u);Js(c,r);const d=zt(u,r);return d&&Js(d,r),c}(d,s,r);if(u.components.push(y),n[8]=y,c&&c.forEach(R=>R(y,r)),r.contentQueries){const R=fi();r.contentQueries(1,y,R.directiveStart)}const C=fi();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Vs(C.index),Df(s[1],C,0,C.directiveStart,C.directiveEnd,r),Ug(r,y)),y}(sr,this.componentDef,Wt,st,[cv]),us(Et,Wt,null)}finally{aa()}return new xE(this.componentType,wn,Ah(Fn,Wt),Wt,Fn)}}class xE extends class mE{}{constructor(r,s,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new DE(c),this.componentType=r}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class xh{}class I0{}const Mh=new Map;class T0 extends xh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const u=Or(r);this._bootstrapComponents=Ba(u.bootstrap),this._r3Injector=Zg(r,s,[{provide:xh,useValue:this},{provide:dy,useValue:this.componentFactoryResolver}],Z(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Qo.THROW_IF_NOT_FOUND,u=mn.Default){return r===Qo||r===xh||r===Gu?this:this._r3Injector.get(r,s,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class i_ extends I0{constructor(r){super(),this.moduleType=r,null!==Or(r)&&function RE(n){const r=new Set;!function s(u){const c=Or(u,!0),d=c.id;null!==d&&(function C0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Z(r)} vs ${Z(r.name)}`)}(d,Mh.get(d),u),Mh.set(d,u));const y=Ba(c.imports);for(const C of y)r.has(C)||(r.add(C),s(C))}(n)}(r)}create(r){return new T0(this.moduleType,r)}}function S0(n,r,s){const u=Fi()+n,c=Kt();return c[u]===kr?qa(c,u,s?r.call(s):r()):function Sl(n,r){return n[r]}(c,u)}function $p(n,r){const s=n[r];return s===kr?void 0:s}function x0(n,r,s,u,c,d,y){const C=r+s;return function mu(n,r,s,u){const c=Qs(n,r,s);return Qs(n,r+1,u)||c}(n,C,c,d)?qa(n,C+2,y?u.call(y,c,d):u(c,d)):$p(n,C+2)}function P0(n,r){const s=jr();let u;const c=n+20;s.firstCreatePass?(u=function $E(n,r){if(r)for(let s=r.length-1;s>=0;s--){const u=r[s];if(n===u.name)return u}}(r,s.pipeRegistry),s.data[c]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,u.onDestroy)):u=s.data[c];const d=u.factory||(u.factory=yi(u.type)),y=Ye(mc);try{const C=qs(!1),R=d();return qs(C),function pm(n,r,s,u){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=u}(s,Kt(),c,R),R}finally{Ye(y)}}function k0(n,r,s){const u=n+20,c=Kt(),d=g(c,u);return jp(c,u)?function A0(n,r,s,u,c,d){const y=r+s;return Qs(n,y,c)?qa(n,y+1,d?u.call(d,c):u(c)):$p(n,y+1)}(c,Fi(),r,d.transform,s,d):d.transform(s)}function N0(n,r,s,u){const c=n+20,d=Kt(),y=g(d,c);return jp(d,c)?x0(d,Fi(),r,y.transform,s,u,y):y.transform(s,u)}function jp(n,r){return n[1].data[r].pure}function s_(n){return r=>{setTimeout(n,void 0,r)}}const Ju=class zE extends a.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){var c,d,y;let C=r,R=s||(()=>null),z=u;if(r&&"object"==typeof r){const Re=r;C=null===(c=Re.next)||void 0===c?void 0:c.bind(Re),R=null===(d=Re.error)||void 0===d?void 0:d.bind(Re),z=null===(y=Re.complete)||void 0===y?void 0:y.bind(Re)}this.__isAsync&&(R=s_(R),C&&(C=s_(C)),z&&(z=s_(z)));const ne=super.subscribe({next:C,error:R,complete:z});return r instanceof b.w&&r.add(ne),ne}};function WE(){return this._results[lc()]()}class o_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=lc(),u=o_.prototype;u[s]||(u[s]=WE)}get changes(){return this._changes||(this._changes=new Ju)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const c=hs(r);(this._changesDetected=!function Is(n,r,s){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],d=r[u];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hp=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZE,n})();const qE=Hp,YE=class extends qE{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r){const s=this._declarationTContainer.tViews,u=El(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(s)),us(s,u,r),new Up(u)}};function ZE(){return fy(fi(),Kt())}function fy(n,r){return 4&n.type?new YE(r,n,Ah(n,r)):null}let py=(()=>{class n{}return n.__NG_ELEMENT_ID__=KE,n})();function KE(){return B0(fi(),Kt())}const XE=py,F0=class extends XE{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){const r=An(this._hostTNode,this._hostLView);if(xa(r)){const s=$s(r,this._hostLView),u=Do(r);return new Gr(s[1].data[u+8],s)}return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=L0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){const c=r.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(r,s,u,c,d){const y=r&&!function Ao(n){return"function"==typeof n}(r);let C;if(y)C=s;else{const Re=s||{};C=Re.index,u=Re.injector,c=Re.projectableNodes,d=Re.ngModuleRef}const R=y?r:new r_(er(r)),z=u||this.parentInjector;if(!d&&null==R.ngModule){const st=(y?z:this.parentInjector).get(xh,null);st&&(d=st)}const ne=R.create(z,c,void 0,d);return this.insert(ne.hostView,C),ne}insert(r,s){const u=r._lView,c=u[1];if(function de(n){return yn(n[3])}(u)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const Re=u[3],st=new F0(Re,Re[6],Re[3]);st.detach(st.indexOf(r))}}const d=this._adjustIndex(s),y=this._lContainer;!function hg(n,r,s,u){const c=10+u,d=s.length;u>0&&(s[c-1][4]=r),u<d-10?(r[4]=s[c],xn(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function Ht(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(y,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=128}(c,u,y,d);const C=gl(d,y),R=u[11],z=Kl(R,y[7]);return null!==z&&function cg(n,r,s,u,c,d){u[0]=c,u[6]=r,ml(n,u,s,1,c,d)}(c,y[6],R,u,z,C),r.attachToViewContainerRef(),xn(a_(y),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=L0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=Oo(this._lContainer,s);u&&(nu(a_(this._lContainer),s),fg(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=Oo(this._lContainer,s);return u&&null!=nu(a_(this._lContainer),s)?new Up(u):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function L0(n){return n[8]}function a_(n){return n[8]||(n[8]=[])}function B0(n,r){let s;const u=r[n.index];if(yn(u))s=u;else{let c;if(8&n.type)c=N(u);else{const d=r[11];c=d.createComment("");const y=zt(n,r);du(d,Kl(d,y),c,function Jh(n,r){return Fe(n)?n.nextSibling(r):r.nextSibling}(d,y),!1)}r[n.index]=s=xf(u,r,c,n),Il(r,s)}return new F0(s,n,r)}class u_{constructor(r){this.queryList=r,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class l_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<u;d++){const y=s.getByIndex(d);c.push(this.queries[y.indexInDeclarationView].clone())}return new l_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==q0(r,s).matches&&this.queries[s].setDirty()}}class V0{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class c_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,d=this.getByIndex(u).embeddedTView(r,c);d&&(d.indexInDeclarationView=u,null!==s?s.push(d):s=[d])}return null!==s?new c_(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class d_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new d_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(r,s,ew(s,d)),this.matchTNodeWithReadOption(r,s,Vt(s,r,d,!1,!1))}else u===Hp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Vt(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Vp||c===py||c===Hp&&4&s.type)this.addMatch(s.index,-2);else{const d=Vt(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function ew(n,r){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function nw(n,r,s,u){return-1===s?function tw(n,r){return 11&n.type?Ah(n,r):4&n.type?fy(n,r):null}(r,n):-2===s?function rw(n,r,s){return s===Vp?Ah(r,n):s===Hp?fy(r,n):s===py?B0(r,n):void 0}(n,r,u):Nn(n,n[1],s,r)}function U0(n,r,s,u){const c=r[19].queries[u];if(null===c.matches){const d=n.data,y=s.matches,C=[];for(let R=0;R<y.length;R+=2){const z=y[R];C.push(z<0?null:nw(r,d[z],y[R+1],s.metadata.read))}c.matches=C}return c.matches}function h_(n,r,s,u){const c=n.queries.getByIndex(s),d=c.matches;if(null!==d){const y=U0(n,r,c,s);for(let C=0;C<d.length;C+=2){const R=d[C];if(R>0)u.push(y[C/2]);else{const z=d[C+1],ne=r[-R];for(let Re=10;Re<ne.length;Re++){const st=ne[Re];st[17]===st[3]&&h_(st[1],st,z,u)}if(null!==ne[9]){const Re=ne[9];for(let st=0;st<Re.length;st++){const Et=Re[st];h_(Et[1],Et,z,u)}}}}}return u}function $0(n){const r=Kt(),s=jr(),u=Bs();Da(u+1);const c=q0(s,u);if(n.dirty&&m(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?h_(s,r,u,[]):U0(s,r,c,u);n.reset(d,bE),n.notifyOnChanges()}return!0}return!1}function j0(n,r,s){const u=jr();u.firstCreatePass&&(W0(u,new V0(n,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),z0(u,Kt(),r)}function H0(n,r,s,u){const c=jr();if(c.firstCreatePass){const d=fi();W0(c,new V0(r,s,u),d.index),function sw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}z0(c,Kt(),s)}function G0(){return function iw(n,r){return n[19].queries[r].queryList}(Kt(),Bs())}function z0(n,r,s){const u=new o_(4==(4&s));Zc(n,r,u,u.destroy),null===r[19]&&(r[19]=new l_),r[19].queries.push(new u_(u))}function W0(n,r,s){null===n.queries&&(n.queries=new c_),n.queries.track(new d_(r,s))}function q0(n,r){return n.queries.getByIndex(r)}function yy(...n){}const cb=new ki("Application Initializer");let v_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=yy,this.reject=yy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(dp(d))s.push(d);else if(hp(d)){const y=new Promise((C,R)=>{d.subscribe({complete:C,error:R})});s.push(y)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(oi(cb,8))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const db=new ki("AppId",{providedIn:"root",factory:function hb(){return`${__()}${__()}${__()}`}});function __(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fb=new ki("Platform Initializer"),pb=new ki("Platform ID"),gb=new ki("appBootstrapListener");let mb=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Yt({token:n,factory:n.\u0275fac}),n})();const b_=new ki("LocaleId",{providedIn:"root",factory:()=>su(b_,mn.Optional|mn.SkipSelf)||function Iw(){return"undefined"!=typeof $localize&&$localize.locale||Th}()}),Cw=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Dw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Tw=(()=>{class n{compileModuleSync(s){return new i_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),d=Ba(Or(s).declarations).reduce((y,C)=>{const R=er(C);return R&&y.push(new r_(R)),y},[]);return new Dw(u,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Aw=(()=>Promise.resolve(0))();function E_(n){"undefined"==typeof Zone?Aw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Iu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ju(!1),this.onMicrotaskEmpty=new Ju(!1),this.onStable=new Ju(!1),this.onError=new Ju(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function xw(){let n=Mn.requestAnimationFrame,r=Mn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Ow(n){const r=()=>{!function Rw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,I_(n),n.isCheckStableRunning=!0,w_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),I_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,d,y,C)=>{try{return yb(n),s.invokeTask(c,d,y,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),vb(n)}},onInvoke:(s,u,c,d,y,C,R)=>{try{return yb(n),s.invoke(c,d,y,C,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),vb(n)}},onHasTask:(s,u,c,d)=>{s.hasTask(c,d),u===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,I_(n),w_(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,u,c,d)=>(s.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Iu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Iu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,c){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+c,r,Mw,yy,yy);try{return d.runTask(y,s,u)}finally{d.cancelTask(y)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const Mw={};function w_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function I_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vb(n){n._nesting--,w_(n)}class Pw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ju,this.onMicrotaskEmpty=new Ju,this.onStable=new Ju,this.onError=new Ju}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,c){return r.apply(s,u)}}let _b=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Iu.assertNotInAngularZone(),E_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(oi(Iu))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac}),n})(),bb=(()=>{class n{constructor(){this._applications=new Map,C_.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return C_.findTestabilityInTree(this,s,u)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Yt({token:n,factory:n.\u0275fac}),n})();class kw{addToWindow(r){}findTestabilityInTree(r,s,u){return null}}function Nw(n){C_=n}let Cu,C_=new kw;const Eb=new ki("AllowMultipleToken");class Bw{constructor(r,s){this.name=r,this.token=s}}function wb(n,r,s=[]){const u=`Platform: ${r}`,c=new ki(u);return(d=[])=>{let y=Ib();if(!y||y.injector.get(Eb,!1))if(n)n(s.concat(d).concat({provide:c,useValue:!0}));else{const C=s.concat(d).concat({provide:c,useValue:!0},{provide:id,useValue:"platform"});!function Vw(n){if(Cu&&!Cu.destroyed&&!Cu.injector.get(Eb,!1))throw new oe(400,"");Cu=n.get(Cb);const r=n.get(fb,null);r&&r.forEach(s=>s())}(Qo.create({providers:C,name:u}))}return function Uw(n){const r=Ib();if(!r)throw new oe(401,"");return r}()}}function Ib(){return Cu&&!Cu.destroyed?Cu:null}let Cb=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const C=function $w(n,r){let s;return s="noop"===n?new Pw:("zone.js"===n?void 0:n)||new Iu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),R=[{provide:Iu,useValue:C}];return C.run(()=>{const z=Qo.create({providers:R,parent:this.injector,name:s.moduleType.name}),ne=s.create(z),Re=ne.injector.get(Wl,null);if(!Re)throw new oe(402,"");return C.runOutsideAngular(()=>{const st=C.onError.subscribe({next:Et=>{Re.handleError(Et)}});ne.onDestroy(()=>{T_(this._modules,ne),st.unsubscribe()})}),function jw(n,r,s){try{const u=s();return dp(u)?u.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(Re,C,()=>{const st=ne.injector.get(v_);return st.runInitializers(),st.donePromise.then(()=>(function ay(n){et(n,"Expected localeId to be defined"),"string"==typeof n&&(oy=n.toLowerCase().replace(/_/g,"-"))}(ne.injector.get(b_,Th)||Th),this._moduleDoBootstrap(ne),ne))})})}bootstrapModule(s,u=[]){const c=Db({},u);return function Fw(n,r,s){const u=new i_(s);return Promise.resolve(u)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const u=s.injector.get(D_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new oe(403,"");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(oi(Qo))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac}),n})();function Db(n,r){return Array.isArray(r)?r.reduce(Db,n):Object.assign(Object.assign({},n),r)}let D_=(()=>{class n{constructor(s,u,c,d,y){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new U.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),R=new U.y(z=>{let ne;this._zone.runOutsideAngular(()=>{ne=this._zone.onStable.subscribe(()=>{Iu.assertNotInAngularZone(),E_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const Re=this._zone.onUnstable.subscribe(()=>{Iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{ne.unsubscribe(),Re.unsubscribe()}});this.isStable=(0,Ce.T)(C,R.pipe(function X(){return n=>(0,_e.x)()(function K(n,r){return function(u){let c;if(c="function"==typeof n?n:function(){return n},"function"==typeof r)return u.lift(new he(c,r));const d=Object.create(u,Ie.N);return d.source=u,d.subjectFactory=c,d}}(pe)(n))}()))}bootstrap(s,u){if(!this._initStatus.done)throw new oe(405,"");let c;c=s instanceof m0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const d=function Lw(n){return n.isBoundToModule}(c)?void 0:this._injector.get(xh),C=c.create(Qo.NULL,[],u||c.selector,d),R=C.location.nativeElement,z=C.injector.get(_b,null),ne=z&&C.injector.get(bb);return z&&ne&&ne.registerApplication(R,z),C.onDestroy(()=>{this.detachView(C.hostView),T_(this.components,C),ne&&ne.unregisterApplication(R)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new oe(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;T_(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(gb,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(oi(Iu),oi(Qo),oi(Wl),oi(dy),oi(v_))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let Sb=!0,Ab=!1;function Gw(){return Ab=!0,Sb}function zw(){if(Ab)throw new Error("Cannot enable prod mode after platform setup.");Sb=!1}let Ww=(()=>{class n{}return n.__NG_ELEMENT_ID__=qw,n})();function qw(n){return function Yw(n,r,s){if(Bn(n)&&!s){const u=L(n.index,r);return new Up(u,u)}return 47&n.type?new Up(r[16],r):null}(fi(),Kt(),16==(16&n))}class Ob{constructor(){}supports(r){return cc(r)}create(r){return new eI(r)}}const Qw=(n,r)=>r;class eI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Qw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,c=0,d=null;for(;s||u;){const y=!u||s&&s.currentIndex<kb(u,c,d)?s:u,C=kb(y,c,d),R=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{d||(d=[]);const z=C-c,ne=R-c;if(z!=ne){for(let st=0;st<z;st++){const Et=st<d.length?d[st]:d[st]=0,Wt=Et+st;ne<=Wt&&Wt<z&&(d[st]=Et+1)}d[y.previousIndex]=ne-z}}C!==R&&r(y,C,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!cc(r))throw new oe(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,y,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)d=r[C],y=this._trackByFn(C,d),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,d,y,C)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,y,C),u=!0),s=s._next}else c=0,function dm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[lc()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,C=>{y=this._trackByFn(c,C),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,C,y,c)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,y,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new tI(s,u),d,c),r}_verifyReinsertion(r,s,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Pb),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class tI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class Pb{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new nI,this.map.set(s,u)),u.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kb(n,r,s){const u=n.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+r+c}class Nb{constructor(){}supports(r){return r instanceof Map||Jf(r)}create(){return new rI}}class rI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Jf(r)))throw new oe(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,y=c._next;return d&&(d._next=y),y&&(y._prev=d),c._next=null,c._prev=null,c}const u=new iI(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class iI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fb(){return new R_([new Ob])}let R_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||Fb()),deps:[[n,new rl,new Pa]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new oe(901,"")}}return n.\u0275prov=Yt({token:n,providedIn:"root",factory:Fb}),n})();function Lb(){return new O_([new Nb])}let O_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||Lb()),deps:[[n,new rl,new Pa]]}}find(s){const u=this.factories.find(d=>d.supports(s));if(u)return u;throw new oe(901,"")}}return n.\u0275prov=Yt({token:n,providedIn:"root",factory:Lb}),n})();const aI=wb(null,"core",[{provide:pb,useValue:"unknown"},{provide:Cb,deps:[Qo]},{provide:bb,deps:[]},{provide:mb,deps:[]}]);let uI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(oi(D_))},n.\u0275mod=bn({type:n}),n.\u0275inj=pn({}),n})()},4182:(an,ct,M)=>{"use strict";M.d(ct,{Fj:()=>ye,qu:()=>V,u:()=>mi,sg:()=>Ri,u5:()=>g,JU:()=>se,a5:()=>Ft,JJ:()=>Zn,JL:()=>mn,F:()=>be,On:()=>On,UX:()=>L,Q7:()=>k,kI:()=>_t,_Y:()=>Bn});var a=M(6435),b=M(9808),U=M(2916),Ce=M(6688),Ie=M(4850),K=M(7830),he=M(5254);function pe(S,A){return new U.y(T=>{const G=S.length;if(0===G)return void T.complete();const Tt=new Array(G);let gn=0,Er=0;for(let Zr=0;Zr<G;Zr++){const Ci=(0,he.D)(S[Zr]);let Ai=!1;T.add(Ci.subscribe({next:xi=>{Ai||(Ai=!0,Er++),Tt[Zr]=xi},error:xi=>T.error(xi),complete:()=>{gn++,(gn===G||!Ai)&&(Er===G&&T.next(A?A.reduce((xi,Kt,jr)=>(xi[Kt]=Tt[jr],xi),{}):Tt),T.complete())}}))}})}let X=(()=>{class S{constructor(T,G){this._renderer=T,this._elementRef=G,this.onChange=Tt=>{},this.onTouched=()=>{}}setProperty(T,G){this._renderer.setProperty(this._elementRef.nativeElement,T,G)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return S.\u0275fac=function(T){return new(T||S)(a.Y36(a.Qsj),a.Y36(a.SBq))},S.\u0275dir=a.lG2({type:S}),S})(),J=(()=>{class S extends X{}return S.\u0275fac=function(){let A;return function(G){return(A||(A=a.n5z(S)))(G||S)}}(),S.\u0275dir=a.lG2({type:S,features:[a.qOj]}),S})();const se=new a.OlP("NgValueAccessor"),Xe={provide:se,useExisting:(0,a.Gpc)(()=>ye),multi:!0},Pe=new a.OlP("CompositionEventMode");let ye=(()=>{class S extends X{constructor(T,G,Tt){super(T,G),this._compositionMode=Tt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const S=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(T){this.setProperty("value",null==T?"":T)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return S.\u0275fac=function(T){return new(T||S)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Pe,8))},S.\u0275dir=a.lG2({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,G){1&T&&a.NdJ("input",function(gn){return G._handleInput(gn.target.value)})("blur",function(){return G.onTouched()})("compositionstart",function(){return G._compositionStart()})("compositionend",function(gn){return G._compositionEnd(gn.target.value)})},features:[a._Bn([Xe]),a.qOj]}),S})();function ot(S){return null==S||0===S.length}function oe(S){return null!=S&&"number"==typeof S.length}const ut=new a.OlP("NgValidators"),ke=new a.OlP("NgAsyncValidators"),at=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _t{static min(A){return function He(S){return A=>{if(ot(A.value)||ot(S))return null;const T=parseFloat(A.value);return!isNaN(T)&&T<S?{min:{min:S,actual:A.value}}:null}}(A)}static max(A){return function wt(S){return A=>{if(ot(A.value)||ot(S))return null;const T=parseFloat(A.value);return!isNaN(T)&&T>S?{max:{max:S,actual:A.value}}:null}}(A)}static required(A){return ve(A)}static requiredTrue(A){return function Ve(S){return!0===S.value?null:{required:!0}}(A)}static email(A){return function me(S){return ot(S.value)||at.test(S.value)?null:{email:!0}}(A)}static minLength(A){return function Te(S){return A=>ot(A.value)||!oe(A.value)?null:A.value.length<S?{minlength:{requiredLength:S,actualLength:A.value.length}}:null}(A)}static maxLength(A){return function De(S){return A=>oe(A.value)&&A.value.length>S?{maxlength:{requiredLength:S,actualLength:A.value.length}}:null}(A)}static pattern(A){return function qe(S){if(!S)return qt;let A,T;return"string"==typeof S?(T="","^"!==S.charAt(0)&&(T+="^"),T+=S,"$"!==S.charAt(S.length-1)&&(T+="$"),A=new RegExp(T)):(T=S.toString(),A=S),G=>{if(ot(G.value))return null;const Tt=G.value;return A.test(Tt)?null:{pattern:{requiredPattern:T,actualValue:Tt}}}}(A)}static nullValidator(A){return null}static compose(A){return gt(A)}static composeAsync(A){return je(A)}}function ve(S){return ot(S.value)?{required:!0}:null}function qt(S){return null}function tn(S){return null!=S}function bt(S){const A=(0,a.QGY)(S)?(0,he.D)(S):S;return(0,a.CqO)(A),A}function pt(S){let A={};return S.forEach(T=>{A=null!=T?Object.assign(Object.assign({},A),T):A}),0===Object.keys(A).length?null:A}function dt(S,A){return A.map(T=>T(S))}function lt(S){return S.map(A=>function ze(S){return!S.validate}(A)?A:T=>A.validate(T))}function gt(S){if(!S)return null;const A=S.filter(tn);return 0==A.length?null:function(T){return pt(dt(T,A))}}function et(S){return null!=S?gt(lt(S)):null}function je(S){if(!S)return null;const A=S.filter(tn);return 0==A.length?null:function(T){return function _e(...S){if(1===S.length){const A=S[0];if((0,Ce.k)(A))return pe(A,null);if((0,K.K)(A)&&Object.getPrototypeOf(A)===Object.prototype){const T=Object.keys(A);return pe(T.map(G=>A[G]),T)}}if("function"==typeof S[S.length-1]){const A=S.pop();return pe(S=1===S.length&&(0,Ce.k)(S[0])?S[0]:S,null).pipe((0,Ie.U)(T=>A(...T)))}return pe(S,null)}(dt(T,A).map(bt)).pipe((0,Ie.U)(pt))}}function Oe(S){return null!=S?je(lt(S)):null}function Dt(S,A){return null===S?[A]:Array.isArray(S)?[...S,A]:[S,A]}function Gt(S){return S._rawValidators}function Yt(S){return S._rawAsyncValidators}function ln(S){return S?Array.isArray(S)?S:[S]:[]}function pn(S,A){return Array.isArray(S)?S.includes(A):S===A}function or(S,A){const T=ln(A);return ln(S).forEach(Tt=>{pn(T,Tt)||T.push(Tt)}),T}function vn(S,A){return ln(A).filter(T=>!pn(S,T))}class jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=et(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,T){return!!this.control&&this.control.hasError(A,T)}getError(A,T){return this.control?this.control.getError(A,T):null}}class Ft extends jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pn extends jn{get formDirective(){return null}get path(){return null}}class nr{constructor(A){this._cd=A}is(A){var T,G,Tt;return"submitted"===A?!!(null===(T=this._cd)||void 0===T?void 0:T.submitted):!!(null===(Tt=null===(G=this._cd)||void 0===G?void 0:G.control)||void 0===Tt?void 0:Tt[A])}}let Zn=(()=>{class S extends nr{constructor(T){super(T)}}return S.\u0275fac=function(T){return new(T||S)(a.Y36(Ft,2))},S.\u0275dir=a.lG2({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,G){2&T&&a.ekj("ng-untouched",G.is("untouched"))("ng-touched",G.is("touched"))("ng-pristine",G.is("pristine"))("ng-dirty",G.is("dirty"))("ng-valid",G.is("valid"))("ng-invalid",G.is("invalid"))("ng-pending",G.is("pending"))},features:[a.qOj]}),S})(),mn=(()=>{class S extends nr{constructor(T){super(T)}}return S.\u0275fac=function(T){return new(T||S)(a.Y36(Pn,10))},S.\u0275dir=a.lG2({type:S,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,G){2&T&&a.ekj("ng-untouched",G.is("untouched"))("ng-touched",G.is("touched"))("ng-pristine",G.is("pristine"))("ng-dirty",G.is("dirty"))("ng-valid",G.is("valid"))("ng-invalid",G.is("invalid"))("ng-pending",G.is("pending"))("ng-submitted",G.is("submitted"))},features:[a.qOj]}),S})();function cn(S,A){return[...A.path,S]}function Ct(S,A){Un(S,A),A.valueAccessor.writeValue(S.value),function we(S,A){A.valueAccessor.registerOnChange(T=>{S._pendingValue=T,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&It(S,A)})}(S,A),function ge(S,A){const T=(G,Tt)=>{A.valueAccessor.writeValue(G),Tt&&A.viewToModelUpdate(G)};S.registerOnChange(T),A._registerOnDestroy(()=>{S._unregisterOnChange(T)})}(S,A),function Je(S,A){A.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&It(S,A),"submit"!==S.updateOn&&S.markAsTouched()})}(S,A),function _n(S,A){if(A.valueAccessor.setDisabledState){const T=G=>{A.valueAccessor.setDisabledState(G)};S.registerOnDisabledChange(T),A._registerOnDestroy(()=>{S._unregisterOnDisabledChange(T)})}}(S,A)}function Xt(S,A,T=!0){const G=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(G),A.valueAccessor.registerOnTouched(G)),Le(S,A),S&&(A._invokeOnDestroyCallbacks(),S._registerOnCollectionChange(()=>{}))}function Cn(S,A){S.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(A)})}function Un(S,A){const T=Gt(S);null!==A.validator?S.setValidators(Dt(T,A.validator)):"function"==typeof T&&S.setValidators([T]);const G=Yt(S);null!==A.asyncValidator?S.setAsyncValidators(Dt(G,A.asyncValidator)):"function"==typeof G&&S.setAsyncValidators([G]);const Tt=()=>S.updateValueAndValidity();Cn(A._rawValidators,Tt),Cn(A._rawAsyncValidators,Tt)}function Le(S,A){let T=!1;if(null!==S){if(null!==A.validator){const Tt=Gt(S);if(Array.isArray(Tt)&&Tt.length>0){const gn=Tt.filter(Er=>Er!==A.validator);gn.length!==Tt.length&&(T=!0,S.setValidators(gn))}}if(null!==A.asyncValidator){const Tt=Yt(S);if(Array.isArray(Tt)&&Tt.length>0){const gn=Tt.filter(Er=>Er!==A.asyncValidator);gn.length!==Tt.length&&(T=!0,S.setAsyncValidators(gn))}}}const G=()=>{};return Cn(A._rawValidators,G),Cn(A._rawAsyncValidators,G),T}function It(S,A){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function Ee(S,A){Un(S,A)}function En(S,A){if(!S.hasOwnProperty("model"))return!1;const T=S.model;return!!T.isFirstChange()||!Object.is(A,T.currentValue)}function Rn(S,A){S._syncPendingControls(),A.forEach(T=>{const G=T.control;"submit"===G.updateOn&&G._pendingChange&&(T.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}function er(S,A){if(!A)return null;let T,G,Tt;return Array.isArray(A),A.forEach(gn=>{gn.constructor===ye?T=gn:function Jn(S){return Object.getPrototypeOf(S.constructor)===J}(gn)?G=gn:Tt=gn}),Tt||G||T||null}function tr(S,A){const T=S.indexOf(A);T>-1&&S.splice(T,1)}const Yr="VALID",Wr="INVALID",wr="PENDING",rr="DISABLED";function gr(S){return(kn(S)?S.validators:S)||null}function Pr(S){return Array.isArray(S)?et(S):S||null}function Lr(S,A){return(kn(A)?A.asyncValidators:S)||null}function en(S){return Array.isArray(S)?Oe(S):S||null}function kn(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}const _r=S=>S instanceof ni,dr=S=>S instanceof zn,ri=S=>S instanceof ui;function Br(S){return _r(S)?S.value:S.getRawValue()}function si(S,A){const T=dr(S),G=S.controls;if(!(T?Object.keys(G):G).length)throw new a.vHH(1e3,"");if(!G[A])throw new a.vHH(1001,"")}function Hn(S,A){dr(S),S._forEachChild((G,Tt)=>{if(void 0===A[Tt])throw new a.vHH(1002,"")})}class ci{constructor(A,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=A,this._rawAsyncValidators=T,this._composedValidatorFn=Pr(this._rawValidators),this._composedAsyncValidatorFn=en(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===Yr}get invalid(){return this.status===Wr}get pending(){return this.status==wr}get disabled(){return this.status===rr}get enabled(){return this.status!==rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._rawValidators=A,this._composedValidatorFn=Pr(A)}setAsyncValidators(A){this._rawAsyncValidators=A,this._composedAsyncValidatorFn=en(A)}addValidators(A){this.setValidators(or(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(or(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(vn(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(vn(A,this._rawAsyncValidators))}hasValidator(A){return pn(this._rawValidators,A)}hasAsyncValidator(A){return pn(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=wr,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=rr,this.errors=null,this._forEachChild(G=>{G.disable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:T})),this._onDisabledChange.forEach(G=>G(!0))}enable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=Yr,this._forEachChild(G=>{G.enable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:T})),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yr||this.status===wr)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rr:Yr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=wr,this._hasOwnPendingAsyncValidator=!0;const T=bt(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,T={}){this.errors=A,this._updateControlsErrors(!1!==T.emitEvent)}get(A){return function mr(S,A,T){if(null==A||(Array.isArray(A)||(A=A.split(T)),Array.isArray(A)&&0===A.length))return null;let G=S;return A.forEach(Tt=>{G=dr(G)?G.controls.hasOwnProperty(Tt)?G.controls[Tt]:null:ri(G)&&G.at(Tt)||null}),G}(this,A,".")}getError(A,T){const G=T?this.get(T):this;return G&&G.errors?G.errors[A]:null}hasError(A,T){return!!this.getError(A,T)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?rr:this.errors?Wr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wr)?wr:this._anyControlsHaveStatus(Wr)?Wr:Yr}_anyControlsHaveStatus(A){return this._anyControls(T=>T.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_isBoxedValue(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){kn(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ni extends ci{constructor(A=null,T,G){super(gr(T),Lr(G,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kn(T)&&T.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(A)?A.value:A)}setValue(A,T={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(A,T={}){this.setValue(A,T)}reset(A=this.defaultValue,T={}){this._applyFormState(A),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){tr(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){tr(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){this._isBoxedValue(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}}class zn extends ci{constructor(A,T,G){super(gr(T),Lr(G,T)),this.controls=A,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,T){return this.controls[A]?this.controls[A]:(this.controls[A]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(A,T,G={}){this.registerControl(A,T),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(A,T={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(A,T,G={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],T&&this.registerControl(A,T),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,T={}){Hn(this,A),Object.keys(A).forEach(G=>{si(this,G),this.controls[G].setValue(A[G],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(A,T={}){null!=A&&(Object.keys(A).forEach(G=>{this.controls[G]&&this.controls[G].patchValue(A[G],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(A={},T={}){this._forEachChild((G,Tt)=>{G.reset(A[Tt],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(A,T,G)=>(A[G]=Br(T),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(T,G)=>!!G._syncPendingControls()||T);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(T=>{const G=this.controls[T];G&&A(G,T)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const T of Object.keys(this.controls)){const G=this.controls[T];if(this.contains(T)&&A(G))return!0}return!1}_reduceValue(){return this._reduceChildren({},(A,T,G)=>((T.enabled||this.disabled)&&(A[G]=T.value),A))}_reduceChildren(A,T){let G=A;return this._forEachChild((Tt,gn)=>{G=T(G,Tt,gn)}),G}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ui extends ci{constructor(A,T,G){super(gr(T),Lr(G,T)),this.controls=A,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(A){return this.controls[A]}push(A,T={}){this.controls.push(A),this._registerControl(A),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(A,T,G={}){this.controls.splice(A,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:G.emitEvent})}removeAt(A,T={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(A,T,G={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),T&&(this.controls.splice(A,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(A,T={}){Hn(this,A),A.forEach((G,Tt)=>{si(this,Tt),this.at(Tt).setValue(G,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(A,T={}){null!=A&&(A.forEach((G,Tt)=>{this.at(Tt)&&this.at(Tt).patchValue(G,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(A=[],T={}){this._forEachChild((G,Tt)=>{G.reset(A[Tt],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(A=>Br(A))}clear(A={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:A.emitEvent}))}_syncPendingControls(){let A=this.controls.reduce((T,G)=>!!G._syncPendingControls()||T,!1);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){this.controls.forEach((T,G)=>{A(T,G)})}_updateValue(){this.value=this.controls.filter(A=>A.enabled||this.disabled).map(A=>A.value)}_anyControls(A){return this.controls.some(T=>T.enabled&&A(T))}_setUpControls(){this._forEachChild(A=>this._registerControl(A))}_allControlsDisabled(){for(const A of this.controls)if(A.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(A){A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)}}const ii={provide:Pn,useExisting:(0,a.Gpc)(()=>be)},ee=(()=>Promise.resolve(null))();let be=(()=>{class S extends Pn{constructor(T,G){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new zn({},et(T),Oe(G))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(T){ee.then(()=>{const G=this._findContainer(T.path);T.control=G.registerControl(T.name,T.control),Ct(T.control,T),T.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(T)})}getControl(T){return this.form.get(T.path)}removeControl(T){ee.then(()=>{const G=this._findContainer(T.path);G&&G.removeControl(T.name),this._directives.delete(T)})}addFormGroup(T){ee.then(()=>{const G=this._findContainer(T.path),Tt=new zn({});Ee(Tt,T),G.registerControl(T.name,Tt),Tt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(T){ee.then(()=>{const G=this._findContainer(T.path);G&&G.removeControl(T.name)})}getFormGroup(T){return this.form.get(T.path)}updateModel(T,G){ee.then(()=>{this.form.get(T.path).setValue(G)})}setValue(T){this.control.setValue(T)}onSubmit(T){return this.submitted=!0,Rn(this.form,this._directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(T){return T.pop(),T.length?this.form.get(T):this.form}}return S.\u0275fac=function(T){return new(T||S)(a.Y36(ut,10),a.Y36(ke,10))},S.\u0275dir=a.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(T,G){1&T&&a.NdJ("submit",function(gn){return G.onSubmit(gn)})("reset",function(){return G.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([ii]),a.qOj]}),S})();const $t={provide:Ft,useExisting:(0,a.Gpc)(()=>On)},yn=(()=>Promise.resolve(null))();let On=(()=>{class S extends Ft{constructor(T,G,Tt,gn,Er){super(),this._changeDetectorRef=Er,this.control=new ni,this._registered=!1,this.update=new a.vpe,this._parent=T,this._setValidators(G),this._setAsyncValidators(Tt),this.valueAccessor=er(0,gn)}ngOnChanges(T){if(this._checkForErrors(),!this._registered||"name"in T){if(this._registered&&(this._checkName(),this.formDirective)){const G=T.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in T&&this._updateDisabled(T),En(T,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ct(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(T){yn.then(()=>{var G;this.control.setValue(T,{emitViewToModelChange:!1}),null===(G=this._changeDetectorRef)||void 0===G||G.markForCheck()})}_updateDisabled(T){const G=T.isDisabled.currentValue,Tt=""===G||G&&"false"!==G;yn.then(()=>{var gn;Tt&&!this.control.disabled?this.control.disable():!Tt&&this.control.disabled&&this.control.enable(),null===(gn=this._changeDetectorRef)||void 0===gn||gn.markForCheck()})}_getPath(T){return this._parent?cn(T,this._parent):[T]}}return S.\u0275fac=function(T){return new(T||S)(a.Y36(Pn,9),a.Y36(ut,10),a.Y36(ke,10),a.Y36(se,10),a.Y36(a.sBO,8))},S.\u0275dir=a.lG2({type:S,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([$t]),a.qOj,a.TTD]}),S})(),Bn=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275dir=a.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),S})(),tt=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=a.oAB({type:S}),S.\u0275inj=a.cJS({}),S})();const xr=new a.OlP("NgModelWithFormControlWarning"),di={provide:Pn,useExisting:(0,a.Gpc)(()=>Ri)};let Ri=(()=>{class S extends Pn{constructor(T,G){super(),this.validators=T,this.asyncValidators=G,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(T),this._setAsyncValidators(G)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Le(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const G=this.form.get(T.path);return Ct(G,T),G.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),G}getControl(T){return this.form.get(T.path)}removeControl(T){Xt(T.control||null,T,!1),tr(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,G){this.form.get(T.path).setValue(G)}onSubmit(T){return this.submitted=!0,Rn(this.form,this.directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const G=T.control,Tt=this.form.get(T.path);G!==Tt&&(Xt(G||null,T),_r(Tt)&&(Ct(Tt,T),T.control=Tt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const G=this.form.get(T.path);Ee(G,T),G.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const G=this.form.get(T.path);G&&function Ae(S,A){return Le(S,A)}(G,T)&&G.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Un(this.form,this),this._oldForm&&Le(this._oldForm,this)}_checkFormPresent(){}}return S.\u0275fac=function(T){return new(T||S)(a.Y36(ut,10),a.Y36(ke,10))},S.\u0275dir=a.lG2({type:S,selectors:[["","formGroup",""]],hostBindings:function(T,G){1&T&&a.NdJ("submit",function(gn){return G.onSubmit(gn)})("reset",function(){return G.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([di]),a.qOj,a.TTD]}),S})();const zi={provide:Ft,useExisting:(0,a.Gpc)(()=>mi)};let mi=(()=>{class S extends Ft{constructor(T,G,Tt,gn,Er){super(),this._ngModelWarningConfig=Er,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(G),this._setAsyncValidators(Tt),this.valueAccessor=er(0,gn)}set isDisabled(T){}ngOnChanges(T){this._added||this._setUpControl(),En(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return cn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return S._ngModelWarningSentOnce=!1,S.\u0275fac=function(T){return new(T||S)(a.Y36(Pn,13),a.Y36(ut,10),a.Y36(ke,10),a.Y36(se,10),a.Y36(xr,8))},S.\u0275dir=a.lG2({type:S,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([zi]),a.qOj,a.TTD]}),S})(),Ot=(()=>{class S{constructor(){this._validator=qt}ngOnChanges(T){if(this.inputName in T){const G=this.normalizeInput(T[this.inputName].currentValue);this._enabled=this.enabled(G),this._validator=this._enabled?this.createValidator(G):qt,this._onChange&&this._onChange()}}validate(T){return this._validator(T)}registerOnValidatorChange(T){this._onChange=T}enabled(T){return null!=T}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275dir=a.lG2({type:S,features:[a.TTD]}),S})();const Ir={provide:ut,useExisting:(0,a.Gpc)(()=>k),multi:!0};let k=(()=>{class S extends Ot{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=T=>function Ze(S){return null!=S&&!1!==S&&"false"!=`${S}`}(T),this.createValidator=T=>ve}enabled(T){return T}}return S.\u0275fac=function(){let A;return function(G){return(A||(A=a.n5z(S)))(G||S)}}(),S.\u0275dir=a.lG2({type:S,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(T,G){2&T&&a.uIk("required",G._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Ir]),a.qOj]}),S})(),Sn=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=a.oAB({type:S}),S.\u0275inj=a.cJS({imports:[[tt]]}),S})(),g=(()=>{class S{}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=a.oAB({type:S}),S.\u0275inj=a.cJS({imports:[Sn]}),S})(),L=(()=>{class S{static withConfig(T){return{ngModule:S,providers:[{provide:xr,useValue:T.warnOnNgModelWithFormControl}]}}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=a.oAB({type:S}),S.\u0275inj=a.cJS({imports:[Sn]}),S})(),V=(()=>{class S{group(T,G=null){const Tt=this._reduceControls(T);let Zr,gn=null,Er=null;return null!=G&&(function m(S){return void 0!==S.asyncValidators||void 0!==S.validators||void 0!==S.updateOn}(G)?(gn=null!=G.validators?G.validators:null,Er=null!=G.asyncValidators?G.asyncValidators:null,Zr=null!=G.updateOn?G.updateOn:void 0):(gn=null!=G.validator?G.validator:null,Er=null!=G.asyncValidator?G.asyncValidator:null)),new zn(Tt,{asyncValidators:Er,updateOn:Zr,validators:gn})}control(T,G,Tt){return new ni(T,G,Tt)}array(T,G,Tt){const gn=T.map(Er=>this._createControl(Er));return new ui(gn,G,Tt)}_reduceControls(T){const G={};return Object.keys(T).forEach(Tt=>{G[Tt]=this._createControl(T[Tt])}),G}_createControl(T){return _r(T)||dr(T)||ri(T)?T:Array.isArray(T)?this.control(T[0],T.length>1?T[1]:null,T.length>2?T[2]:null):this.control(T)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:L}),S})()},2589:(an,ct,M)=>{"use strict";M.d(ct,{gz:()=>kt,y6:()=>Ir,OD:()=>Ft,eC:()=>on,wm:()=>xu,wN:()=>Vs,F0:()=>ts,rH:()=>so,yS:()=>$o,Bz:()=>Do,Hx:()=>Yr});var a=M(6435),b=M(2866),U=M(6688),Ce=M(3489);class Ie extends Ce.L{notifyNext(v,E,F,H,ue){this.destination.next(E)}notifyError(v,E){this.destination.error(v)}notifyComplete(v){this.destination.complete()}}class K extends Ce.L{constructor(v,E,F){super(),this.parent=v,this.outerValue=E,this.outerIndex=F,this.index=0}_next(v){this.parent.notifyNext(this.outerValue,v,this.outerIndex,this.index++,this)}_error(v){this.parent.notifyError(v,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var he=M(9249),_e=M(2916);function pe(w,v,E,F,H=new K(w,E,F)){if(!H.closed)return v instanceof _e.y?v.subscribe(H):(0,he.s)(v)(H)}var X=M(3009);const J={};class Z{constructor(v){this.resultSelector=v}call(v,E){return E.subscribe(new Ne(v,this.resultSelector))}}class Ne extends Ie{constructor(v,E){super(v),this.resultSelector=E,this.active=0,this.values=[],this.observables=[]}_next(v){this.values.push(J),this.observables.push(v)}_complete(){const v=this.observables,E=v.length;if(0===E)this.destination.complete();else{this.active=E,this.toRespond=E;for(let F=0;F<E;F++)this.add(pe(this,v[F],void 0,F))}}notifyComplete(v){0==(this.active-=1)&&this.destination.complete()}notifyNext(v,E,F){const H=this.values,Be=this.toRespond?H[F]===J?--this.toRespond:this.toRespond:0;H[F]=E,0===Be&&(this.resultSelector?this._tryResultSelector(H):this.destination.next(H.slice()))}_tryResultSelector(v){let E;try{E=this.resultSelector.apply(this,v)}catch(F){return void this.destination.error(F)}this.destination.next(E)}}var Xe=M(5254),fe=M(8896);function Pe(w){return new _e.y(v=>{let E;try{E=w()}catch(H){return void v.error(H)}return(E?(0,Xe.D)(E):(0,fe.c)()).subscribe(v)})}var ye=M(1086),ot=M(591),oe=M(1737),ut=M(4450),ke=M(1221),at=M(1762),_t=M(8929),He=M(1177);function wt(w){return function(E){const F=new ve(w),H=E.lift(F);return F.caught=H}}class ve{constructor(v){this.selector=v}call(v,E){return E.subscribe(new Ve(v,this.selector,this.caught))}}class Ve extends He.Ds{constructor(v,E,F){super(v),this.selector=E,this.caught=F}error(v){if(!this.isStopped){let E;try{E=this.selector(v,this.caught)}catch(ue){return void super.error(ue)}this._unsubscribeAndRecycle();const F=new He.IY(this);this.add(F);const H=(0,He.ft)(E,F);H!==F&&this.add(H)}}}var me=M(2198),Te=M(4231);function De(w){return function(E){return 0===w?(0,fe.c)():E.lift(new qe(w))}}class qe{constructor(v){if(this.total=v,this.total<0)throw new Te.W}call(v,E){return E.subscribe(new qt(v,this.total))}}class qt extends Ce.L{constructor(v,E){super(v),this.total=E,this.ring=new Array,this.count=0}_next(v){const E=this.ring,F=this.total,H=this.count++;E.length<F?E.push(v):E[H%F]=v}_complete(){const v=this.destination;let E=this.count;if(E>0){const F=this.count>=this.total?this.total:this.count,H=this.ring;for(let ue=0;ue<F;ue++){const Be=E++%F;v.next(H[Be])}}v.complete()}}var tn=M(4907),bt=M(7314),pt=M(5379),ze=M(4850),lt=M(7545),gt=M(2986),et=M(1059),je=M(2014),Oe=M(1406),Dt=M(7224),Gt=M(1709),Yt=M(2868),ln=M(4327),pn=M(537),or=M(9146),vn=M(9808);class jn{constructor(v,E){this.id=v,this.url=E}}class Ft extends jn{constructor(v,E,F="imperative",H=null){super(v,E),this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pn extends jn{constructor(v,E,F){super(v,E),this.urlAfterRedirects=F}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nr extends jn{constructor(v,E,F){super(v,E),this.reason=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yn extends jn{constructor(v,E,F){super(v,E),this.error=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gn extends jn{constructor(v,E,F,H){super(v,E),this.urlAfterRedirects=F,this.state=H}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends jn{constructor(v,E,F,H){super(v,E),this.urlAfterRedirects=F,this.state=H}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn extends jn{constructor(v,E,F,H,ue){super(v,E),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=ue}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class At extends jn{constructor(v,E,F,H){super(v,E),this.urlAfterRedirects=F,this.state=H}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends jn{constructor(v,E,F,H){super(v,E),this.urlAfterRedirects=F,this.state=H}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jt{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xt{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ut{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(v,E,F){this.routerEvent=v,this.position=E,this.anchor=F}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const on="primary";class Fr{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const E=this.params[v];return Array.isArray(E)?E[0]:E}return null}getAll(v){if(this.has(v)){const E=this.params[v];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function fr(w){return new Fr(w)}const Vn="ngNavigationCancelingError";function In(w){const v=Error("NavigationCancelingError: "+w);return v[Vn]=!0,v}function Kn(w,v,E){const F=E.path.split("/");if(F.length>w.length||"full"===E.pathMatch&&(v.hasChildren()||F.length<w.length))return null;const H={};for(let ue=0;ue<F.length;ue++){const Be=F[ue],nt=w[ue];if(Be.startsWith(":"))H[Be.substring(1)]=nt;else if(Be!==nt.path)return null}return{consumed:w.slice(0,F.length),posParams:H}}function Ct(w,v){const E=w?Object.keys(w):void 0,F=v?Object.keys(v):void 0;if(!E||!F||E.length!=F.length)return!1;let H;for(let ue=0;ue<E.length;ue++)if(H=E[ue],!Xt(w[H],v[H]))return!1;return!0}function Xt(w,v){if(Array.isArray(w)&&Array.isArray(v)){if(w.length!==v.length)return!1;const E=[...w].sort(),F=[...v].sort();return E.every((H,ue)=>F[ue]===H)}return w===v}function Cn(w){return Array.prototype.concat.apply([],w)}function _n(w){return w.length>0?w[w.length-1]:null}function Le(w,v){for(const E in w)w.hasOwnProperty(E)&&v(w[E],E)}function we(w){return(0,a.CqO)(w)?w:(0,a.QGY)(w)?(0,Xe.D)(Promise.resolve(w)):(0,ye.of)(w)}const It={exact:function We(w,v,E){if(!Rr(w.segments,v.segments)||!En(w.segments,v.segments,E)||w.numberOfChildren!==v.numberOfChildren)return!1;for(const F in v.children)if(!w.children[F]||!We(w.children[F],v.children[F],E))return!1;return!0},subset:bn},ge={exact:function Ae(w,v){return Ct(w,v)},subset:function Zt(w,v){return Object.keys(v).length<=Object.keys(w).length&&Object.keys(v).every(E=>Xt(w[E],v[E]))},ignored:()=>!0};function Ee(w,v,E){return It[E.paths](w.root,v.root,E.matrixParams)&&ge[E.queryParams](w.queryParams,v.queryParams)&&!("exact"===E.fragment&&w.fragment!==v.fragment)}function bn(w,v,E){return Xn(w,v,v.segments,E)}function Xn(w,v,E,F){if(w.segments.length>E.length){const H=w.segments.slice(0,E.length);return!(!Rr(H,E)||v.hasChildren()||!En(H,E,F))}if(w.segments.length===E.length){if(!Rr(w.segments,E)||!En(w.segments,E,F))return!1;for(const H in v.children)if(!w.children[H]||!bn(w.children[H],v.children[H],F))return!1;return!0}{const H=E.slice(0,w.segments.length),ue=E.slice(w.segments.length);return!!(Rr(w.segments,H)&&En(w.segments,H,F)&&w.children[on])&&Xn(w.children[on],v,ue,F)}}function En(w,v,E){return v.every((F,H)=>ge[E](w[H].parameters,F.parameters))}class Jn{constructor(v,E,F){this.root=v,this.queryParams=E,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return wr.serialize(this)}}class Rn{constructor(v,E){this.segments=v,this.children=E,this.parent=null,Le(E,(F,H)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rr(this)}}class er{constructor(v,E){this.path=v,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return dr(this)}}function Rr(w,v){return w.length===v.length&&w.every((E,F)=>E.path===v[F].path)}class Yr{}class Wr{parse(v){const E=new ii(v);return new Jn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(v){const E=`/${mr(v.root,!0)}`,F=function Br(w){const v=Object.keys(w).map(E=>{const F=w[E];return Array.isArray(F)?F.map(H=>`${Pr(E)}=${Pr(H)}`).join("&"):`${Pr(E)}=${Pr(F)}`}).filter(E=>!!E);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${E}${F}${"string"==typeof v.fragment?`#${function Lr(w){return encodeURI(w)}(v.fragment)}`:""}`}}const wr=new Wr;function rr(w){return w.segments.map(v=>dr(v)).join("/")}function mr(w,v){if(!w.hasChildren())return rr(w);if(v){const E=w.children[on]?mr(w.children[on],!1):"",F=[];return Le(w.children,(H,ue)=>{ue!==on&&F.push(`${ue}:${mr(H,!1)}`)}),F.length>0?`${E}(${F.join("//")})`:E}{const E=function Or(w,v){let E=[];return Le(w.children,(F,H)=>{H===on&&(E=E.concat(v(F,H)))}),Le(w.children,(F,H)=>{H!==on&&(E=E.concat(v(F,H)))}),E}(w,(F,H)=>H===on?[mr(w.children[on],!1)]:[`${H}:${mr(F,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[on]?`${rr(w)}/${E[0]}`:`${rr(w)}/(${E.join("//")})`}}function gr(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(w){return gr(w).replace(/%3B/gi,";")}function en(w){return gr(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kn(w){return decodeURIComponent(w)}function _r(w){return kn(w.replace(/\+/g,"%20"))}function dr(w){return`${en(w.path)}${function ri(w){return Object.keys(w).map(v=>`;${en(v)}=${en(w[v])}`).join("")}(w.parameters)}`}const si=/^[^\/()?;=#]+/;function Hn(w){const v=w.match(si);return v?v[0]:""}const ci=/^[^=?&#]+/,zn=/^[^&#]+/;class ii{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(v.length>0||Object.keys(E).length>0)&&(F[on]=new Rn(v,E)),F}parseSegment(){const v=Hn(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new er(kn(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const E=Hn(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const H=Hn(this.remaining);H&&(F=H,this.capture(F))}v[kn(E)]=kn(F)}parseQueryParam(v){const E=function ni(w){const v=w.match(ci);return v?v[0]:""}(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const Be=function ui(w){const v=w.match(zn);return v?v[0]:""}(this.remaining);Be&&(F=Be,this.capture(F))}const H=_r(E),ue=_r(F);if(v.hasOwnProperty(H)){let Be=v[H];Array.isArray(Be)||(Be=[Be],v[H]=Be),Be.push(ue)}else v[H]=ue}parseParens(v){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Hn(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new Error(`Cannot parse url '${this.url}'`);let ue;F.indexOf(":")>-1?(ue=F.substr(0,F.indexOf(":")),this.capture(ue),this.capture(":")):v&&(ue=on);const Be=this.parseChildren();E[ue]=1===Object.keys(Be).length?Be[on]:new Rn([],Be),this.consumeOptional("//")}return E}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class ee{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const E=this.pathFromRoot(v);return E.length>1?E[E.length-2]:null}children(v){const E=be(v,this._root);return E?E.children.map(F=>F.value):[]}firstChild(v){const E=be(v,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(v){const E=ie(v,this._root);return E.length<2?[]:E[E.length-2].children.map(H=>H.value).filter(H=>H!==v)}pathFromRoot(v){return ie(v,this._root).map(E=>E.value)}}function be(w,v){if(w===v.value)return v;for(const E of v.children){const F=be(w,E);if(F)return F}return null}function ie(w,v){if(w===v.value)return[v];for(const E of v.children){const F=ie(w,E);if(F.length)return F.unshift(v),F}return[]}class xe{constructor(v,E){this.value=v,this.children=E}toString(){return`TreeNode(${this.value})`}}function Qe(w){const v={};return w&&w.children.forEach(E=>v[E.value.outlet]=E),v}class ht extends ee{constructor(v,E){super(v),this.snapshot=E,cr(this,v)}toString(){return this.snapshot.toString()}}function vt(w,v){const E=function Nt(w,v){const Be=new On([],{},{},"",{},on,v,null,w.root,-1,{});return new Bn("",new xe(Be,[]))}(w,v),F=new ot.X([new er("",{})]),H=new ot.X({}),ue=new ot.X({}),Be=new ot.X({}),nt=new ot.X(""),Vt=new kt(F,H,Be,nt,ue,on,v,E.root);return Vt.snapshot=E.root,new ht(new xe(Vt,[]),E)}class kt{constructor(v,E,F,H,ue,Be,nt,Vt){this.url=v,this.params=E,this.queryParams=F,this.fragment=H,this.data=ue,this.outlet=Be,this.component=nt,this._futureSnapshot=Vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(v=>fr(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(v=>fr(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $t(w,v="emptyOnly"){const E=w.pathFromRoot;let F=0;if("always"!==v)for(F=E.length-1;F>=1;){const H=E[F],ue=E[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(ue.component)break;F--}}return function yn(w){return w.reduce((v,E)=>({params:Object.assign(Object.assign({},v.params),E.params),data:Object.assign(Object.assign({},v.data),E.data),resolve:Object.assign(Object.assign({},v.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(F))}class On{constructor(v,E,F,H,ue,Be,nt,Vt,Nn,Hr,lr){this.url=v,this.params=E,this.queryParams=F,this.fragment=H,this.data=ue,this.outlet=Be,this.component=nt,this.routeConfig=Vt,this._urlSegment=Nn,this._lastPathIndex=Hr,this._resolve=lr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bn extends ee{constructor(v,E){super(E),this.url=v,cr(this,E)}toString(){return Vr(this._root)}}function cr(w,v){v.value._routerState=w,v.children.forEach(E=>cr(w,E))}function Vr(w){const v=w.children.length>0?` { ${w.children.map(Vr).join(", ")} } `:"";return`${w.value}${v}`}function qr(w){if(w.snapshot){const v=w.snapshot,E=w._futureSnapshot;w.snapshot=E,Ct(v.queryParams,E.queryParams)||w.queryParams.next(E.queryParams),v.fragment!==E.fragment&&w.fragment.next(E.fragment),Ct(v.params,E.params)||w.params.next(E.params),function cn(w,v){if(w.length!==v.length)return!1;for(let E=0;E<w.length;++E)if(!Ct(w[E],v[E]))return!1;return!0}(v.url,E.url)||w.url.next(E.url),Ct(v.data,E.data)||w.data.next(E.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function rt(w,v){const E=Ct(w.params,v.params)&&function tr(w,v){return Rr(w,v)&&w.every((E,F)=>Ct(E.parameters,v[F].parameters))}(w.url,v.url);return E&&!(!w.parent!=!v.parent)&&(!w.parent||rt(w.parent,v.parent))}function mt(w,v,E){if(E&&w.shouldReuseRoute(v.value,E.value.snapshot)){const F=E.value;F._futureSnapshot=v.value;const H=function Bt(w,v,E){return v.children.map(F=>{for(const H of E.children)if(w.shouldReuseRoute(F.value,H.value.snapshot))return mt(w,F,H);return mt(w,F)})}(w,v,E);return new xe(F,H)}{if(w.shouldAttach(v.value)){const ue=w.retrieve(v.value);if(null!==ue){const Be=ue.route;return Be.value._futureSnapshot=v.value,Be.children=v.children.map(nt=>mt(w,nt)),Be}}const F=function nn(w){return new kt(new ot.X(w.url),new ot.X(w.params),new ot.X(w.queryParams),new ot.X(w.fragment),new ot.X(w.data),w.outlet,w.component,w)}(v.value),H=v.children.map(ue=>mt(w,ue));return new xe(F,H)}}function xr(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function $r(w){return"object"==typeof w&&null!=w&&w.outlets}function br(w,v,E,F,H){let ue={};if(F&&Le(F,(nt,Vt)=>{ue[Vt]=Array.isArray(nt)?nt.map(Nn=>`${Nn}`):`${nt}`}),w===v)return new Jn(E,ue,H);const Be=di(w,v,E);return new Jn(Be,ue,H)}function di(w,v,E){const F={};return Le(w.children,(H,ue)=>{F[ue]=H===v?E:di(H,v,E)}),new Rn(w.segments,F)}class Ri{constructor(v,E,F){if(this.isAbsolute=v,this.numberOfDoubleDots=E,this.commands=F,v&&F.length>0&&xr(F[0]))throw new Error("Root segment cannot have matrix parameters");const H=F.find($r);if(H&&H!==_n(F))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ei{constructor(v,E,F){this.segmentGroup=v,this.processChildren=E,this.index=F}}function zi(w,v,E){if(w||(w=new Rn([],{})),0===w.segments.length&&w.hasChildren())return mi(w,v,E);const F=function Pi(w,v,E){let F=0,H=v;const ue={match:!1,pathIndex:0,commandIndex:0};for(;H<w.segments.length;){if(F>=E.length)return ue;const Be=w.segments[H],nt=E[F];if($r(nt))break;const Vt=`${nt}`,Nn=F<E.length-1?E[F+1]:null;if(H>0&&void 0===Vt)break;if(Vt&&Nn&&"object"==typeof Nn&&void 0===Nn.outlets){if(!yi(Vt,Nn,Be))return ue;F+=2}else{if(!yi(Vt,{},Be))return ue;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(w,v,E),H=E.slice(F.commandIndex);if(F.match&&F.pathIndex<w.segments.length){const ue=new Rn(w.segments.slice(0,F.pathIndex),{});return ue.children[on]=new Rn(w.segments.slice(F.pathIndex),w.children),mi(ue,0,H)}return F.match&&0===H.length?new Rn(w.segments,{}):F.match&&!w.hasChildren()?wi(w,v,E):F.match?mi(w,0,H):wi(w,v,E)}function mi(w,v,E){if(0===E.length)return new Rn(w.segments,{});{const F=function hi(w){return $r(w[0])?w[0].outlets:{[on]:w}}(E),H={};return Le(F,(ue,Be)=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(H[Be]=zi(w.children[Be],v,ue))}),Le(w.children,(ue,Be)=>{void 0===F[Be]&&(H[Be]=ue)}),new Rn(w.segments,H)}}function wi(w,v,E){const F=w.segments.slice(0,v);let H=0;for(;H<E.length;){const ue=E[H];if($r(ue)){const Vt=fs(ue.outlets);return new Rn(F,Vt)}if(0===H&&xr(E[0])){F.push(new er(w.segments[v].path,ds(E[0]))),H++;continue}const Be=$r(ue)?ue.outlets[on]:`${ue}`,nt=H<E.length-1?E[H+1]:null;Be&&nt&&xr(nt)?(F.push(new er(Be,ds(nt))),H+=2):(F.push(new er(Be,{})),H++)}return new Rn(F,{})}function fs(w){const v={};return Le(w,(E,F)=>{"string"==typeof E&&(E=[E]),null!==E&&(v[F]=wi(new Rn([],{}),0,E))}),v}function ds(w){const v={};return Le(w,(E,F)=>v[F]=`${E}`),v}function yi(w,v,E){return w==E.path&&Ct(v,E.parameters)}class Ii{constructor(v,E,F,H){this.routeReuseStrategy=v,this.futureState=E,this.currState=F,this.forwardEvent=H}activate(v){const E=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,F,v),qr(this.futureState.root),this.activateChildRoutes(E,F,v)}deactivateChildRoutes(v,E,F){const H=Qe(E);v.children.forEach(ue=>{const Be=ue.value.outlet;this.deactivateRoutes(ue,H[Be],F),delete H[Be]}),Le(H,(ue,Be)=>{this.deactivateRouteAndItsChildren(ue,F)})}deactivateRoutes(v,E,F){const H=v.value,ue=E?E.value:null;if(H===ue)if(H.component){const Be=F.getContext(H.outlet);Be&&this.deactivateChildRoutes(v,E,Be.children)}else this.deactivateChildRoutes(v,E,F);else ue&&this.deactivateRouteAndItsChildren(E,F)}deactivateRouteAndItsChildren(v,E){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,E):this.deactivateRouteAndOutlet(v,E)}detachAndStoreRouteSubtree(v,E){const F=E.getContext(v.value.outlet),H=F&&v.value.component?F.children:E,ue=Qe(v);for(const Be of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Be],H);if(F&&F.outlet){const Be=F.outlet.detach(),nt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:Be,route:v,contexts:nt})}}deactivateRouteAndOutlet(v,E){const F=E.getContext(v.value.outlet),H=F&&v.value.component?F.children:E,ue=Qe(v);for(const Be of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Be],H);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(v,E,F){const H=Qe(E);v.children.forEach(ue=>{this.activateRoutes(ue,H[ue.value.outlet],F),this.forwardEvent(new ar(ue.value.snapshot))}),v.children.length&&this.forwardEvent(new Ut(v.value.snapshot))}activateRoutes(v,E,F){const H=v.value,ue=E?E.value:null;if(qr(H),H===ue)if(H.component){const Be=F.getOrCreateContext(H.outlet);this.activateChildRoutes(v,E,Be.children)}else this.activateChildRoutes(v,E,F);else if(H.component){const Be=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const nt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Be.children.onOutletReAttached(nt.contexts),Be.attachRef=nt.componentRef,Be.route=nt.route.value,Be.outlet&&Be.outlet.attach(nt.componentRef,nt.route.value),qr(nt.route.value),this.activateChildRoutes(v,null,Be.children)}else{const nt=function vi(w){for(let v=w.parent;v;v=v.parent){const E=v.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(H.snapshot),Vt=nt?nt.module.componentFactoryResolver:null;Be.attachRef=null,Be.route=H,Be.resolver=Vt,Be.outlet&&Be.outlet.activateWith(H,Vt),this.activateChildRoutes(v,null,Be.children)}}else this.activateChildRoutes(v,null,F)}}class gs{constructor(v,E){this.routes=v,this.module=E}}function Y(w){return"function"==typeof w}function Me(w){return w instanceof Jn}const Tn=Symbol("INITIAL_VALUE");function fn(){return(0,lt.w)(w=>function se(...w){let v,E;return(0,b.K)(w[w.length-1])&&(E=w.pop()),"function"==typeof w[w.length-1]&&(v=w.pop()),1===w.length&&(0,U.k)(w[0])&&(w=w[0]),(0,X.n)(w,E).lift(new Z(v))}(w.map(v=>v.pipe((0,gt.q)(1),(0,et.O)(Tn)))).pipe((0,je.R)((v,E)=>{let F=!1;return E.reduce((H,ue,Be)=>H!==Tn?H:(ue===Tn&&(F=!0),F||!1!==ue&&Be!==E.length-1&&!Me(ue)?H:ue),v)},Tn),(0,me.h)(v=>v!==Tn),(0,ze.U)(v=>Me(v)?v:!0===v),(0,gt.q)(1)))}class ur{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ir,this.attachRef=null}}class Ir{constructor(){this.contexts=new Map}onChildOutletCreated(v,E){const F=this.getOrCreateContext(v);F.outlet=E,this.contexts.set(v,F)}onChildOutletDestroyed(v){const E=this.getContext(v);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let E=this.getContext(v);return E||(E=new ur,this.contexts.set(v,E)),E}getContext(v){return this.contexts.get(v)||null}}let Ur=(()=>{class w{constructor(E,F,H,ue,Be){this.parentContexts=E,this.location=F,this.resolver=H,this.changeDetector=Be,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=ue||on,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,F){this.activated=E,this._activatedRoute=F,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,F){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const Be=(F=F||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),nt=this.parentContexts.getOrCreateContext(this.name).children,Vt=new k(E,nt,this.location.injector);this.activated=this.location.createComponent(Be,this.location.length,Vt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(E){return new(E||w)(a.Y36(Ir),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},w.\u0275dir=a.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),w})();class k{constructor(v,E,F){this.route=v,this.childContexts=E,this.parent=F}get(v,E){return v===kt?this.route:v===Ir?this.childContexts:this.parent.get(v,E)}}let Q=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275cmp=a.Xpm({type:w,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,F){1&E&&a._UZ(0,"router-outlet")},directives:[Ur],encapsulation:2}),w})();function B(w,v=""){for(let E=0;E<w.length;E++){const F=w[E];ae(F,Fe(v,F))}}function ae(w,v){w.children&&B(w.children,v)}function Fe(w,v){return v?w||v.path?w&&!v.path?`${w}/`:!w&&v.path?v.path:`${w}/${v.path}`:"":w}function P(w){const v=w.children&&w.children.map(P),E=v?Object.assign(Object.assign({},w),{children:v}):Object.assign({},w);return!E.component&&(v||E.loadChildren)&&E.outlet&&E.outlet!==on&&(E.component=Q),E}function $(w){return w.outlet||on}function N(w,v){const E=w.filter(F=>$(F)===v);return E.push(...w.filter(F=>$(F)!==v)),E}const ce={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ge(w,v,E){var F;if(""===v.path)return"full"===v.pathMatch&&(w.hasChildren()||E.length>0)?Object.assign({},ce):{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const ue=(v.matcher||Kn)(E,w,v);if(!ue)return Object.assign({},ce);const Be={};Le(ue.posParams,(Vt,Nn)=>{Be[Nn]=Vt.path});const nt=ue.consumed.length>0?Object.assign(Object.assign({},Be),ue.consumed[ue.consumed.length-1].parameters):Be;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:E.slice(ue.consumed.length),parameters:nt,positionalParamSegments:null!==(F=ue.posParams)&&void 0!==F?F:{}}}function Pt(w,v,E,F,H="corrected"){if(E.length>0&&function Sn(w,v,E){return E.some(F=>L(w,v,F)&&$(F)!==on)}(w,E,F)){const Be=new Rn(v,function Wn(w,v,E,F){const H={};H[on]=F,F._sourceSegment=w,F._segmentIndexShift=v.length;for(const ue of E)if(""===ue.path&&$(ue)!==on){const Be=new Rn([],{});Be._sourceSegment=w,Be._segmentIndexShift=v.length,H[$(ue)]=Be}return H}(w,v,F,new Rn(E,w.children)));return Be._sourceSegment=w,Be._segmentIndexShift=v.length,{segmentGroup:Be,slicedSegments:[]}}if(0===E.length&&function g(w,v,E){return E.some(F=>L(w,v,F))}(w,E,F)){const Be=new Rn(w.segments,function zt(w,v,E,F,H,ue){const Be={};for(const nt of F)if(L(w,E,nt)&&!H[$(nt)]){const Vt=new Rn([],{});Vt._sourceSegment=w,Vt._segmentIndexShift="legacy"===ue?w.segments.length:v.length,Be[$(nt)]=Vt}return Object.assign(Object.assign({},H),Be)}(w,v,E,F,w.children,H));return Be._sourceSegment=w,Be._segmentIndexShift=v.length,{segmentGroup:Be,slicedSegments:E}}const ue=new Rn(w.segments,w.children);return ue._sourceSegment=w,ue._segmentIndexShift=v.length,{segmentGroup:ue,slicedSegments:E}}function L(w,v,E){return(!(w.hasChildren()||v.length>0)||"full"!==E.pathMatch)&&""===E.path}function m(w,v,E,F){return!!($(w)===F||F!==on&&L(v,E,w))&&("**"===w.path||Ge(v,w,E).matched)}function V(w,v,E){return 0===v.length&&!w.children[E]}class de{constructor(v){this.segmentGroup=v||null}}class S{constructor(v){this.urlTree=v}}function A(w){return(0,oe._)(new de(w))}function T(w){return(0,oe._)(new S(w))}class Er{constructor(v,E,F,H,ue){this.configLoader=E,this.urlSerializer=F,this.urlTree=H,this.config=ue,this.allowRedirects=!0,this.ngModule=v.get(a.h0i)}apply(){const v=Pt(this.urlTree.root,[],[],this.config).segmentGroup,E=new Rn(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,E,on).pipe((0,ze.U)(ue=>this.createUrlTree(Ci(ue),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wt(ue=>{if(ue instanceof S)return this.allowRedirects=!1,this.match(ue.urlTree);throw ue instanceof de?this.noMatchError(ue):ue}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,on).pipe((0,ze.U)(H=>this.createUrlTree(Ci(H),v.queryParams,v.fragment))).pipe(wt(H=>{throw H instanceof de?this.noMatchError(H):H}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,E,F){const H=v.segments.length>0?new Rn([],{[on]:v}):v;return new Jn(H,E,F)}expandSegmentGroup(v,E,F,H){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(v,E,F).pipe((0,ze.U)(ue=>new Rn([],ue))):this.expandSegment(v,F,E,F.segments,H,!0)}expandChildren(v,E,F){const H=[];for(const ue of Object.keys(F.children))"primary"===ue?H.unshift(ue):H.push(ue);return(0,Xe.D)(H).pipe((0,Oe.b)(ue=>{const Be=F.children[ue],nt=N(E,ue);return this.expandSegmentGroup(v,nt,Be,ue).pipe((0,ze.U)(Vt=>({segment:Vt,outlet:ue})))}),(0,je.R)((ue,Be)=>(ue[Be.outlet]=Be.segment,ue),{}),function dt(w,v){const E=arguments.length>=2;return F=>F.pipe(w?(0,me.h)((H,ue)=>w(H,ue,F)):pt.y,De(1),E?(0,bt.d)(v):(0,tn.T)(()=>new ut.K))}())}expandSegment(v,E,F,H,ue,Be){return(0,Xe.D)(F).pipe((0,Oe.b)(nt=>this.expandSegmentAgainstRoute(v,E,F,nt,H,ue,Be).pipe(wt(Nn=>{if(Nn instanceof de)return(0,ye.of)(null);throw Nn}))),(0,Dt.P)(nt=>!!nt),wt((nt,Vt)=>{if(nt instanceof ut.K||"EmptyError"===nt.name)return V(E,H,ue)?(0,ye.of)(new Rn([],{})):A(E);throw nt}))}expandSegmentAgainstRoute(v,E,F,H,ue,Be,nt){return m(H,E,ue,Be)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(v,E,H,ue,Be):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,E,F,H,ue,Be):A(E):A(E)}expandSegmentAgainstRouteUsingRedirect(v,E,F,H,ue,Be){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,F,H,Be):this.expandRegularSegmentAgainstRouteUsingRedirect(v,E,F,H,ue,Be)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,E,F,H){const ue=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?T(ue):this.lineralizeSegments(F,ue).pipe((0,Gt.zg)(Be=>{const nt=new Rn(Be,{});return this.expandSegment(v,nt,E,Be,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,E,F,H,ue,Be){const{matched:nt,consumedSegments:Vt,remainingSegments:Nn,positionalParamSegments:Hr}=Ge(E,H,ue);if(!nt)return A(E);const lr=this.applyRedirectCommands(Vt,H.redirectTo,Hr);return H.redirectTo.startsWith("/")?T(lr):this.lineralizeSegments(H,lr).pipe((0,Gt.zg)(Mr=>this.expandSegment(v,E,F,Mr.concat(Nn),Be,!1)))}matchSegmentAgainstRoute(v,E,F,H,ue){if("**"===F.path)return F.loadChildren?(F._loadedConfig?(0,ye.of)(F._loadedConfig):this.configLoader.load(v.injector,F)).pipe((0,ze.U)(lr=>(F._loadedConfig=lr,new Rn(H,{})))):(0,ye.of)(new Rn(H,{}));const{matched:Be,consumedSegments:nt,remainingSegments:Vt}=Ge(E,F,H);return Be?this.getChildConfig(v,F,H).pipe((0,Gt.zg)(Hr=>{const lr=Hr.module,Mr=Hr.routes,{segmentGroup:Gr,slicedSegments:ys}=Pt(E,nt,Vt,Mr),Ar=new Rn(Gr.segments,Gr.children);if(0===ys.length&&Ar.hasChildren())return this.expandChildren(lr,Mr,Ar).pipe((0,ze.U)(hr=>new Rn(nt,hr)));if(0===Mr.length&&0===ys.length)return(0,ye.of)(new Rn(nt,{}));const Ys=$(F)===ue;return this.expandSegment(lr,Ar,Mr,ys,Ys?on:ue,!0).pipe((0,ze.U)(ti=>new Rn(nt.concat(ti.segments),ti.children)))})):A(E)}getChildConfig(v,E,F){return E.children?(0,ye.of)(new gs(E.children,v)):E.loadChildren?void 0!==E._loadedConfig?(0,ye.of)(E._loadedConfig):this.runCanLoadGuards(v.injector,E,F).pipe((0,Gt.zg)(H=>H?this.configLoader.load(v.injector,E).pipe((0,ze.U)(ue=>(E._loadedConfig=ue,ue))):function Tt(w){return(0,oe._)(In(`Cannot load children because the guard of the route "path: '${w.path}'" returned false`))}(E))):(0,ye.of)(new gs([],v))}runCanLoadGuards(v,E,F){const H=E.canLoad;if(!H||0===H.length)return(0,ye.of)(!0);const ue=H.map(Be=>{const nt=v.get(Be);let Vt;if(function Ze(w){return w&&Y(w.canLoad)}(nt))Vt=nt.canLoad(E,F);else{if(!Y(nt))throw new Error("Invalid CanLoad guard");Vt=nt(E,F)}return we(Vt)});return(0,ye.of)(ue).pipe(fn(),(0,Yt.b)(Be=>{if(!Me(Be))return;const nt=In(`Redirecting to "${this.urlSerializer.serialize(Be)}"`);throw nt.url=Be,nt}),(0,ze.U)(Be=>!0===Be))}lineralizeSegments(v,E){let F=[],H=E.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,ye.of)(F);if(H.numberOfChildren>1||!H.children[on])return(0,oe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${v.redirectTo}'`));H=H.children[on]}}applyRedirectCommands(v,E,F){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),v,F)}applyRedirectCreatreUrlTree(v,E,F,H){const ue=this.createSegmentGroup(v,E.root,F,H);return new Jn(ue,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(v,E){const F={};return Le(v,(H,ue)=>{if("string"==typeof H&&H.startsWith(":")){const nt=H.substring(1);F[ue]=E[nt]}else F[ue]=H}),F}createSegmentGroup(v,E,F,H){const ue=this.createSegments(v,E.segments,F,H);let Be={};return Le(E.children,(nt,Vt)=>{Be[Vt]=this.createSegmentGroup(v,nt,F,H)}),new Rn(ue,Be)}createSegments(v,E,F,H){return E.map(ue=>ue.path.startsWith(":")?this.findPosParam(v,ue,H):this.findOrReturn(ue,F))}findPosParam(v,E,F){const H=F[E.path.substring(1)];if(!H)throw new Error(`Cannot redirect to '${v}'. Cannot find '${E.path}'.`);return H}findOrReturn(v,E){let F=0;for(const H of E){if(H.path===v.path)return E.splice(F),H;F++}return v}}function Ci(w){const v={};for(const F of Object.keys(w.children)){const ue=Ci(w.children[F]);(ue.segments.length>0||ue.hasChildren())&&(v[F]=ue)}return function Zr(w){if(1===w.numberOfChildren&&w.children[on]){const v=w.children[on];return new Rn(w.segments.concat(v.segments),v.children)}return w}(new Rn(w.segments,v))}class xi{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Kt{constructor(v,E){this.component=v,this.route=E}}function jr(w,v,E){const F=w._root;return Gs(F,v?v._root:null,E,[F.value])}function fi(w,v,E){const F=function Du(w){if(!w)return null;for(let v=w.parent;v;v=v.parent){const E=v.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(v);return(F?F.module.injector:E).get(w)}function Gs(w,v,E,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ue=Qe(v);return w.children.forEach(Be=>{(function xs(w,v,E,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ue=w.value,Be=v?v.value:null,nt=E?E.getContext(w.value.outlet):null;if(Be&&ue.routeConfig===Be.routeConfig){const Vt=function uo(w,v,E){if("function"==typeof E)return E(w,v);switch(E){case"pathParamsChange":return!Rr(w.url,v.url);case"pathParamsOrQueryParamsChange":return!Rr(w.url,v.url)||!Ct(w.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rt(w,v)||!Ct(w.queryParams,v.queryParams);default:return!rt(w,v)}}(Be,ue,ue.routeConfig.runGuardsAndResolvers);Vt?H.canActivateChecks.push(new xi(F)):(ue.data=Be.data,ue._resolvedData=Be._resolvedData),Gs(w,v,ue.component?nt?nt.children:null:E,F,H),Vt&&nt&&nt.outlet&&nt.outlet.isActivated&&H.canDeactivateChecks.push(new Kt(nt.outlet.component,Be))}else Be&&_s(v,nt,H),H.canActivateChecks.push(new xi(F)),Gs(w,null,ue.component?nt?nt.children:null:E,F,H)})(Be,ue[Be.value.outlet],E,F.concat([Be.value]),H),delete ue[Be.value.outlet]}),Le(ue,(Be,nt)=>_s(Be,E.getContext(nt),H)),H}function _s(w,v,E){const F=Qe(w),H=w.value;Le(F,(ue,Be)=>{_s(ue,H.component?v?v.children.getContext(Be):null:v,E)}),E.canDeactivateChecks.push(new Kt(H.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,H))}class ro{}function Vo(w){return new _e.y(v=>v.error(w))}class Qu{constructor(v,E,F,H,ue,Be){this.rootComponentType=v,this.config=E,this.urlTree=F,this.url=H,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=Be}recognize(){const v=Pt(this.urlTree.root,[],[],this.config.filter(Be=>void 0===Be.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,v,on);if(null===E)return null;const F=new On([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new xe(F,E),ue=new Bn(this.url,H);return this.inheritParamsAndData(ue._root),ue}inheritParamsAndData(v){const E=v.value,F=$t(E,this.paramsInheritanceStrategy);E.params=Object.freeze(F.params),E.data=Object.freeze(F.data),v.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(v,E,F){return 0===E.segments.length&&E.hasChildren()?this.processChildren(v,E):this.processSegment(v,E,E.segments,F)}processChildren(v,E){const F=[];for(const ue of Object.keys(E.children)){const Be=E.children[ue],nt=N(v,ue),Vt=this.processSegmentGroup(nt,Be,ue);if(null===Vt)return null;F.push(...Vt)}const H=Bs(F);return function ra(w){w.sort((v,E)=>v.value.outlet===on?-1:E.value.outlet===on?1:v.value.outlet.localeCompare(E.value.outlet))}(H),H}processSegment(v,E,F,H){for(const ue of v){const Be=this.processSegmentAgainstRoute(ue,E,F,H);if(null!==Be)return Be}return V(E,F,H)?[]:null}processSegmentAgainstRoute(v,E,F,H){if(v.redirectTo||!m(v,E,F,H))return null;let ue,Be=[],nt=[];if("**"===v.path){const Gr=F.length>0?_n(F).parameters:{};ue=new On(F,Gr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wo(v),$(v),v.component,v,zs(E),sa(E)+F.length,oa(v))}else{const Gr=Ge(E,v,F);if(!Gr.matched)return null;Be=Gr.consumedSegments,nt=Gr.remainingSegments,ue=new On(Be,Gr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wo(v),$(v),v.component,v,zs(E),sa(E)+Be.length,oa(v))}const Vt=function Eo(w){return w.children?w.children:w.loadChildren?w._loadedConfig.routes:[]}(v),{segmentGroup:Nn,slicedSegments:Hr}=Pt(E,Be,nt,Vt.filter(Gr=>void 0===Gr.redirectTo),this.relativeLinkResolution);if(0===Hr.length&&Nn.hasChildren()){const Gr=this.processChildren(Vt,Nn);return null===Gr?null:[new xe(ue,Gr)]}if(0===Vt.length&&0===Hr.length)return[new xe(ue,[])];const lr=$(v)===H,Mr=this.processSegment(Vt,Nn,Hr,lr?on:H);return null===Mr?null:[new xe(ue,Mr)]}}function ia(w){const v=w.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function Bs(w){const v=[],E=new Set;for(const F of w){if(!ia(F)){v.push(F);continue}const H=v.find(ue=>F.value.routeConfig===ue.value.routeConfig);void 0!==H?(H.children.push(...F.children),E.add(H)):v.push(F)}for(const F of E){const H=Bs(F.children);v.push(new xe(F.value,H))}return v.filter(F=>!E.has(F))}function zs(w){let v=w;for(;v._sourceSegment;)v=v._sourceSegment;return v}function sa(w){let v=w,E=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,E+=v._segmentIndexShift?v._segmentIndexShift:0;return E-1}function wo(w){return w.data||{}}function oa(w){return w.resolve||{}}function Ta(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}function Wi(w){return(0,lt.w)(v=>{const E=w(v);return E?(0,Xe.D)(E).pipe((0,ze.U)(()=>v)):(0,ye.of)(v)})}class Vs{}class Us extends class gi{shouldDetach(v){return!1}store(v,E){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,E){return v.routeConfig===E.routeConfig}}{}const Uo=new a.OlP("ROUTES");class Xa{constructor(v,E,F,H){this.injector=v,this.compiler=E,this.onLoadStartListener=F,this.onLoadEndListener=H}load(v,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const H=this.loadModuleFactory(E.loadChildren).pipe((0,ze.U)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(E);const Be=ue.create(v);return new gs(Cn(Be.injector.get(Uo,void 0,a.XFs.Self|a.XFs.Optional)).map(P),Be)}),wt(ue=>{throw E._loader$=void 0,ue}));return E._loader$=new at.c(H,()=>new _t.xQ).pipe((0,ln.x)()),E._loader$}loadModuleFactory(v){return we(v()).pipe((0,Gt.zg)(E=>E instanceof a.YKP?(0,ye.of)(E):(0,Xe.D)(this.compiler.compileModuleAsync(E))))}}class Li{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,E){return v}}function Ja(w){throw w}function io(w,v,E){return v.parse("/")}function co(w,v){return(0,ye.of)(null)}const ua={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ms={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class w{constructor(E,F,H,ue,Be,nt,Vt){this.rootComponentType=E,this.urlSerializer=F,this.rootContexts=H,this.location=ue,this.config=Vt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _t.xQ,this.errorHandler=Ja,this.malformedUriErrorHandler=io,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:co,afterPreactivation:co},this.urlHandlingStrategy=new Li,this.routeReuseStrategy=new Us,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Be.get(a.h0i),this.console=Be.get(a.c2e);const lr=Be.get(a.R0b);this.isNgZoneEnabled=lr instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(Vt),this.currentUrlTree=function Je(){return new Jn(new Rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xa(Be,nt,Mr=>this.triggerEvent(new Ye(Mr)),Mr=>this.triggerEvent(new jt(Mr))),this.routerState=vt(this.currentUrlTree,this.rootComponentType),this.transitions=new ot.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const F=this.events;return E.pipe((0,me.h)(H=>0!==H.id),(0,ze.U)(H=>Object.assign(Object.assign({},H),{extractedUrl:this.urlHandlingStrategy.extract(H.rawUrl)})),(0,lt.w)(H=>{let ue=!1,Be=!1;return(0,ye.of)(H).pipe((0,Yt.b)(nt=>{this.currentNavigation={id:nt.id,initialUrl:nt.currentRawUrl,extractedUrl:nt.extractedUrl,trigger:nt.source,extras:nt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,lt.w)(nt=>{const Vt=this.browserUrlTree.toString(),Nn=!this.navigated||nt.extractedUrl.toString()!==Vt||Vt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Nn)&&this.urlHandlingStrategy.shouldProcessUrl(nt.rawUrl))return Ws(nt.source)&&(this.browserUrlTree=nt.extractedUrl),(0,ye.of)(nt).pipe((0,lt.w)(lr=>{const Mr=this.transitions.getValue();return F.next(new Ft(lr.id,this.serializeUrl(lr.extractedUrl),lr.source,lr.restoredState)),Mr!==this.transitions.getValue()?fe.E:Promise.resolve(lr)}),function Ai(w,v,E,F){return(0,lt.w)(H=>function gn(w,v,E,F,H){return new Er(w,v,E,F,H).apply()}(w,v,E,H.extractedUrl,F).pipe((0,ze.U)(ue=>Object.assign(Object.assign({},H),{urlAfterRedirects:ue}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(lr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:lr.urlAfterRedirects})}),function lo(w,v,E,F,H){return(0,Gt.zg)(ue=>function Tu(w,v,E,F,H="emptyOnly",ue="legacy"){try{const Be=new Qu(w,v,E,F,H,ue).recognize();return null===Be?Vo(new ro):(0,ye.of)(Be)}catch(Be){return Vo(Be)}}(w,v,ue.urlAfterRedirects,E(ue.urlAfterRedirects),F,H).pipe((0,ze.U)(Be=>Object.assign(Object.assign({},ue),{targetSnapshot:Be}))))}(this.rootComponentType,this.config,lr=>this.serializeUrl(lr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(lr=>{if("eager"===this.urlUpdateStrategy){if(!lr.extras.skipLocationChange){const Gr=this.urlHandlingStrategy.merge(lr.urlAfterRedirects,lr.rawUrl);this.setBrowserUrl(Gr,lr)}this.browserUrlTree=lr.urlAfterRedirects}const Mr=new Gn(lr.id,this.serializeUrl(lr.extractedUrl),this.serializeUrl(lr.urlAfterRedirects),lr.targetSnapshot);F.next(Mr)}));if(Nn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mr,extractedUrl:Gr,source:ys,restoredState:Ar,extras:Ys}=nt,Zs=new Ft(Mr,this.serializeUrl(Gr),ys,Ar);F.next(Zs);const ti=vt(Gr,this.rootComponentType).snapshot;return(0,ye.of)(Object.assign(Object.assign({},nt),{targetSnapshot:ti,urlAfterRedirects:Gr,extras:Object.assign(Object.assign({},Ys),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=nt.rawUrl,nt.resolve(null),fe.E}),Wi(nt=>{const{targetSnapshot:Vt,id:Nn,extractedUrl:Hr,rawUrl:lr,extras:{skipLocationChange:Mr,replaceUrl:Gr}}=nt;return this.hooks.beforePreactivation(Vt,{navigationId:Nn,appliedUrlTree:Hr,rawUrlTree:lr,skipLocationChange:!!Mr,replaceUrl:!!Gr})}),(0,Yt.b)(nt=>{const Vt=new Zn(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot);this.triggerEvent(Vt)}),(0,ze.U)(nt=>Object.assign(Object.assign({},nt),{guards:jr(nt.targetSnapshot,nt.currentSnapshot,this.rootContexts)})),function Ca(w,v){return(0,Gt.zg)(E=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:ue,canDeactivateChecks:Be}}=E;return 0===Be.length&&0===ue.length?(0,ye.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function bo(w,v,E,F){return(0,Xe.D)(w).pipe((0,Gt.zg)(H=>function Ls(w,v,E,F,H){const ue=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,ye.of)(!0);const Be=ue.map(nt=>{const Vt=fi(nt,v,H);let Nn;if(function rn(w){return w&&Y(w.canDeactivate)}(Vt))Nn=we(Vt.canDeactivate(w,v,E,F));else{if(!Y(Vt))throw new Error("Invalid CanDeactivate guard");Nn=we(Vt(w,v,E,F))}return Nn.pipe((0,Dt.P)())});return(0,ye.of)(Be).pipe(fn())}(H.component,H.route,E,v,F)),(0,Dt.P)(H=>!0!==H,!0))}(Be,F,H,w).pipe((0,Gt.zg)(nt=>nt&&function q(w){return"boolean"==typeof w}(nt)?function na(w,v,E,F){return(0,Xe.D)(v).pipe((0,Oe.b)(H=>(0,ke.z)(function Fi(w,v){return null!==w&&v&&v(new xt(w)),(0,ye.of)(!0)}(H.route.parent,F),function Ms(w,v){return null!==w&&v&&v(new Lt(w)),(0,ye.of)(!0)}(H.route,F),function Di(w,v,E){const F=v[v.length-1],ue=v.slice(0,v.length-1).reverse().map(Be=>function Ka(w){const v=w.routeConfig?w.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:w,guards:v}:null}(Be)).filter(Be=>null!==Be).map(Be=>Pe(()=>{const nt=Be.guards.map(Vt=>{const Nn=fi(Vt,Be.node,E);let Hr;if(function Ot(w){return w&&Y(w.canActivateChild)}(Nn))Hr=we(Nn.canActivateChild(F,w));else{if(!Y(Nn))throw new Error("Invalid CanActivateChild guard");Hr=we(Nn(F,w))}return Hr.pipe((0,Dt.P)())});return(0,ye.of)(nt).pipe(fn())}));return(0,ye.of)(ue).pipe(fn())}(w,H.path,E),function bs(w,v,E){const F=v.routeConfig?v.routeConfig.canActivate:null;if(!F||0===F.length)return(0,ye.of)(!0);const H=F.map(ue=>Pe(()=>{const Be=fi(ue,v,E);let nt;if(function yt(w){return w&&Y(w.canActivate)}(Be))nt=we(Be.canActivate(v,w));else{if(!Y(Be))throw new Error("Invalid CanActivate guard");nt=we(Be(v,w))}return nt.pipe((0,Dt.P)())}));return(0,ye.of)(H).pipe(fn())}(w,H.route,E))),(0,Dt.P)(H=>!0!==H,!0))}(F,ue,w,v):(0,ye.of)(nt)),(0,ze.U)(nt=>Object.assign(Object.assign({},E),{guardsResult:nt})))})}(this.ngModule.injector,nt=>this.triggerEvent(nt)),(0,Yt.b)(nt=>{if(Me(nt.guardsResult)){const Nn=In(`Redirecting to "${this.serializeUrl(nt.guardsResult)}"`);throw Nn.url=nt.guardsResult,Nn}const Vt=new mn(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot,!!nt.guardsResult);this.triggerEvent(Vt)}),(0,me.h)(nt=>!!nt.guardsResult||(this.restoreHistory(nt),this.cancelNavigationTransition(nt,""),!1)),Wi(nt=>{if(nt.guards.canActivateChecks.length)return(0,ye.of)(nt).pipe((0,Yt.b)(Vt=>{const Nn=new At(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(Nn)}),(0,lt.w)(Vt=>{let Nn=!1;return(0,ye.of)(Vt).pipe(function Su(w,v){return(0,Gt.zg)(E=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=E;if(!H.length)return(0,ye.of)(E);let ue=0;return(0,Xe.D)(H).pipe((0,Oe.b)(Be=>function Au(w,v,E,F){return function aa(w,v,E,F){const H=Ta(w);if(0===H.length)return(0,ye.of)({});const ue={};return(0,Xe.D)(H).pipe((0,Gt.zg)(Be=>function el(w,v,E,F){const H=fi(w,v,F);return we(H.resolve?H.resolve(v,E):H(v,E))}(w[Be],v,E,F).pipe((0,Yt.b)(nt=>{ue[Be]=nt}))),De(1),(0,Gt.zg)(()=>Ta(ue).length===H.length?(0,ye.of)(ue):fe.E))}(w._resolve,w,v,F).pipe((0,ze.U)(ue=>(w._resolvedData=ue,w.data=Object.assign(Object.assign({},w.data),$t(w,E).resolve),null)))}(Be.route,F,w,v)),(0,Yt.b)(()=>ue++),De(1),(0,Gt.zg)(Be=>ue===H.length?(0,ye.of)(E):fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>Nn=!0,complete:()=>{Nn||(this.restoreHistory(Vt),this.cancelNavigationTransition(Vt,"At least one route resolver didn't emit any value."))}}))}),(0,Yt.b)(Vt=>{const Nn=new Ke(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(Nn)}))}),Wi(nt=>{const{targetSnapshot:Vt,id:Nn,extractedUrl:Hr,rawUrl:lr,extras:{skipLocationChange:Mr,replaceUrl:Gr}}=nt;return this.hooks.afterPreactivation(Vt,{navigationId:Nn,appliedUrlTree:Hr,rawUrlTree:lr,skipLocationChange:!!Mr,replaceUrl:!!Gr})}),(0,ze.U)(nt=>{const Vt=function tt(w,v,E){const F=mt(w,v._root,E?E._root:void 0);return new ht(F,v)}(this.routeReuseStrategy,nt.targetSnapshot,nt.currentRouterState);return Object.assign(Object.assign({},nt),{targetRouterState:Vt})}),(0,Yt.b)(nt=>{this.currentUrlTree=nt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(nt.urlAfterRedirects,nt.rawUrl),this.routerState=nt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(nt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,nt),this.browserUrlTree=nt.urlAfterRedirects)}),((w,v,E)=>(0,ze.U)(F=>(new Ii(v,F.targetRouterState,F.currentRouterState,E).activate(w),F)))(this.rootContexts,this.routeReuseStrategy,nt=>this.triggerEvent(nt)),(0,Yt.b)({next(){ue=!0},complete(){ue=!0}}),(0,pn.x)(()=>{var nt;ue||Be||this.cancelNavigationTransition(H,`Navigation ID ${H.id} is not equal to the current navigation id ${this.navigationId}`),(null===(nt=this.currentNavigation)||void 0===nt?void 0:nt.id)===H.id&&(this.currentNavigation=null)}),wt(nt=>{if(Be=!0,function Mn(w){return w&&w[Vn]}(nt)){const Vt=Me(nt.url);Vt||(this.navigated=!0,this.restoreHistory(H,!0));const Nn=new nr(H.id,this.serializeUrl(H.extractedUrl),nt.message);F.next(Nn),Vt?setTimeout(()=>{const Hr=this.urlHandlingStrategy.merge(nt.url,this.rawUrlTree),lr={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ws(H.source)};this.scheduleNavigation(Hr,"imperative",null,lr,{resolve:H.resolve,reject:H.reject,promise:H.promise})},0):H.resolve(!1)}else{this.restoreHistory(H,!0);const Vt=new Yn(H.id,this.serializeUrl(H.extractedUrl),nt);F.next(Vt);try{H.resolve(this.errorHandler(nt))}catch(Nn){H.reject(Nn)}}return fe.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const F="popstate"===E.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var H;const ue={replaceUrl:!0},Be=(null===(H=E.state)||void 0===H?void 0:H.navigationId)?E.state:null;if(Be){const Vt=Object.assign({},Be);delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(ue.state=Vt)}const nt=this.parseUrl(E.url);this.scheduleNavigation(nt,F,Be,ue)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){B(E),this.config=E.map(P),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,F={}){const{relativeTo:H,queryParams:ue,fragment:Be,queryParamsHandling:nt,preserveFragment:Vt}=F,Nn=H||this.routerState.root,Hr=Vt?this.currentUrlTree.fragment:Be;let lr=null;switch(nt){case"merge":lr=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ue);break;case"preserve":lr=this.currentUrlTree.queryParams;break;default:lr=ue||null}return null!==lr&&(lr=this.removeEmptyProps(lr)),function Dn(w,v,E,F,H){if(0===E.length)return br(v.root,v.root,v.root,F,H);const ue=function es(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Ri(!0,0,w);let v=0,E=!1;const F=w.reduce((H,ue,Be)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const nt={};return Le(ue.outlets,(Vt,Nn)=>{nt[Nn]="string"==typeof Vt?Vt.split("/"):Vt}),[...H,{outlets:nt}]}if(ue.segmentPath)return[...H,ue.segmentPath]}return"string"!=typeof ue?[...H,ue]:0===Be?(ue.split("/").forEach((nt,Vt)=>{0==Vt&&"."===nt||(0==Vt&&""===nt?E=!0:".."===nt?v++:""!=nt&&H.push(nt))}),H):[...H,ue]},[]);return new Ri(E,v,F)}(E);if(ue.toRoot())return br(v.root,v.root,new Rn([],{}),F,H);const Be=function As(w,v,E){if(w.isAbsolute)return new Ei(v.root,!0,0);if(-1===E.snapshot._lastPathIndex){const ue=E.snapshot._urlSegment;return new Ei(ue,ue===v.root,0)}const F=xr(w.commands[0])?0:1;return function Oi(w,v,E){let F=w,H=v,ue=E;for(;ue>H;){if(ue-=H,F=F.parent,!F)throw new Error("Invalid number of '../'");H=F.segments.length}return new Ei(F,!1,H-ue)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+F,w.numberOfDoubleDots)}(ue,v,w),nt=Be.processChildren?mi(Be.segmentGroup,Be.index,ue.commands):zi(Be.segmentGroup,Be.index,ue.commands);return br(v.root,Be.segmentGroup,nt,F,H)}(Nn,this.currentUrlTree,E,lr,null!=Hr?Hr:null)}navigateByUrl(E,F={skipLocationChange:!1}){const H=Me(E)?E:this.parseUrl(E),ue=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ue,"imperative",null,F)}navigate(E,F={skipLocationChange:!1}){return function Aa(w){for(let v=0;v<w.length;v++){const E=w[v];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${v}`)}}(E),this.navigateByUrl(this.createUrlTree(E,F),F)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let F;try{F=this.urlSerializer.parse(E)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,E)}return F}isActive(E,F){let H;if(H=!0===F?Object.assign({},ua):!1===F?Object.assign({},ms):F,Me(E))return Ee(this.currentUrlTree,E,H);const ue=this.parseUrl(E);return Ee(this.currentUrlTree,ue,H)}removeEmptyProps(E){return Object.keys(E).reduce((F,H)=>{const ue=E[H];return null!=ue&&(F[H]=ue),F},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Pn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,F,H,ue,Be){var nt,Vt;if(this.disposed)return Promise.resolve(!1);let Nn,Hr,lr;Be?(Nn=Be.resolve,Hr=Be.reject,lr=Be.promise):lr=new Promise((ys,Ar)=>{Nn=ys,Hr=Ar});const Mr=++this.navigationId;let Gr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(H=this.location.getState()),Gr=H&&H.\u0275routerPageId?H.\u0275routerPageId:ue.replaceUrl||ue.skipLocationChange?null!==(nt=this.browserPageId)&&void 0!==nt?nt:0:(null!==(Vt=this.browserPageId)&&void 0!==Vt?Vt:0)+1):Gr=0,this.setTransition({id:Mr,targetPageId:Gr,source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:ue,resolve:Nn,reject:Hr,promise:lr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),lr.catch(ys=>Promise.reject(ys))}setBrowserUrl(E,F){const H=this.urlSerializer.serialize(E),ue=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl?this.location.replaceState(H,"",ue):this.location.go(H,"",ue)}restoreHistory(E,F=!1){var H,ue;if("computed"===this.canceledNavigationResolution){const Be=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(H=this.currentNavigation)||void 0===H?void 0:H.finalUrl)||0===Be?this.currentUrlTree===(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.finalUrl)&&0===Be&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Be)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,F){const H=new nr(E.id,this.serializeUrl(E.extractedUrl),F);this.triggerEvent(H),E.resolve(!1)}generateNgRouterState(E,F){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:F}:{navigationId:E}}}return w.\u0275fac=function(E){a.$Z()},w.\u0275prov=a.Yz7({token:w,factory:w.\u0275fac}),w})();function Ws(w){return"imperative"!==w}let so=(()=>{class w{constructor(E,F,H,ue,Be){this.router=E,this.route=F,this.tabIndexAttribute=H,this.renderer=ue,this.el=Be,this.commands=null,this.onChanges=new _t.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const F=this.renderer,H=this.el.nativeElement;null!==E?F.setAttribute(H,"tabindex",E):F.removeAttribute(H,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const E={skipLocationChange:Bi(this.skipLocationChange),replaceUrl:Bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bi(this.preserveFragment)})}}return w.\u0275fac=function(E){return new(E||w)(a.Y36(ts),a.Y36(kt),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},w.\u0275dir=a.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,F){1&E&&a.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),w})(),$o=(()=>{class w{constructor(E,F,H){this.router=E,this.route=F,this.locationStrategy=H,this.commands=null,this.href=null,this.onChanges=new _t.xQ,this.subscription=E.events.subscribe(ue=>{ue instanceof Pn&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,F,H,ue,Be){if(0!==E||F||H||ue||Be||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const nt={skipLocationChange:Bi(this.skipLocationChange),replaceUrl:Bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,nt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bi(this.preserveFragment)})}}return w.\u0275fac=function(E){return new(E||w)(a.Y36(ts),a.Y36(kt),a.Y36(vn.S$))},w.\u0275dir=a.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,F){1&E&&a.NdJ("click",function(ue){return F.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&E&&a.uIk("target",F.target)("href",F.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),w})();function Bi(w){return""===w||!!w}class Io{}class xu{preload(v,E){return E().pipe(wt(()=>(0,ye.of)(null)))}}class Ho{preload(v,E){return(0,ye.of)(null)}}let Qa=(()=>{class w{constructor(E,F,H,ue){this.router=E,this.injector=H,this.preloadingStrategy=ue,this.loader=new Xa(H,F,Vt=>E.triggerEvent(new Ye(Vt)),Vt=>E.triggerEvent(new jt(Vt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,me.h)(E=>E instanceof Pn),(0,Oe.b)(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(a.h0i);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,F){const H=[];for(const ue of F)if(ue.loadChildren&&!ue.canLoad&&ue._loadedConfig){const Be=ue._loadedConfig;H.push(this.processRoutes(Be.module,Be.routes))}else ue.loadChildren&&!ue.canLoad?H.push(this.preloadConfig(E,ue)):ue.children&&H.push(this.processRoutes(E,ue.children));return(0,Xe.D)(H).pipe((0,or.J)(),(0,ze.U)(ue=>{}))}preloadConfig(E,F){return this.preloadingStrategy.preload(F,()=>(F._loadedConfig?(0,ye.of)(F._loadedConfig):this.loader.load(E.injector,F)).pipe((0,Gt.zg)(ue=>(F._loadedConfig=ue,this.processRoutes(ue.module,ue.routes)))))}}return w.\u0275fac=function(E){return new(E||w)(a.LFG(ts),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(Io))},w.\u0275prov=a.Yz7({token:w,factory:w.\u0275fac}),w})(),_i=(()=>{class w{constructor(E,F,H={}){this.router=E,this.viewportScroller=F,this.options=H,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},H.scrollPositionRestoration=H.scrollPositionRestoration||"disabled",H.anchorScrolling=H.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Pn&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof qn&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,F){this.router.triggerEvent(new qn(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(E){a.$Z()},w.\u0275prov=a.Yz7({token:w,factory:w.\u0275fac}),w})();const Rs=new a.OlP("ROUTER_CONFIGURATION"),Co=new a.OlP("ROUTER_FORROOT_GUARD"),ho=[vn.Ye,{provide:Yr,useClass:Wr},{provide:ts,useFactory:function Ma(w,v,E,F,H,ue,Be={},nt,Vt){const Nn=new ts(null,w,v,E,F,H,Cn(ue));return nt&&(Nn.urlHandlingStrategy=nt),Vt&&(Nn.routeReuseStrategy=Vt),function hn(w,v){w.errorHandler&&(v.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(v.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(v.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(v.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(v.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(v.canceledNavigationResolution=w.canceledNavigationResolution)}(Be,Nn),Be.enableTracing&&Nn.events.subscribe(Hr=>{var lr,Mr;null===(lr=console.group)||void 0===lr||lr.call(console,`Router Event: ${Hr.constructor.name}`),console.log(Hr.toString()),console.log(Hr),null===(Mr=console.groupEnd)||void 0===Mr||Mr.call(console)}),Nn},deps:[Yr,Ir,vn.Ye,a.zs3,a.Sil,Uo,Rs,[class Sa{},new a.FiY],[Vs,new a.FiY]]},Ir,{provide:kt,useFactory:function Mi(w){return w.routerState.root},deps:[ts]},Qa,Ho,xu,{provide:Rs,useValue:{enableTracing:!1}}];function xa(){return new a.PXZ("Router",ts)}let Do=(()=>{class w{constructor(E,F){}static forRoot(E,F){return{ngModule:w,providers:[ho,qs(E),{provide:Co,useFactory:Es,deps:[[ts,new a.FiY,new a.tp0]]},{provide:Rs,useValue:F||{}},{provide:vn.S$,useFactory:$s,deps:[vn.lw,[new a.tBr(vn.mr),new a.FiY],Rs]},{provide:_i,useFactory:qi,deps:[ts,vn.EM,Rs]},{provide:Io,useExisting:F&&F.preloadingStrategy?F.preloadingStrategy:Ho},{provide:a.PXZ,multi:!0,useFactory:xa},[rs,{provide:a.ip1,multi:!0,useFactory:la,deps:[rs]},{provide:pr,useFactory:Ln,deps:[rs]},{provide:a.tb,multi:!0,useExisting:pr}]]}}static forChild(E){return{ngModule:w,providers:[qs(E)]}}}return w.\u0275fac=function(E){return new(E||w)(a.LFG(Co,8),a.LFG(ts,8))},w.\u0275mod=a.oAB({type:w}),w.\u0275inj=a.cJS({}),w})();function qi(w,v,E){return E.scrollOffset&&v.setOffset(E.scrollOffset),new _i(w,v,E)}function $s(w,v,E={}){return E.useHash?new vn.Do(w,v):new vn.b0(w,v)}function Es(w){return"guarded"}function qs(w){return[{provide:a.deG,multi:!0,useValue:w},{provide:Uo,multi:!0,useValue:w}]}let rs=(()=>{class w{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _t.xQ}appInitializer(){return this.injector.get(vn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let F=null;const H=new Promise(nt=>F=nt),ue=this.injector.get(ts),Be=this.injector.get(Rs);return"disabled"===Be.initialNavigation?(ue.setUpLocationChangeListener(),F(!0)):"enabled"===Be.initialNavigation||"enabledBlocking"===Be.initialNavigation?(ue.hooks.afterPreactivation=()=>this.initNavigation?(0,ye.of)(null):(this.initNavigation=!0,F(!0),this.resultOfPreactivationDone),ue.initialNavigation()):F(!0),H})}bootstrapListener(E){const F=this.injector.get(Rs),H=this.injector.get(Qa),ue=this.injector.get(_i),Be=this.injector.get(ts),nt=this.injector.get(a.z2F);E===nt.components[0]&&(("enabledNonBlocking"===F.initialNavigation||void 0===F.initialNavigation)&&Be.initialNavigation(),H.setUpPreloading(),ue.init(),Be.resetRootComponentType(nt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return w.\u0275fac=function(E){return new(E||w)(a.LFG(a.zs3))},w.\u0275prov=a.Yz7({token:w,factory:w.\u0275fac}),w})();function la(w){return w.appInitializer.bind(w)}function Ln(w){return w.bootstrapListener.bind(w)}const pr=new a.OlP("Router Initializer")},3942:(an,ct,M)=>{"use strict";M.d(ct,{Z:()=>Xe});var a=M(2090),b=M(4859),U=M(9681),Ce=M(1877);class Ie{constructor(Pe,ye){this._delegate=Pe,this.firebase=ye,(0,U._addComponent)(Pe,new b.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Pe,ye=U._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const oe=this._delegate.container.getProvider(Pe);return!oe.isInitialized()&&"EXPLICIT"===(null===(ot=oe.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&oe.initialize(),oe.getImmediate({identifier:ye})}_removeServiceInstance(Pe,ye=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(ye)}_addComponent(Pe){(0,U._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,U._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function pe(){const fe=function _e(fe){const Pe={},ye={__esModule:!0,initializeApp:function ut(He,wt={}){const ve=U.initializeApp(He,wt);if((0,a.r3)(Pe,ve.name))return Pe[ve.name];const Ve=new fe(ve,ye);return Pe[ve.name]=Ve,Ve},app:oe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function at(He){const wt=He.name,ve=wt.replace("-compat","");if(U._registerComponent(He)&&"PUBLIC"===He.type){const Ve=(me=oe())=>{if("function"!=typeof me[ve])throw he.create("invalid-app-argument",{appName:wt});return me[ve]()};void 0!==He.serviceProps&&(0,a.ZB)(Ve,He.serviceProps),ye[ve]=Ve,fe.prototype[ve]=function(...me){return this._getService.bind(this,wt).apply(this,He.multipleInstances?me:[])}}return"PUBLIC"===He.type?ye[ve]:null},removeApp:function ot(He){delete Pe[He]},useAsService:function _t(He,wt){return"serverAuth"===wt?null:wt},modularAPIs:U}};function oe(He){if(!(0,a.r3)(Pe,He=He||U._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:He});return Pe[He]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function ke(){return Object.keys(Pe).map(He=>Pe[He])}}),oe.App=fe,ye}(Ie);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Pe(ye){(0,a.ZB)(fe,ye)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),fe}(),J=new Ce.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=X;!function Ne(fe){(0,U.registerVersion)("@firebase/app-compat","0.1.21",fe)}()},9681:(an,ct,M)=>{"use strict";M.r(ct),M.d(ct,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>pn,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>lt,_addOrOverwriteComponent:()=>gt,_apps:()=>dt,_clearComponents:()=>Dt,_components:()=>ze,_getProvider:()=>je,_registerComponent:()=>et,_removeServiceInstance:()=>Oe,deleteApp:()=>Ft,getApp:()=>vn,getApps:()=>jn,initializeApp:()=>or,onLog:()=>Yn,registerVersion:()=>nr,setLogLevel:()=>Gn});var a=M(5861),b=M(4859),U=M(1877),Ce=M(2090);class Ie{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(Xt=>{if(function K(cn){const Ct=cn.getComponent();return"VERSION"===(null==Ct?void 0:Ct.type)}(Xt)){const Cn=Xt.getImmediate();return`${Cn.library}/${Cn.version}`}return null}).filter(Xt=>Xt).join(" ")}}const he="@firebase/app",pe=new U.Yd("@firebase/app"),bt="[DEFAULT]",pt={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,ze=new Map;function lt(cn,Ct){try{cn.container.addComponent(Ct)}catch(Xt){pe.debug(`Component ${Ct.name} failed to register with FirebaseApp ${cn.name}`,Xt)}}function gt(cn,Ct){cn.container.addOrOverwriteComponent(Ct)}function et(cn){const Ct=cn.name;if(ze.has(Ct))return pe.debug(`There were multiple attempts to register component ${Ct}.`),!1;ze.set(Ct,cn);for(const Xt of dt.values())lt(Xt,cn);return!0}function je(cn,Ct){const Xt=cn.container.getProvider("heartbeat").getImmediate({optional:!0});return Xt&&Xt.triggerHeartbeat(),cn.container.getProvider(Ct)}function Oe(cn,Ct,Xt=bt){je(cn,Ct).clearInstance(Xt)}function Dt(){ze.clear()}const Yt=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ln{constructor(Ct,Xt,Cn){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},Xt),this._name=Xt.name,this._automaticDataCollectionEnabled=Xt.automaticDataCollectionEnabled,this._container=Cn,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const pn="9.6.10";function or(cn,Ct={}){"object"!=typeof Ct&&(Ct={name:Ct});const Xt=Object.assign({name:bt,automaticDataCollectionEnabled:!1},Ct),Cn=Xt.name;if("string"!=typeof Cn||!Cn)throw Yt.create("bad-app-name",{appName:String(Cn)});const _n=dt.get(Cn);if(_n){if((0,Ce.vZ)(cn,_n.options)&&(0,Ce.vZ)(Xt,_n.config))return _n;throw Yt.create("duplicate-app",{appName:Cn})}const Un=new b.H0(Cn);for(const we of ze.values())Un.addComponent(we);const Le=new ln(cn,Xt,Un);return dt.set(Cn,Le),Le}function vn(cn=bt){const Ct=dt.get(cn);if(!Ct)throw Yt.create("no-app",{appName:cn});return Ct}function jn(){return Array.from(dt.values())}function Ft(cn){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(cn){const Ct=cn.name;dt.has(Ct)&&(dt.delete(Ct),yield Promise.all(cn.container.getProviders().map(Xt=>Xt.delete())),cn.isDeleted=!0)})).apply(this,arguments)}function nr(cn,Ct,Xt){var Cn;let _n=null!==(Cn=pt[cn])&&void 0!==Cn?Cn:cn;Xt&&(_n+=`-${Xt}`);const Un=_n.match(/\s|\//),Le=Ct.match(/\s|\//);if(Un||Le){const we=[`Unable to register library "${_n}" with version "${Ct}":`];return Un&&we.push(`library name "${_n}" contains illegal characters (whitespace or "/")`),Un&&Le&&we.push("and"),Le&&we.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void pe.warn(we.join(" "))}et(new b.wA(`${_n}-version`,()=>({library:_n,version:Ct}),"VERSION"))}function Yn(cn,Ct){if(null!==cn&&"function"!=typeof cn)throw Yt.create("invalid-log-argument");(0,U.Am)(cn,Ct)}function Gn(cn){(0,U.Ub)(cn)}const At="firebase-heartbeat-store";let Ke=null;function Ye(){return Ke||(Ke=(0,Ce.X3)("firebase-heartbeat-database",1,(cn,Ct)=>{0===Ct&&cn.createObjectStore(At)}).catch(cn=>{throw Yt.create("storage-open",{originalErrorMessage:cn.message})})),Ke}function xt(){return(xt=(0,a.Z)(function*(cn){try{return(yield Ye()).transaction(At).objectStore(At).get(ar(cn))}catch(Ct){throw Yt.create("storage-get",{originalErrorMessage:Ct.message})}})).apply(this,arguments)}function Ut(cn,Ct){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(cn,Ct){try{const Cn=(yield Ye()).transaction(At,"readwrite");return yield Cn.objectStore(At).put(Ct,ar(cn)),Cn.complete}catch(Xt){throw Yt.create("storage-set",{originalErrorMessage:Xt.message})}})).apply(this,arguments)}function ar(cn){return`${cn.name}!${cn.options.appId}`}class Fr{constructor(Ct){this.container=Ct,this._heartbeatsCache=null;const Xt=this.container.getProvider("app").getImmediate();this._storage=new In(Xt),this._heartbeatsCachePromise=this._storage.read().then(Cn=>(this._heartbeatsCache=Cn,Cn))}triggerHeartbeat(){var Ct=this;return(0,a.Z)(function*(){const Cn=Ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_n=fr();if(null===Ct._heartbeatsCache&&(Ct._heartbeatsCache=yield Ct._heartbeatsCachePromise),Ct._heartbeatsCache.lastSentHeartbeatDate!==_n&&!Ct._heartbeatsCache.heartbeats.some(Un=>Un.date===_n))return Ct._heartbeatsCache.heartbeats.push({date:_n,agent:Cn}),Ct._heartbeatsCache.heartbeats=Ct._heartbeatsCache.heartbeats.filter(Un=>{const Le=new Date(Un.date).valueOf();return Date.now()-Le<=2592e6}),Ct._storage.overwrite(Ct._heartbeatsCache)})()}getHeartbeatsHeader(){var Ct=this;return(0,a.Z)(function*(){if(null===Ct._heartbeatsCache&&(yield Ct._heartbeatsCachePromise),null===Ct._heartbeatsCache||0===Ct._heartbeatsCache.heartbeats.length)return"";const Xt=fr(),{heartbeatsToSend:Cn,unsentEntries:_n}=function Vn(cn,Ct=1024){const Xt=[];let Cn=cn.slice();for(const _n of cn){const Un=Xt.find(Le=>Le.agent===_n.agent);if(Un){if(Un.dates.push(_n.date),Mn(Xt)>Ct){Un.dates.pop();break}}else if(Xt.push({agent:_n.agent,dates:[_n.date]}),Mn(Xt)>Ct){Xt.pop();break}Cn=Cn.slice(1)}return{heartbeatsToSend:Xt,unsentEntries:Cn}}(Ct._heartbeatsCache.heartbeats),Un=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Cn}));return Ct._heartbeatsCache.lastSentHeartbeatDate=Xt,_n.length>0?(Ct._heartbeatsCache.heartbeats=_n,yield Ct._storage.overwrite(Ct._heartbeatsCache)):(Ct._heartbeatsCache.heartbeats=[],Ct._storage.overwrite(Ct._heartbeatsCache)),Un})()}}function fr(){return(new Date).toISOString().substring(0,10)}class In{constructor(Ct){this.app=Ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ct=this;return(0,a.Z)(function*(){return(yield Ct._canUseIndexedDBPromise)&&(yield function jt(cn){return xt.apply(this,arguments)}(Ct.app))||{heartbeats:[]}})()}overwrite(Ct){var Xt=this;return(0,a.Z)(function*(){var Cn;if(yield Xt._canUseIndexedDBPromise){const Un=yield Xt.read();return Ut(Xt.app,{lastSentHeartbeatDate:null!==(Cn=Ct.lastSentHeartbeatDate)&&void 0!==Cn?Cn:Un.lastSentHeartbeatDate,heartbeats:Ct.heartbeats})}})()}add(Ct){var Xt=this;return(0,a.Z)(function*(){var Cn;if(yield Xt._canUseIndexedDBPromise){const Un=yield Xt.read();return Ut(Xt.app,{lastSentHeartbeatDate:null!==(Cn=Ct.lastSentHeartbeatDate)&&void 0!==Cn?Cn:Un.lastSentHeartbeatDate,heartbeats:[...Un.heartbeats,...Ct.heartbeats]})}})()}}function Mn(cn){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:cn})).length}!function Kn(cn){et(new b.wA("platform-logger",Ct=>new Ie(Ct),"PRIVATE")),et(new b.wA("heartbeat",Ct=>new Fr(Ct),"PRIVATE")),nr(he,"0.7.20",cn),nr(he,"0.7.20","esm2017"),nr("fire-js","")}("")},4859:(an,ct,M)=>{"use strict";M.d(ct,{wA:()=>U,H0:()=>_e});var a=M(5861),b=M(2090);class U{constructor(X,J,se){this.name=X,this.instanceFactory=J,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Ce="[DEFAULT]";class Ie{constructor(X,J){this.name=X,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const J=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(J)){const se=new b.BH;if(this.instancesDeferred.set(J,se),this.isInitialized(J)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:J});Z&&se.resolve(Z)}catch(Z){}}return this.instancesDeferred.get(J).promise}getImmediate(X){var J;const se=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),Z=null!==(J=null==X?void 0:X.optional)&&void 0!==J&&J;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ne){if(Z)return null;throw Ne}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function he(pe){return"EAGER"===pe.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(J){}for(const[J,se]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(J);try{const Ne=this.getOrInitializeService({instanceIdentifier:Z});se.resolve(Ne)}catch(Ne){}}}}clearInstance(X=Ce){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,a.Z)(function*(){const J=Array.from(X.instances.values());yield Promise.all([...J.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...J.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Ce){return this.instances.has(X)}getOptions(X=Ce){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:J={}}=X,se=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:se,options:J});for(const[Ne,Xe]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ne)&&Xe.resolve(Z);return Z}onInit(X,J){var se;const Z=this.normalizeInstanceIdentifier(J),Ne=null!==(se=this.onInitCallbacks.get(Z))&&void 0!==se?se:new Set;Ne.add(X),this.onInitCallbacks.set(Z,Ne);const Xe=this.instances.get(Z);return Xe&&X(Xe,Z),()=>{Ne.delete(X)}}invokeOnInitCallbacks(X,J){const se=this.onInitCallbacks.get(J);if(se)for(const Z of se)try{Z(X,J)}catch(Ne){}}getOrInitializeService({instanceIdentifier:X,options:J={}}){let se=this.instances.get(X);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=X,pe===Ce?void 0:pe),options:J}),this.instances.set(X,se),this.instancesOptions.set(X,J),this.invokeOnInitCallbacks(se,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,se)}catch(Z){}var pe;return se||null}normalizeInstanceIdentifier(X=Ce){return this.component?this.component.multipleInstances?X:Ce:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const J=this.getProvider(X.name);if(J.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);J.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const J=new Ie(X,this);return this.providers.set(X,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(an,ct,M)=>{"use strict";M.d(ct,{in:()=>b,Yd:()=>he,Ub:()=>_e,Am:()=>pe});const a=[];var b=(()=>{return(X=b||(b={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",b;var X})();const U={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},Ce=b.INFO,Ie={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},K=(X,J,...se)=>{if(J<X.logLevel)return;const Z=(new Date).toISOString(),Ne=Ie[J];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Ne](`[${Z}]  ${X.name}:`,...se)};class he{constructor(J){this.name=J,this._logLevel=Ce,this._logHandler=K,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in b))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?U[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...J),this._logHandler(this,b.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...J),this._logHandler(this,b.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,b.INFO,...J),this._logHandler(this,b.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,b.WARN,...J),this._logHandler(this,b.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...J),this._logHandler(this,b.ERROR,...J)}}function _e(X){a.forEach(J=>{J.setLogLevel(X)})}function pe(X,J){for(const se of a){let Z=null;J&&J.level&&(Z=U[J.level]),se.userLogHandler=null===X?null:(Ne,Xe,...fe)=>{const Pe=fe.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(ot){return null}}).filter(ye=>ye).join(" ");Xe>=(null!=Z?Z:Ne.logLevel)&&X({level:b[Xe].toLowerCase(),message:Pe,args:fe,type:Ne.name})}}}},2160:(an,ct,M)=>{"use strict";M.d(ct,{N:()=>U});var a=M(6435),b=M(9808);let U=(()=>{class Ce{constructor(K,he){this.document=K,this.platformId=he,this.documentIsAccessible=(0,b.NF)(this.platformId)}static getCookieRegExp(K){const he=K.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+he+"|;\\s*"+he+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(K){try{return decodeURIComponent(K)}catch(he){return K}}check(K){return!!this.documentIsAccessible&&(K=encodeURIComponent(K),Ce.getCookieRegExp(K).test(this.document.cookie))}get(K){if(this.documentIsAccessible&&this.check(K)){K=encodeURIComponent(K);const _e=Ce.getCookieRegExp(K).exec(this.document.cookie);return _e[1]?Ce.safeDecodeURIComponent(_e[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const K={},he=this.document;return he.cookie&&""!==he.cookie&&he.cookie.split(";").forEach(_e=>{const[pe,X]=_e.split("=");K[Ce.safeDecodeURIComponent(pe.replace(/^ /,""))]=Ce.safeDecodeURIComponent(X)}),K}set(K,he,_e,pe,X,J,se){if(!this.documentIsAccessible)return;if("number"==typeof _e||_e instanceof Date||pe||X||J||se)return void this.set(K,he,{expires:_e,path:pe,domain:X,secure:J,sameSite:se||"Lax"});let Z=encodeURIComponent(K)+"="+encodeURIComponent(he)+";";const Ne=_e||{};Ne.expires&&(Z+="number"==typeof Ne.expires?"expires="+new Date((new Date).getTime()+1e3*Ne.expires*60*60*24).toUTCString()+";":"expires="+Ne.expires.toUTCString()+";"),Ne.path&&(Z+="path="+Ne.path+";"),Ne.domain&&(Z+="domain="+Ne.domain+";"),!1===Ne.secure&&"None"===Ne.sameSite&&(Ne.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${K} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),Ne.secure&&(Z+="secure;"),Ne.sameSite||(Ne.sameSite="Lax"),Z+="sameSite="+Ne.sameSite+";",this.document.cookie=Z}delete(K,he,_e,pe,X="Lax"){if(!this.documentIsAccessible)return;const J=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(K,"",{expires:J,path:he,domain:_e,secure:pe,sameSite:X})}deleteAll(K,he,_e,pe="Lax"){if(!this.documentIsAccessible)return;const X=this.getAll();for(const J in X)X.hasOwnProperty(J)&&this.delete(J,K,he,_e,pe)}}return Ce.\u0275fac=function(K){return new(K||Ce)(a.LFG(b.K0),a.LFG(a.Lbi))},Ce.\u0275prov=a.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},5861:(an,ct,M)=>{"use strict";function a(U,Ce,Ie,K,he,_e,pe){try{var X=U[_e](pe),J=X.value}catch(se){return void Ie(se)}X.done?Ce(J):Promise.resolve(J).then(K,he)}function b(U){return function(){var Ce=this,Ie=arguments;return new Promise(function(K,he){var _e=U.apply(Ce,Ie);function pe(J){a(_e,K,he,pe,X,"next",J)}function X(J){a(_e,K,he,pe,X,"throw",J)}pe(void 0)})}}M.d(ct,{Z:()=>b})}},an=>{an(an.s=3940)}]);